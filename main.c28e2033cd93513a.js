"use strict";(self.webpackChunkmom_xmas=self.webpackChunkmom_xmas||[]).push([[792],{2:()=>{function ah(n,e,t,r,i,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function w(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(l){ah(o,r,i,s,a,"next",l)}function a(l){ah(o,r,i,s,a,"throw",l)}s(void 0)})}}function Jm(n,e){return Object.is(n,e)}let fn=null,lh=!1,pw=1;const Bn=Symbol("SIGNAL");function Re(n){const e=fn;return fn=n,e}const Dc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ch(n){if(lh)throw new Error("");if(null===fn)return;fn.consumerOnSignalRead(n);const e=fn.nextProducerIndex++;ig(fn),e<fn.producerNode.length&&fn.producerNode[e]!==n&&hh(fn)&&rg(fn.producerNode[e],fn.producerIndexOfThis[e]),fn.producerNode[e]!==n&&(fn.producerNode[e]=n,fn.producerIndexOfThis[e]=hh(fn)?YN(n,fn,e):0),fn.producerLastReadVersion[e]=n.version}function uh(n){if((!hh(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==pw)){if(!n.producerMustRecompute(n)&&!tg(n))return void eg(n);n.producerRecomputeValue(n),eg(n)}}function KN(n){if(void 0===n.liveConsumerNode)return;const e=lh;lh=!0;try{for(const t of n.liveConsumerNode)t.dirty||gK(t)}finally{lh=e}}function QN(){return!1!==fn?.consumerAllowSignalWrites}function gK(n){n.dirty=!0,KN(n),n.consumerMarkedDirty?.(n)}function eg(n){n.dirty=!1,n.lastCleanEpoch=pw}function Sc(n){return n&&(n.nextProducerIndex=0),Re(n)}function dh(n,e){if(Re(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(hh(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)rg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function tg(n){ig(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(uh(t),r!==t.version))return!0}return!1}function ng(n){if(ig(n),hh(n))for(let e=0;e<n.producerNode.length;e++)rg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function YN(n,e,t){if(XN(n),0===n.liveConsumerNode.length&&ZN(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=YN(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function rg(n,e){if(XN(n),1===n.liveConsumerNode.length&&ZN(n))for(let r=0;r<n.producerNode.length;r++)rg(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ig(i),i.producerIndexOfThis[r]=e}}function hh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ig(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function XN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function ZN(n){return void 0!==n.producerNode}function JN(n,e){const t=Object.create(_K);t.computation=n,void 0!==e&&(t.equal=e);const r=()=>{if(uh(t),ch(t),t.value===Ns)throw t.error;return t.value};return r[Bn]=t,r}const qa=Symbol("UNSET"),Ac=Symbol("COMPUTING"),Ns=Symbol("ERRORED"),_K={...Dc,value:qa,dirty:!0,error:null,equal:Jm,kind:"computed",producerMustRecompute:n=>n.value===qa||n.value===Ac,producerRecomputeValue(n){if(n.value===Ac)throw new Error("Detected cycle in computations.");const e=n.value;n.value=Ac;const t=Sc(n);let r,i=!1;try{r=n.computation(),Re(null),i=e!==qa&&e!==Ns&&r!==Ns&&n.equal(e,r)}catch(o){r=Ns,n.error=o}finally{dh(n,t)}i?n.value=e:(n.value=r,n.version++)}};let eO=function yK(){throw new Error};function tO(n){eO(n)}function sg(n,e){QN()||tO(n),n.equal(n.value,e)||(n.value=e,function EK(n){n.version++,function mK(){pw++}(),KN(n)}(n))}const gw={...Dc,equal:Jm,value:void 0,kind:"signal"};let _w;function ag(){return _w}function Os(n){const e=_w;return _w=n,e}const yw=Symbol("NotFound");function Mt(n){return"function"==typeof n}function vw(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Error;const bw=vw(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function lg(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Zt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Mt(r))try{r()}catch(o){e=o instanceof bw?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{sO(o)}catch(s){e=e??[],s instanceof bw?e=[...e,...s.errors]:e.push(s)}}if(e)throw new bw(e)}}add(e){var t;if(e&&e!==this)if(this.closed)sO(e);else{if(e instanceof Zt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&lg(t,e)}remove(e){const{_finalizers:t}=this;t&&lg(t,e),e instanceof Zt&&e._removeParent(this)}}Zt.EMPTY=(()=>{const n=new Zt;return n.closed=!0,n})();const iO=Zt.EMPTY;function oO(n){return n instanceof Zt||n&&"closed"in n&&Mt(n.remove)&&Mt(n.add)&&Mt(n.unsubscribe)}function sO(n){Mt(n)?n():n.unsubscribe()}const Ga={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},cg={setTimeout(n,e,...t){const{delegate:r}=cg;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=cg;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function aO(n){cg.setTimeout(()=>{const{onUnhandledError:e}=Ga;if(!e)throw n;e(n)})}function ug(){}const SK=Ew("C",void 0,void 0);function Ew(n,e,t){return{kind:n,value:e,error:t}}let Wa=null;function dg(n){if(Ga.useDeprecatedSynchronousErrorHandling){const e=!Wa;if(e&&(Wa={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Wa;if(Wa=null,t)throw r}}else n()}class ww extends Zt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oO(e)&&e.add(this)):this.destination=NK}static create(e,t,r){return new Rc(e,t,r)}next(e){this.isStopped?Cw(function RK(n){return Ew("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Cw(function AK(n){return Ew("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cw(SK,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const MK=Function.prototype.bind;function Iw(n,e){return MK.call(n,e)}class kK{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){hg(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){hg(r)}else hg(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){hg(t)}}}class Rc extends ww{constructor(e,t,r){let i;if(super(),Mt(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ga.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Iw(e.next,o),error:e.error&&Iw(e.error,o),complete:e.complete&&Iw(e.complete,o)}):i=e}this.destination=new kK(i)}}function hg(n){Ga.useDeprecatedSynchronousErrorHandling?function xK(n){Ga.useDeprecatedSynchronousErrorHandling&&Wa&&(Wa.errorThrown=!0,Wa.error=n)}(n):aO(n)}function Cw(n,e){const{onStoppedNotification:t}=Ga;t&&cg.setTimeout(()=>t(n,e))}const NK={closed:!0,next:ug,error:function PK(n){throw n},complete:ug},Tw="function"==typeof Symbol&&Symbol.observable||"@@observable";function Fs(n){return n}function lO(n){return 0===n.length?Fs:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let at=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function LK(n){return n&&n instanceof ww||function FK(n){return n&&Mt(n.next)&&Mt(n.error)&&Mt(n.complete)}(n)&&oO(n)}(t)?t:new Rc(t,r,i);return dg(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=cO(r))((i,o)=>{const s=new Rc({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Tw](){return this}pipe(...t){return lO(t)(this)}toPromise(t){return new(t=cO(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function cO(n){var e;return null!==(e=n??Ga.Promise)&&void 0!==e?e:Promise}const VK=vw(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let he=(()=>{class n extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new uO(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new VK}next(t){dg(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){dg(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){dg(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?iO:(this.currentObservers=null,o.push(t),new Zt(()=>{this.currentObservers=null,lg(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new at;return t.source=this,t}}return n.create=(e,t)=>new uO(e,t),n})();class uO extends he{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:iO}}class It extends he{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function dO(n){return Mt(n?.lift)}function Jt(n){return e=>{if(dO(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Bt(n,e,t,r,i){return new BK(n,e,t,r,i)}class BK extends ww{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ve(n,e){return Jt((t,r)=>{let i=0;t.subscribe(Bt(r,o=>{r.next(n.call(e,o,i++))}))})}const hO="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class N extends Error{code;constructor(e,t){super(lo(e,t)),this.code=e}}function lo(n,e){return`${function UK(n){return`NG0${Math.abs(n)}`}(n)}${e?": "+e:""}`}const fg=Symbol("InputSignalNode#UNSET"),fO={...gw,transformFn:void 0,applyValueToInputSignal(n,e){sg(n,e)}};function pO(n,e){const t=Object.create(fO);function r(){if(ch(t),t.value===fg)throw new N(-950,null);return t.value}return t.value=n,t.transformFn=e?.transform,r[Bn]=t,r}function Ho(n){return{toString:n}.toString()}const Mc="__parameters__";function Pc(n,e,t){return Ho(()=>{const r=function Dw(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const h=l.hasOwnProperty(Mc)?l[Mc]:Object.defineProperty(l,Mc,{value:[]})[Mc];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const en=globalThis;function ut(n){for(let e in n)if(n[e]===ut)return e;throw Error("Could not find renamed property on target object.")}function jK(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function An(n){if("string"==typeof n)return n;if(Array.isArray(n))return`[${n.map(An).join(", ")}]`;if(null==n)return""+n;const e=n.overriddenName||n.name;if(e)return`${e}`;const t=n.toString();if(null==t)return""+t;const r=t.indexOf("\n");return r>=0?t.slice(0,r):t}function Sw(n,e){return n?e?`${n} ${e}`:n:e||""}const HK=ut({__forward_ref__:ut});function Ct(n){return n.__forward_ref__=Ct,n.toString=function(){return An(this())},n}function Ie(n){return pg(n)?n():n}function pg(n){return"function"==typeof n&&n.hasOwnProperty(HK)&&n.__forward_ref__===Ct}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yt(n){return{providers:n.providers||[],imports:n.imports||[]}}function mg(n){return gO(n,_g)||gO(n,_O)}function gO(n,e){return n.hasOwnProperty(e)?n[e]:null}function gg(n){return n&&(n.hasOwnProperty(Aw)||n.hasOwnProperty(KK))?n[Aw]:null}const _g=ut({\u0275prov:ut}),Aw=ut({\u0275inj:ut}),_O=ut({ngInjectableDef:ut}),KK=ut({ngInjectorDef:ut});class j{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Mw(n){return n&&!!n.\u0275providers}const Nc=ut({\u0275cmp:ut}),kw=ut({\u0275dir:ut}),Pw=ut({\u0275pipe:ut}),vO=ut({\u0275mod:ut}),zo=ut({\u0275fac:ut}),fh=ut({__NG_ELEMENT_ID__:ut}),bO=ut({__NG_ENV_ID__:ut});function Te(n){return"string"==typeof n?n:null==n?"":String(n)}function EO(n,e){throw new N(-200,n)}function Nw(n,e){throw new N(-201,!1)}var Pe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Pe||{});let Ow;function wO(){return Ow}function Vr(n){const e=Ow;return Ow=n,e}function IO(n,e,t){const r=mg(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Pe.Optional?null:void 0!==e?e:void Nw()}const Qa={},Fw="__NG_DI_FLAG__";class CO{injector;constructor(e){this.injector=e}retrieve(e,t){return this.injector.get(e,t.optional?yw:Qa,t)}}const bg="ngTempTokenPath",JK=/\n/gm,TO="__source";function tQ(n,e=Pe.Default){if(void 0===ag())throw new N(-203,!1);if(null===ag())return IO(n,void 0,e);{const t=ag();let r;return r=t instanceof CO?t.injector:t,r.get(n,e&Pe.Optional?null:void 0,e)}}function ae(n,e=Pe.Default){return(wO()||tQ)(Ie(n),e)}function v(n,e=Pe.Default){return ae(n,Eg(e))}function Eg(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Lw(n){const e=[];for(let t=0;t<n.length;t++){const r=Ie(n[t]);if(Array.isArray(r)){if(0===r.length)throw new N(900,!1);let i,o=Pe.Default;for(let s=0;s<r.length;s++){const a=r[s],l=nQ(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(ae(i,o))}else e.push(ae(r))}return e}function ph(n,e){return n[Fw]=e,n.prototype[Fw]=e,n}function nQ(n){return n[Fw]}const Un=ph(Pc("Optional"),8),mh=ph(Pc("SkipSelf"),4);function Ya(n,e){return n.hasOwnProperty(zo)?n[zo]:null}function Oc(n,e){n.forEach(t=>Array.isArray(t)?Oc(t,e):e(t))}function SO(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function wg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ei(n,e,t){let r=gh(n,e);return r>=0?n[1|r]=t:(r=~r,function RO(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Vw(n,e){const t=gh(n,e);if(t>=0)return n[1|t]}function gh(n,e){return function cQ(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Hi={},Ze=[],Ei=new j(""),xO=new j("",-1),Bw=new j("");class Cg{get(e,t=Qa){if(t===Qa){const r=new Error(`NullInjectorError: No provider for ${An(e)}!`);throw r.name="NullInjectorError",r}return t}}function ti(n,e){const t=n[vO]||null;if(!t&&!0===e)throw new Error(`Type ${An(n)} does not have '\u0275mod' property.`);return t}function Be(n){return n[Nc]||null}function er(n){return n[kw]||null}function ni(n){return n[Pw]||null}function wi(n){return{\u0275providers:n}}function uQ(...n){return{\u0275providers:Uw(0,n),\u0275fromNgModule:!0}}function Uw(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Oc(e,s=>{const a=s;Tg(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&MO(i,o),t}function MO(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];jw(i,o=>{e(o,r)})}}function Tg(n,e,t,r){if(!(n=Ie(n)))return!1;let i=null,o=gg(n);const s=!o&&Be(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=gg(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Tg(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Oc(o.imports,u=>{Tg(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&MO(c,e)}if(!a){const c=Ya(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ze},i),e({provide:Bw,useValue:i,multi:!0},i),e({provide:Ei,useValue:()=>ae(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=n;jw(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function jw(n,e){for(let t of n)Mw(t)&&(t=t.\u0275providers),Array.isArray(t)?jw(t,e):e(t)}const dQ=ut({provide:String,useValue:ut});function Hw(n){return null!==n&&"object"==typeof n&&dQ in n}function Za(n){return"function"==typeof n}const zw=new j(""),Dg={},NO={};let $w;function Sg(){return void 0===$w&&($w=new Cg),$w}class tr{}class Ja extends tr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Gw(e,s=>this.processProvider(s)),this.records.set(xO,Fc(void 0,this)),i.has("environment")&&this.records.set(tr,Fc(void 0,this));const o=this.records.get(zw);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Bw,Ze,Pe.Self))}retrieve(e,t){return this.get(e,t.optional?yw:Qa,t)}destroy(){_h(this),this._destroyed=!0;const e=Re(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Re(e)}}onDestroy(e){return _h(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){_h(this);const t=Os(this),r=Vr(void 0);try{return e()}finally{Os(t),Vr(r)}}get(e,t=Qa,r=Pe.Default){if(_h(this),e.hasOwnProperty(bO))return e[bO](this);r=Eg(r);const o=Os(this),s=Vr(void 0);try{if(!(r&Pe.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function _Q(n){return"function"==typeof n||"object"==typeof n&&n instanceof j}(e)&&mg(e);l=c&&this.injectableDefInScope(c)?Fc(qw(e),Dg):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l,r)}return(r&Pe.Self?Sg():this.parent).get(e,t=r&Pe.Optional&&t===Qa?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[bg]=a[bg]||[]).unshift(An(e)),o)throw a;return function rQ(n,e,t,r){const i=n[bg];throw e[TO]&&i.unshift(e[TO]),n.message=function iQ(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=An(e);if(Array.isArray(e))i=e.map(An).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):An(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(JK,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[bg]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Vr(s),Os(o)}}resolveInjectorInitializers(){const e=Re(null),t=Os(this),r=Vr(void 0);try{const o=this.get(Ei,Ze,Pe.Self);for(const s of o)s()}finally{Os(t),Vr(r),Re(e)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(An(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){let t=Za(e=Ie(e))?e:Ie(e&&e.provide);const r=function pQ(n){return Hw(n)?Fc(void 0,n.useValue):Fc(OO(n),Dg)}(e);if(!Za(e)&&!0===e.multi){let i=this.records.get(t);i||(i=Fc(void 0,Dg,!0),i.factory=()=>Lw(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){const i=Re(null);try{return t.value===NO?EO(An(e)):t.value===Dg&&(t.value=NO,t.value=t.factory(void 0,r)),"object"==typeof t.value&&t.value&&function gQ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Re(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ie(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function qw(n){const e=mg(n),t=null!==e?e.factory:Ya(n);if(null!==t)return t;if(n instanceof j)throw new N(204,!1);if(n instanceof Function)return function fQ(n){if(n.length>0)throw new N(204,!1);const t=function WK(n){return n&&(n[_g]||n[_O])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new N(204,!1)}function OO(n,e,t){let r;if(Za(n)){const i=Ie(n);return Ya(i)||qw(i)}if(Hw(n))r=()=>Ie(n.useValue);else if(function PO(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Lw(n.deps||[]));else if(function kO(n){return!(!n||!n.useExisting)}(n))r=(i,o)=>ae(Ie(n.useExisting),void 0!==o&&o&Pe.Optional?Pe.Optional:void 0);else{const i=Ie(n&&(n.useClass||n.provide));if(!function mQ(n){return!!n.deps}(n))return Ya(i)||qw(i);r=()=>new i(...Lw(n.deps))}return r}function _h(n){if(n.destroyed)throw new N(205,!1)}function Fc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Gw(n,e){for(const t of n)Array.isArray(t)?Gw(t,e):t&&Mw(t)?Gw(t.\u0275providers,e):e(t)}function ri(n,e){let t;n instanceof Ja?(_h(n),t=n):t=new CO(n);const i=Os(t),o=Vr(void 0);try{return e()}finally{Os(i),Vr(o)}}function Ww(){return void 0!==wO()||null!=ag()}function el(n){if(!Ww())throw new N(-203,!1)}function tn(n){return Array.isArray(n)&&"object"==typeof n[1]}function xn(n){return Array.isArray(n)&&!0===n[1]}function Yw(n){return!!(4&n.flags)}function $i(n){return n.componentOffset>-1}function kg(n){return!(1&~n.flags)}function oi(n){return!!n.template}function qo(n){return!!(512&n[2])}function Go(n){return!(256&~n[2])}class RQ{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function zO(n,e,t,r){null!==e?e.applyValueToInputSignal(e,r):n[t]=r}const Hn=(()=>{const n=()=>$O;return n.ngInherit=!0,n})();function $O(n){return n.type.prototype.ngOnChanges&&(n.setInput=MQ),xQ}function xQ(){const n=GO(this),e=n?.current;if(e){const t=n.previous;if(t===Hi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function MQ(n,e,t,r,i){const o=this.declaredInputs[r],s=GO(n)||function kQ(n,e){return n[qO]=e}(n,{previous:Hi,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new RQ(c&&c.currentValue,t,l===Hi),zO(n,e,i,t)}const qO="__ngSimpleChanges__";function GO(n){return n[qO]||null}function Qe(n){for(;Array.isArray(n);)n=n[0];return n}function zc(n,e){return Qe(e[n])}function wr(n,e){return Qe(e[n.index])}function il(n,e){return n.data[e]}function ol(n,e){return n[e]}function Jw(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Ir(n,e){const t=e[n];return tn(t)?t:t[0]}function eI(n){return!(128&~n[2])}function Ii(n,e){return null==e?null:n[e]}function QO(n){n[17]=0}function tI(n){1024&n[2]||(n[2]|=1024,eI(n)&&$c(n))}function bh(n){return!!(9216&n[2]||n[24]?.dirty)}function nI(n){n[10].changeDetectionScheduler?.notify(8),64&n[2]&&(n[2]|=1024),bh(n)&&$c(n)}function $c(n){n[10].changeDetectionScheduler?.notify(0);let e=Wo(n);for(;null!==e&&!(8192&e[2])&&(e[2]|=8192,eI(e));)e=Wo(e)}function Ng(n,e){if(Go(n))throw new N(911,!1);null===n[21]&&(n[21]=[]),n[21].push(e)}function Wo(n){const e=n[3];return xn(e)?e[3]:e}function iI(n){return n[7]??=[]}function oI(n){return n.cleanup??=[]}const Ce={lFrame:o1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let aI=!1;function lI(){return Ce.bindingsEnabled}function sl(){return null!==Ce.skipHydrationRootTNode}function V(){return Ce.lFrame.lView}function Ee(){return Ce.lFrame.tView}function Mn(n){return Ce.lFrame.contextLView=n,n[8]}function kn(n){return Ce.lFrame.contextLView=null,n}function Ve(){let n=XO();for(;null!==n&&64===n.type;)n=n.parent;return n}function XO(){return Ce.lFrame.currentTNode}function qi(n,e){const t=Ce.lFrame;t.currentTNode=n,t.isParent=e}function cI(){return Ce.lFrame.isParent}function uI(){Ce.lFrame.isParent=!1}function e1(){return aI}function Fg(n){const e=aI;return aI=n,e}function Cr(){const n=Ce.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ci(){return Ce.lFrame.bindingIndex++}function Qo(n){const e=Ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function WQ(n,e){const t=Ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,dI(e)}function dI(n){Ce.lFrame.currentDirectiveIndex=n}function fI(){return Ce.lFrame.currentQueryIndex}function Lg(n){Ce.lFrame.currentQueryIndex=n}function QQ(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[5]:null}function r1(n,e,t){if(t&Pe.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&Pe.Host||(i=QQ(o),null===i||(o=o[14],10&i.type))););if(null===i)return!1;e=i,n=o}const r=Ce.lFrame=i1();return r.currentTNode=e,r.lView=n,!0}function pI(n){const e=i1(),t=n[1];Ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function i1(){const n=Ce.lFrame,e=null===n?null:n.child;return null===e?o1(n):e}function o1(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function s1(){const n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const a1=s1;function mI(){const n=s1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function nr(){return Ce.lFrame.selectedIndex}function al(n){Ce.lFrame.selectedIndex=n}function pt(){const n=Ce.lFrame;return il(n.tView,n.selectedIndex)}function Vg(){Ce.lFrame.currentNamespace="svg"}let u1=!0;function wh(){return u1}function ho(n){u1=n}function gI(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Bg(n,e,t){d1(n,e,3,t)}function Ug(n,e,t,r){(3&n[2])===t&&d1(n,e,t,r)}function _I(n,e){let t=n[2];(3&t)===e&&(t&=16383,t+=1,n[2]=t)}function d1(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[17]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[17]+=65536),(a<o||-1==o)&&(eY(n,t,e,l),n[17]=(4294901760&n[17])+l+2),l++}function h1(n,e){const t=Re(null);try{e.call(n)}finally{Re(t)}}function eY(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[2]>>14<n[17]>>16&&(3&n[2])===e&&(n[2]+=16384,h1(a,o)):h1(a,o)}class Ih{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}}function f1(n){return 3===n||4===n||6===n}function p1(n){return 64===n.charCodeAt(0)}function Gc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||m1(n,t,i,0,-1===t||2===t?e[++r]:null)}}return n}function m1(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t)return void(null!==i&&(n[o+1]=i));o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i)}function bI(n){return-1!==n}function Ch(n){return 32767&n}function Th(n,e){let t=function oY(n){return n>>16}(n),r=e;for(;t>0;)r=r[14],t--;return r}let EI=!0;function jg(n){const e=EI;return EI=n,e}let sY=0;const fo={};function Hg(n,e){const t=y1(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,wI(r.data,n),wI(e,null),wI(r.blueprint,null));const i=zg(n,e),o=n.injectorIndex;if(bI(i)){const s=Ch(i),a=Th(i,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function wI(n,e){n.push(0,0,0,0,0,0,0,0,e)}function y1(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function zg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=T1(i),null===r)return-1;if(t++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function II(n,e,t){!function aY(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(fh)&&(r=t[fh]),null==r&&(r=t[fh]=sY++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function v1(n,e,t){if(t&Pe.Optional||void 0!==n)return n;Nw()}function b1(n,e,t,r){if(t&Pe.Optional&&void 0===r&&(r=null),!(t&(Pe.Self|Pe.Host))){const i=n[9],o=Vr(void 0);try{return i?i.get(e,r,t&Pe.Optional):IO(e,r,t&Pe.Optional)}finally{Vr(o)}}return v1(r,0,t)}function E1(n,e,t,r=Pe.Default,i){if(null!==n){if(2048&e[2]&&!(r&Pe.Self)){const s=function hY(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[2]&&!qo(s);){const a=w1(o,s,t,r|Pe.Self,fo);if(a!==fo)return a;let l=o.parent;if(!l){const c=s[20];if(c){const u=c.get(t,fo,r);if(u!==fo)return u}l=T1(s),s=s[14]}o=l}return i}(n,e,t,r,fo);if(s!==fo)return s}const o=w1(n,e,t,r,fo);if(o!==fo)return o}return b1(e,t,r,i)}function w1(n,e,t,r,i){const o=function uY(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(fh)?n[fh]:void 0;return"number"==typeof e?e>=0?255&e:dY:e}(t);if("function"==typeof o){if(!r1(e,n,r))return r&Pe.Host?v1(i,0,r):b1(e,t,r,i);try{let s;if(s=o(r),null!=s||r&Pe.Optional)return s;Nw()}finally{a1()}}else if("number"==typeof o){let s=null,a=y1(n,e),l=-1,c=r&Pe.Host?e[15][5]:null;for((-1===a||r&Pe.SkipSelf)&&(l=-1===a?zg(n,e):e[a+8],-1!==l&&C1(r,!1)?(s=e[1],a=Ch(l),e=Th(l,e)):a=-1);-1!==a;){const u=e[1];if(I1(o,a,u.data)){const h=cY(a,e,t,s,r,c);if(h!==fo)return h}l=e[a+8],-1!==l&&C1(r,e[1].data[a+8]===c)&&I1(o,a,e)?(s=u,a=Ch(l),e=Th(l,e)):a=-1}}return i}function cY(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],u=$g(a,s,t,null==r?$i(a)&&EI:r!=s&&!!(3&a.type),i&Pe.Host&&o===a);return null!==u?Dh(e,s,u,a,i):fo}function $g(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,f=i?a+u:n.directiveEnd;for(let p=r?a:a+u;p<f;p++){const g=s[p];if(p<l&&t===g||p>=l&&g.type===t)return p}if(i){const p=s[l];if(p&&oi(p)&&p.type===t)return l}return null}function Dh(n,e,t,r,i){let o=n[t];const s=e.data;if(o instanceof Ih){const a=o;a.resolving&&EO(function it(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Te(n)}(s[t]));const l=jg(a.canSeeViewProviders);a.resolving=!0;const u=a.injectImpl?Vr(a.injectImpl):null;r1(n,r,Pe.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function JQ(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=$O(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,s[t],e)}finally{null!==u&&Vr(u),jg(l),a.resolving=!1,a1()}}return o}function I1(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function C1(n,e){return!(n&Pe.Self||n&Pe.Host&&e)}class nn{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return E1(this._tNode,this._lView,e,Eg(r),t)}}function dY(){return new nn(Ve(),V())}function Ne(n){return Ho(()=>{const e=n.prototype.constructor,t=e[zo]||CI(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[zo]||CI(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function CI(n){return pg(n)?()=>{const e=CI(Ie(n));return e&&e()}:Ya(n)}function T1(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[5]:null}function x1(n,e=null,t=null,r){const i=M1(n,e,t,r);return i.resolveInjectorInitializers(),i}function M1(n,e=null,t=null,r,i=new Set){const o=[t||Ze,uQ(n)];return r=r||("object"==typeof n?void 0:An(n)),new Ja(o,e||Sg(),r||null,i)}class We{static THROW_IF_NOT_FOUND=Qa;static NULL=new Cg;static create(e,t){if(Array.isArray(e))return x1({name:""},t,e,"");{const r=e.name??"";return x1({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:We,providedIn:"any",factory:()=>ae(xO)});static __NG_ELEMENT_ID__=-1}class k1{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>function Sh(n){return function lY(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(f1(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Ve(),n)}(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}new j("").__NG_ELEMENT_ID__=n=>{const e=Ve();if(null===e)throw new N(204,!1);if(2&e.type)return e.value;if(n&Pe.Optional)return null;throw new N(204,!1)};const P1=!1;let po=(()=>class n{static __NG_ELEMENT_ID__=EY;static __NG_ENV_ID__=t=>t})();class N1 extends po{_lView;constructor(e){super(),this._lView=e}onDestroy(e){const t=this._lView;return Go(t)?(e(),()=>{}):(Ng(t,e),()=>function rI(n,e){if(null===n[21])return;const t=n[21].indexOf(e);-1!==t&&n[21].splice(t,1)}(t,e))}}function EY(){return new N1(V())}class Yo{}const Ah=new j("",{providedIn:"root",factory:()=>!1}),O1=new j(""),DI=new j("");let cl=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new It(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),Gg=(()=>{class n{internalPendingTasks=v(cl);scheduler=v(Yo);add(){const t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){var r=this;return w(function*(){const i=r.add();try{return yield t()}finally{i()}})()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})();const ot=class wY extends he{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Ww()&&(this.destroyRef=v(po,{optional:!0})??void 0,this.pendingTasks=v(cl,{optional:!0})??void 0)}emit(e){const t=Re(null);try{super.next(e)}finally{Re(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Zt&&e.add(a),a}wrapInTimeout(e){return t=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function Rh(...n){}function F1(n){let e,t;function r(){n=Rh;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function L1(n){return queueMicrotask(()=>n()),()=>{n=Rh}}const SI="isAngularZone",Wg=SI+"_ID";let IY=0;class le{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ot(!1);onMicrotaskEmpty=new ot(!1);onStable=new ot(!1);onError=new ot(!1);constructor(e){const{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=P1}=e;if(typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,function DY(n){const e=()=>{!function TY(n){function e(){F1(()=>{n.callbackScheduled=!1,RI(n),n.isCheckStableRunning=!0,AI(n),n.isCheckStableRunning=!1})}n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),RI(n))}(n)},t=IY++;n._inner=n._inner.fork({name:"angular",properties:{[SI]:!0,[Wg]:t,[Wg+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(function SY(n){return U1(n,"__ignore_ng_zone__")}(l))return r.invokeTask(o,s,a,l);try{return V1(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),B1(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return V1(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function AY(n){return U1(n,"__scheduler_tick__")}(l)&&e(),B1(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,RI(n),AI(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(SI)}static assertInAngularZone(){if(!le.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(le.isInAngularZone())throw new N(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,CY,Rh,Rh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const CY={};function AI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function RI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function V1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function B1(n){n._nesting--,AI(n)}class xI{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ot;onMicrotaskEmpty=new ot;onStable=new ot;onError=new ot;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}function U1(n,e){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[e]}class Ur{_console=console;handleError(e){this._console.error("ERROR",e)}}const xY=new j("",{providedIn:"root",factory:()=>{const n=v(le),e=v(Ur);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function H1(n,e){return pO(n,e)}const kY=(H1.required=function MY(n){return pO(fg,n)},H1);function PY(){return Wc(Ve(),V())}function Wc(n,e){return new Oe(wr(n,e))}let Oe=(()=>class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=PY})();function z1(n){return n instanceof Oe?n.nativeElement:n}function MI(n){return"function"==typeof n&&void 0!==n[Bn]}function Gi(n,e){const t=function bK(n,e){const t=Object.create(gw);t.value=n,void 0!==e&&(t.equal=e);const r=()=>(ch(t),t.value);return r[Bn]=t,r}(n,e?.equal),r=t[Bn];return t.set=i=>sg(r,i),t.update=i=>function nO(n,e){QN()||tO(n),sg(n,e(n.value))}(r,i),t.asReadonly=Kg.bind(t),t}function Kg(){const n=this[Bn];if(void 0===n.readonlyFn){const e=()=>this();e[Bn]=n,n.readonlyFn=e}return n.readonlyFn}function $1(n){return MI(n)&&"function"==typeof n.set}function NY(){return this._results[Symbol.iterator]()}class q1{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new he}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const r=function Br(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function lQ(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=NY}function Mh(n){return!(128&~n.flags)}var Qg=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Qg||{});const Yg=new Map;let FY=0;function PI(n){Yg.delete(n[19])}const OI="__ngContext__";function Hr(n,e){tn(e)?(n[OI]=e[19],function VY(n){Yg.set(n[19],n)}(e)):n[OI]=e}function eF(n){return nF(n[12])}function tF(n){return nF(n[4])}function nF(n){for(;null!==n&&!xn(n);)n=n[4];return n}let LI;const Wi=new j("",{providedIn:"root",factory:()=>rX}),rX="ng",VI=new j(""),Kc=new j("",{providedIn:"platform",factory:()=>"unknown"}),go=new j(""),BI=new j("",{providedIn:"root",factory:()=>function mo(){if(void 0!==LI)return LI;if(typeof document<"u")return document;throw new N(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),hF=new j("",{providedIn:"root",factory:()=>!1});var YI=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(YI||{});const Yc=new j(""),gF=new Set;function zr(n){gF.has(n)||(gF.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}let n_=(()=>class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=lX})();function lX(){return new n_(V(),Ve())}var Xc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Xc||{});let XI=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})();const _F=[Xc.EarlyRead,Xc.Write,Xc.MixedReadWrite,Xc.Read];let yF=(()=>{class n{ngZone=v(le);scheduler=v(Yo);errorHandler=v(Ur,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){v(Yc,{optional:!0})}execute(){this.executing=!0;for(const r of _F)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[r])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,i.hooks[r])(i.pipelinedValue),i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){const{view:r}=t;void 0!==r?((r[25]??=[]).push(t),$c(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(YI.AFTER_NEXT_RENDER,t):t()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})();class vF{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const e=this.view?.[25];e&&(this.view[25]=e.filter(t=>t!==this))}}function r_(n,e){!e?.injector&&el();const t=e?.injector??v(We);return zr("NgAfterRender"),bF(n,t,e,!1)}function Us(n,e){!e?.injector&&el();const t=e?.injector??v(We);return zr("NgAfterNextRender"),bF(n,t,e,!0)}function bF(n,e,t,r){const i=e.get(XI);i.impl??=e.get(yF);const o=e.get(Yc,null,{optional:!0}),s=t?.phase??Xc.MixedReadWrite,a=!0!==t?.manualCleanup?e.get(po):null,l=e.get(n_,null,{optional:!0}),c=new vF(i.impl,function cX(n,e){if(n instanceof Function){const t=[void 0,void 0,void 0,void 0];return t[e]=n,t}return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}(n,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}function GF(n,e){const t=n.contentQueries;if(null!==t){const r=Re(null);try{for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const a=n.data[s];Lg(t[i]),a.contentQueries(2,e[s],s)}}}finally{Re(r)}}}function dC(n,e,t){Lg(0);const r=Re(null);try{e(n,t)}finally{Re(r)}}function hC(n,e,t){if(Yw(e)){const r=Re(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Re(r)}}}var Ti=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ti||{});let p_;function ou(n){return function YF(){if(void 0===p_&&(p_=null,en.trustedTypes))try{p_=en.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return p_}()?.createHTML(n)||n}class hl{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hO})`}}class XX extends hl{getTypeName(){return"HTML"}}class ZX extends hl{getTypeName(){return"Style"}}class JX extends hl{getTypeName(){return"Script"}}class eZ extends hl{getTypeName(){return"URL"}}class tZ extends hl{getTypeName(){return"ResourceURL"}}function si(n){return n instanceof hl?n.changingThisBreaksApplicationSecurity:n}function _o(n,e){const t=function nZ(n){return n instanceof hl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${hO})`)}return t===e}class lZ{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ou(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}}class cZ{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=ou(e),t}}const dZ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function g_(n){return(n=String(n)).match(dZ)?n:"unsafe:"+n}function Jo(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function $h(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const tL=Jo("area,br,col,hr,img,wbr"),nL=Jo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rL=Jo("rp,rt"),gC=$h(tL,$h(nL,Jo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$h(rL,Jo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$h(rL,nL)),_C=Jo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iL=$h(_C,Jo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hZ=Jo("script,style,template");class fZ{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)i.push(t),t=gZ(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=mZ(t);if(o){t=o;break}t=i.pop()}return this.buf.join("")}startElement(e){const t=oL(e).toLowerCase();if(!gC.hasOwnProperty(t))return this.sanitizedSomething=!0,!hZ.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!iL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;_C[a]&&(l=g_(l)),this.buf.push(" ",s,'="',aL(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=oL(e).toLowerCase();gC.hasOwnProperty(t)&&!tL.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(aL(e))}}function mZ(n){const e=n.nextSibling;if(e&&n!==e.previousSibling)throw sL(e);return e}function gZ(n){const e=n.firstChild;if(e&&function pZ(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,e))throw sL(e);return e}function oL(n){const e=n.nodeName;return"string"==typeof e?e:"FORM"}function sL(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const _Z=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yZ=/([^\#-~ |!])/g;function aL(n){return n.replace(/&/g,"&amp;").replace(_Z,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(yZ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let __;function lL(n,e){let t=null;try{__=__||function eL(n){const e=new cZ(n);return function uZ(){try{return!!(new window.DOMParser).parseFromString(ou(""),"text/html")}catch{return!1}}()?new lZ(e):e}(n);let r=e?String(e):"";t=__.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=__.getInertBodyElement(r)}while(r!==o);return ou((new fZ).sanitizeChildren(yC(t)||t))}finally{if(t){const r=yC(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function yC(n){return"content"in n&&function vZ(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}const bZ=/^>|^->|<!--|-->|--!>|<!-$/g,EZ=/(<|>)/g;function bC(n,e){return n.createComment(function cL(n){return n.replace(bZ,e=>e.replace(EZ,"\u200b$1\u200b"))}(e))}function y_(n,e,t){return n.createElement(e,t)}function fl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function dL(n,e,t){n.appendChild(e,t)}function hL(n,e,t,r,i){null!==r?fl(n,e,t,r,i):dL(n,e,t)}function pL(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&function iY(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];p1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}}(n,e,r),null!==i&&function CZ(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}(n,e,i),null!==o&&function IZ(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}var rr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(rr||{});function yL(n){return n.ownerDocument.defaultView}function yo(n){return n instanceof Function?n():n}function UZ(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const IL="ng-template";function jZ(n,e,t,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==UZ(e[i+1].toLowerCase(),t,0))return!0}else if(EC(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===t)return!0}return!1}function EC(n){return 4===n.type&&n.value!==IL}function HZ(n,e,t){return e===(4!==n.type||t?n.value:IL)}function zZ(n,e,t){let r=4;const i=n.attrs,o=null!==i?function GZ(n){for(let e=0;e<n.length;e++)if(f1(n[e]))return e;return n.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!HZ(n,l,t)||""===l&&1===e.length){if(Ki(r))return!1;s=!0}}else if(8&r){if(null===i||!jZ(n,i,l,t)){if(Ki(r))return!1;s=!0}}else{const c=e[++a],u=$Z(l,i,EC(n),t);if(-1===u){if(Ki(r))return!1;s=!0;continue}if(""!==c){let h;if(h=u>o?"":i[u+1].toLowerCase(),2&r&&c!==h){if(Ki(r))return!1;s=!0}}}}else{if(!s&&!Ki(r)&&!Ki(l))return!1;if(s&&Ki(l))continue;s=!1,r=l|1&r}}return Ki(r)||s}function Ki(n){return!(1&n)}function $Z(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function WZ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function CL(n,e,t=!1){for(let r=0;r<e.length;r++)if(zZ(n,e[r],t))return!0;return!1}function KZ(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function TL(n,e){return n?":not("+e.trim()+")":e}function QZ(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ki(s)&&(e+=TL(o,i),i=""),r=s,o=o||!Ki(r);t++}return""!==i&&(e+=TL(o,i)),e}const De={};function wC(n,e,t,r,i,o,s,a,l,c,u){const h=26+r,f=h+i,p=function ZZ(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:De);return t}(h,f),g="function"==typeof c?c():c;return p[1]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function b_(n,e,t,r,i,o,s,a,l,c,u){const h=e.blueprint.slice();return h[0]=i,h[2]=1228|r,(null!==c||n&&2048&n[2])&&(h[2]|=2048),QO(h),h[3]=h[14]=n,h[8]=t,h[10]=s||n&&n[10],h[11]=a||n&&n[11],h[9]=l||n&&n[9]||null,h[5]=o,h[19]=function LY(){return FY++}(),h[6]=u,h[20]=c,h[15]=2==e.type?n[15]:h,h}function IC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Wh(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function CC(n,e){return n[12]?n[13][4]=e:n[12]=e,n[13]=e,e}function te(n=1){SL(Ee(),V(),nr()+n,!1)}function SL(n,e,t,r){if(!r)if(3&~e[2]){const o=n.preOrderHooks;null!==o&&Ug(e,o,0,t)}else{const o=n.preOrderCheckHooks;null!==o&&Bg(e,o,t)}al(t)}var E_=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(E_||{});function TC(n,e,t,r){const i=Re(null);try{const[o,s,a]=n.inputs[t];let l=null;!!(s&E_.SignalBased)&&(l=e[o][Bn]),null!==l&&void 0!==l.transformFn?r=l.transformFn(r):null!==a&&(r=a.call(e,r)),null!==n.setInput?n.setInput(e,l,r,t,o):zO(e,l,o,r)}finally{Re(i)}}function AL(n,e,t,r,i){const o=nr(),s=2&r;try{al(-1),s&&e.length>26&&SL(n,e,26,!1),t(r,i)}finally{al(o)}}function w_(n,e,t){(function sJ(n,e,t){const r=t.directiveStart,i=t.directiveEnd;$i(t)&&function JZ(n,e,t){const r=wr(e,n),i=function DL(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=wC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}(t),o=n[10].rendererFactory,s=CC(n,b_(n,i,null,IC(t),r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Hg(t,e);const o=t.initialInputs;for(let s=r;s<i;s++){const a=n.data[s],l=Dh(e,n,s,t);Hr(l,e),null!==o&&cJ(0,s-r,l,a,0,o),oi(a)&&(Ir(t.index,e)[8]=Dh(e,n,s,t))}})(n,e,t),!(64&~t.flags)&&function aJ(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function KQ(){return Ce.lFrame.currentDirectiveIndex}();try{al(o);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];dI(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&lJ(l,c)}}finally{al(-1),dI(s)}}(n,e,t)}function DC(n,e,t=wr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}let RL=()=>null;function $r(n,e,t,r,i,o,s,a){if(a||!xC(e,n,t,r,i)){if(3&e.type){const l=wr(e,t);r=function iJ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i)}}else $i(e)&&function oJ(n,e){const t=Ir(e,n);16&t[2]||(t[2]|=64)}(t,e.index)}function lJ(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function SC(n,e){const t=n.directiveRegistry;let r=null;if(t)for(let i=0;i<t.length;i++){const o=t[i];CL(e,o.selectors,!1)&&(r??=[],oi(o)?r.unshift(o):r.push(o))}return r}function vo(n,e,t,r,i,o){const s=wr(n,e);!function AC(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Te(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function cJ(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;a+=2)TC(r,t,s[a],s[a+1])}function xC(n,e,t,r,i){const o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r];let a=!1;if(s)for(let l=0;l<s.length;l+=2){const c=s[l];TC(e.data[c],t[c],s[l+1],i),a=!0}if(o)for(const l of o)TC(e.data[l],t[l],r,i),a=!0;return a}function uJ(n,e){const t=Ir(e,n),r=t[1];!function dJ(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[0];null!==i&&null===t[6]&&(t[6]=null),I_(r,t,t[8])}function I_(n,e,t){pI(e);try{const r=n.viewQuery;null!==r&&dC(1,r,t);const i=n.template;null!==i&&AL(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[18]?.finishViewCreation(n),n.staticContentQueries&&GF(n,e),n.staticViewQueries&&dC(2,n.viewQuery,t);const o=n.components;null!==o&&function hJ(n,e){for(let t=0;t<e.length;t++)uJ(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,mI()}}function au(n,e,t,r){const i=Re(null);try{const o=e.tView,l=b_(n,o,t,4096&n[2]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[16]=n[e.index];const u=n[18];return null!==u&&(l[18]=u.createEmbeddedView(o)),I_(o,l,t),l}finally{Re(i)}}function pl(n,e){return!e||null===e.firstChild||Mh(n)}function kC(n,e){return undefined(n,e)}var js=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(js||{});function Hs(n){return!(32&~n.flags)}function lu(n,e,t,r,i){if(null!=r){let o,s=!1;xn(r)?o=r:tn(r)&&(s=!0,r=r[0]);const a=Qe(r);0===n&&null!==t?null==i?dL(e,t,a):fl(e,t,a,i||null,!0):1===n&&null!==t?fl(e,t,a,i||null,!0):2===n?function qh(n,e,t){n.removeChild(null,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function vJ(n,e,t,r,i){const o=t[7];o!==Qe(t)&&lu(e,n,r,o,i);for(let a=10;a<t.length;a++){const l=t[a];T_(l[1],l,n,e,r,o)}}(e,n,o,t,i)}}function PL(n,e){e[10].changeDetectionScheduler?.notify(9),T_(n,e,e[11],2,null,null)}function PC(n,e){const t=n[9],r=t.indexOf(e);t.splice(r,1)}function Kh(n,e){if(Go(e))return;const t=e[11];t.destroyNode&&T_(n,e,t,3,null,null),function mJ(n){let e=n[12];if(!e)return NC(n[1],n);for(;e;){let t=null;if(tn(e))t=e[12];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)tn(e)&&NC(e[1],e),e=e[3];null===e&&(e=n),tn(e)&&NC(e[1],e),t=e&&e[4]}e=t}}(e)}function NC(n,e){if(Go(e))return;const t=Re(null);try{e[2]&=-129,e[2]|=256,e[24]&&ng(e[24]),function _J(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ih)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function gJ(n,e){const t=n.cleanup,r=e[7];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[7]=null);const i=e[21];if(null!==i){e[21]=null;for(let s=0;s<i.length;s++)(0,i[s])()}const o=e[23];if(null!==o){e[23]=null;for(const s of o)s.destroy()}}(n,e),1===e[1].type&&e[11].destroy();const r=e[16];if(null!==r&&xn(e[3])){r!==e[3]&&PC(r,e);const i=e[18];null!==i&&i.detachView(n)}PI(e)}finally{Re(t)}}function OC(n,e,t){return function NL(n,e,t){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return t[0];if($i(r)){const{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Ti.None||i===Ti.Emulated)return null}return wr(r,t)}(n,e.parent,t)}function OL(n,e,t){return LL(n,e,t)}let LL=function FL(n,e,t){return 40&n.type?wr(n,t):null};function C_(n,e,t,r){const i=OC(n,r,e),o=e[11],a=OL(r.parent||e[5],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)hL(o,i,t[l],a,!1);else hL(o,i,t,a,!1)}function ml(n,e){if(null!==e){const t=e.type;if(3&t)return wr(e,n);if(4&t)return LC(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return ml(n,r);{const i=n[e.index];return xn(i)?LC(-1,i):Qe(i)}}if(128&t)return ml(n,e.next);if(32&t)return kC(e,n)()||Qe(n[e.index]);{const r=BL(n,e);return null!==r?Array.isArray(r)?r[0]:ml(Wo(n[15]),r):ml(n,e.next)}}return null}function BL(n,e){return null!==e?n[15][5].projection[e.projection]:null}function LC(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return ml(r,i)}return e[7]}function VC(n,e,t,r,i,o,s){for(;null!=t;){if(128===t.type){t=t.next;continue}const a=r[t.index],l=t.type;if(s&&0===e&&(a&&Hr(Qe(a),r),t.flags|=2),!Hs(t))if(8&l)VC(n,e,t.child,r,i,o,!1),lu(e,n,i,a,o);else if(32&l){const c=kC(t,r);let u;for(;u=c();)lu(e,n,i,u,o);lu(e,n,i,a,o)}else 16&l?UL(n,e,r,t,i,o):lu(e,n,i,a,o);t=s?t.projectionNext:t.next}}function T_(n,e,t,r,i,o){VC(t,r,n.firstChild,e,i,o,!1)}function UL(n,e,t,r,i,o){const s=t[15],l=s[5].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)lu(e,n,i,l[c],o);else{let c=l;const u=s[3];Mh(r)&&(c.flags|=128),VC(n,e,c,u,i,o,!0)}}function cu(n,e,t,r,i=!1){for(;null!==t;){if(128===t.type){t=i?t.projectionNext:t.next;continue}const o=e[t.index];null!==o&&r.push(Qe(o)),xn(o)&&BC(o,r);const s=t.type;if(8&s)cu(n,e,t.child,r);else if(32&s){const a=kC(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=BL(e,t);if(Array.isArray(a))r.push(...a);else{const l=Wo(e[15]);cu(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function BC(n,e){for(let t=10;t<n.length;t++){const r=n[t],i=r[1].firstChild;null!==i&&cu(r[1],r,i,e)}n[7]!==n[0]&&e.push(n[7])}function jL(n){if(null!==n[25]){for(const e of n[25])e.impl.addSequence(e);n[25].length=0}}let HL=[];const CJ={...Dc,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{$c(n.lView)},consumerOnSignalRead(){this.lView[24]=this}},DJ={...Dc,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Wo(n.lView);for(;e&&!zL(e[1]);)e=Wo(e);e&&tI(e)},consumerOnSignalRead(){this.lView[24]=this}};function zL(n){return 2!==n.type}function $L(n){if(null===n[23])return;let e=!0;for(;e;){let t=!1;for(const r of n[23])r.dirty&&(t=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(8192&n[2])}}function D_(n,e=!0,t=0){const i=n[10].rendererFactory;i.begin?.();try{!function AJ(n,e){const t=e1();try{Fg(!0),UC(n,e);let r=0;for(;bh(n);){if(100===r)throw new N(103,!1);r++,UC(n,1)}}finally{Fg(t)}}(n,t)}catch(s){throw e&&function RC(n,e){const t=n[9],r=t?t.get(Ur,null):null;r&&r.handleError(e)}(n,s),s}finally{i.end?.()}}function GL(n,e,t,r){if(Go(e))return;const i=e[2];pI(e);let a=!0,l=null,c=null;zL(n)?(c=function EJ(n){return n[24]??function wJ(n){const e=HL.pop()??Object.create(CJ);return e.lView=n,e}(n)}(e),l=Sc(c)):null===function mw(){return fn}()?(a=!1,c=function TJ(n){const e=n[24]??Object.create(DJ);return e.lView=n,e}(e),l=Sc(c)):e[24]&&(ng(e[24]),e[24]=null);try{QO(e),function t1(n){return Ce.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&AL(n,e,t,2,r);const u=!(3&~i);if(u){const p=n.preOrderCheckHooks;null!==p&&Bg(e,p,null)}else{const p=n.preOrderHooks;null!==p&&Ug(e,p,0,null),_I(e,0)}if(function RJ(n){for(let e=eF(n);null!==e;e=tF(e)){if(!(2&e[2]))continue;const t=e[9];for(let r=0;r<t.length;r++)tI(t[r])}}(e),$L(e),WL(e,0),null!==n.contentQueries&&GF(n,e),u){const p=n.contentCheckHooks;null!==p&&Bg(e,p)}else{const p=n.contentHooks;null!==p&&Ug(e,p,1),_I(e,1)}!function MJ(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)al(~i);else{const o=i,s=t[++r],a=t[++r];WQ(s,o);const l=e[o];a(2,l)}}}finally{al(-1)}}(n,e);const h=n.components;null!==h&&QL(e,h,0);const f=n.viewQuery;if(null!==f&&dC(2,f,r),u){const p=n.viewCheckHooks;null!==p&&Bg(e,p)}else{const p=n.viewHooks;null!==p&&Ug(e,p,2),_I(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[22]){for(const p of e[22])p();e[22]=null}jL(e),e[2]&=-73}catch(u){throw $c(e),u}finally{null!==c&&(dh(c,l),a&&function IJ(n){n.lView[24]!==n&&(n.lView=null,HL.push(n))}(c)),mI()}}function WL(n,e){for(let t=eF(n);null!==t;t=tF(t))for(let r=10;r<t.length;r++)KL(t[r],e)}function xJ(n,e,t){const r=Ir(e,n);KL(r,t)}function KL(n,e){eI(n)&&UC(n,e)}function UC(n,e){const r=n[1],i=n[2],o=n[24];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!tg(o)),s||=!1,o&&(o.dirty=!1),n[2]&=-9217,s)GL(r,n,r.template,n[8]);else if(8192&i){$L(n),WL(n,1);const a=r.components;null!==a&&QL(n,a,1),jL(n)}}function QL(n,e,t){for(let r=0;r<e.length;r++)xJ(n,e[r],t)}function Qh(n,e){const t=e1()?64:1088;for(n[10].changeDetectionScheduler?.notify(e);n;){n[2]|=t;const r=Wo(n);if(qo(n)&&!r)return n;n=r}return null}function YL(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function uu(n,e,t,r=!0){const i=e[1];if(function kJ(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],SO(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[16];null!==s&&t!==s&&ZL(s,e);const a=e[18];null!==a&&a.insertView(n),nI(e),e[2]|=128}(i,e,n,t),r){const s=LC(t,n),a=e[11],l=a.parentNode(n[7]);null!==l&&function pJ(n,e,t,r,i,o){r[0]=i,r[5]=e,T_(n,r,t,1,i,o)}(i,n[5],a,e,l,s)}const o=e[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Yh(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[16];null!==i&&i!==n&&PC(i,r),e>0&&(n[t-1][4]=r[4]);const o=wg(n,10+e);!function kL(n,e){PL(n,e),e[0]=null,e[5]=null}(r[1],r);const s=o[18];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ZL(n,e){const t=n[9],r=e[3];(tn(r)||e[15]!==r[3][15])&&(n[2]|=2),null===t?n[9]=[e]:t.push(e)}let Xh=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const e=this._lView,t=e[1];return cu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return Go(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(xn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Yh(e,r),wg(t,r))}this._attachedToViewContainer=!1}Kh(this._lView[1],this._lView)}onDestroy(e){Ng(this._lView,e)}markForCheck(){Qh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){nI(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,D_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=qo(this._lView),t=this._lView[16];null!==t&&!e&&PC(t,this._lView),PL(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e;const t=qo(this._lView),r=this._lView[16];null!==r&&!t&&ZL(r,this._lView),nI(this._lView)}},$n=(()=>class n{static __NG_ELEMENT_ID__=OJ})();const PJ=$n,NJ=class extends PJ{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=au(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Xh(i)}};function OJ(){return S_(Ve(),V())}function S_(n,e){return 4&n.type?new NJ(e,n,Wc(n,e)):null}function du(n,e,t,r,i){let o=n.data[e];if(null===o)o=function qC(n,e,t,r,i){const o=XO(),s=cI(),l=n.data[e]=function qJ(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return sl()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return function $J(n,e,t,r){null===n.firstChild&&(n.firstChild=e),null!==t&&(r?null==t.child&&null!==e.parent&&(t.child=e):null===t.next&&(t.next=e,e.prev=t))}(n,l,o,s),l}(n,e,t,r,i),function GQ(){return Ce.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Eh(){const n=Ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return qi(o,!0),o}let Mee=class{},EV=class{};class kee{resolveComponentFactory(e){throw Error(`No component factory found for ${An(e)}.`)}}let N_=class{static NULL=new kee};class Di{}let ai=(()=>class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>function Pee(){const n=V(),t=Ir(Ve().index,n);return(tn(t)?t:n)[11]}()})(),Nee=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>null})}return n})();const eT={};class pu{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Eg(r);const i=this.injector.get(e,eT,r);return i!==eT||t===eT?i:this.parentInjector.get(e,t,r)}}function tT(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Sw(i,a):2==o&&(r=Sw(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function z(n,e=Pe.Default){const t=V();return null===t?ae(n,e):E1(Ve(),t,Ie(n),e)}function nT(n,e,t,r,i){const o=null===r?null:{"":-1},s=i(n,t);if(null!==s){let a,l=null,c=null;const u=function Uee(n){let e=null,t=!1;for(let s=0;s<n.length;s++){const a=n[s];if(0===s&&oi(a)&&(e=a),null!==a.findHostDirectiveDefs){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(const s of n)null!==s.findHostDirectiveDefs&&(r??=[],i??=new Map,o??=new Map,jee(s,r,o,i)),s===e&&(r??=[],r.push(s));return null!==r?(r.push(...null===e?n:n.slice(1)),[r,i,o]):null}(s);null===u?a=s:[a,l,c]=u,function zee(n,e,t,r,i,o,s){const a=r.length;let l=!1;for(let f=0;f<a;f++){const p=r[f];!l&&oi(p)&&(l=!0,Hee(n,t,f)),II(Hg(t,e),n,p.type)}!function Qee(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,a);for(let f=0;f<a;f++){const p=r[f];p.providersResolver&&p.providersResolver(p)}let c=!1,u=!1,h=Wh(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){const p=r[f];if(t.mergedAttrs=Gc(t.mergedAttrs,p.hostAttrs),qee(n,t,e,h,p),Kee(h,p,i),null!==s&&s.has(p)){const[y,E]=s.get(p);t.directiveToIndex.set(p.type,[h,y+t.directiveStart,E+t.directiveStart])}else(null===o||!o.has(p))&&t.directiveToIndex.set(p.type,h);null!==p.contentQueries&&(t.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=64);const g=p.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),h++}!function $ee(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){const i=n.data[r];if(null!==t&&t.has(i)){const o=t.get(i);CV(0,e,o,r),CV(1,e,o,r),DV(e,r,!0)}else IV(0,e,i,r),IV(1,e,i,r),DV(e,r,!1)}}(n,t,o)}(n,e,t,a,o,l,c)}null!==o&&null!==r&&function Bee(n,e,t){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new N(-301,!1);r.push(e[i],o)}}(t,r,o)}function jee(n,e,t,r){const i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function Hee(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function IV(n,e,t,r){const i=0===n?t.inputs:t.outputs;for(const o in i)if(i.hasOwnProperty(o)){let s;s=0===n?e.inputs??={}:e.outputs??={},s[o]??=[],s[o].push(r),TV(e,o)}}function CV(n,e,t,r){const i=0===n?t.inputs:t.outputs;for(const o in i)if(i.hasOwnProperty(o)){const s=i[o];let a;a=0===n?e.hostDirectiveInputs??={}:e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),TV(e,s)}}function TV(n,e){"class"===e?n.flags|=8:"style"===e&&(n.flags|=16)}function DV(n,e,t){const{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(null===r||!t&&null===i||t&&null===o||EC(n))return n.initialInputs??=[],void n.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(!t&&i.hasOwnProperty(l)){const c=i[l];for(const u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){const c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}n.initialInputs??=[],n.initialInputs.push(s)}function qee(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Ya(i.type)),s=new Ih(o,oi(i),z);n.blueprint[r]=s,t[r]=s,function Gee(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function Wee(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,Wh(n,t,i.hostVars,De),i)}function Kee(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;oi(e)&&(t[""]=n)}}function SV(n,e,t,r,i,o,s,a){const l=e.consts,u=du(e,n,2,r,Ii(l,s));return o&&nT(e,t,u,Ii(l,a),i),u.mergedAttrs=Gc(u.mergedAttrs,u.attrs),null!==u.attrs&&tT(u,u.attrs,!1),null!==u.mergedAttrs&&tT(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}function AV(n,e){gI(n,e),Yw(e)&&n.queries.elementEnd(e)}class RV extends N_{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Be(e);return new cf(t,this.ngModule)}}class cf extends EV{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function Yee(n){return Object.keys(n).map(e=>{const[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:!!(r&E_.SignalBased)};return i&&(o.transform=i),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function Xee(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function YZ(n){return n.map(QZ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){const o=Re(null);try{const s=this.componentDef,a=r?["ng-version","19.2.17"]:function XZ(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Ki(i))break;i=o}r++}return t.length&&e.push(1,...t),e}(this.componentDef.selectors[0]),l=wC(0,null,null,1,0,null,null,null,null,[a],null),c=function Zee(n,e,t){let r=e instanceof tr?e:e?.injector;return r&&null!==n.getStandaloneInjector&&(r=n.getStandaloneInjector(r)||r),r?new pu(t,r):t}(s,i||this.ngModule,e),u=function Jee(n){const e=n.get(Di,null);if(null===e)throw new N(407,!1);return{rendererFactory:e,sanitizer:n.get(Nee,null),changeDetectionScheduler:n.get(Yo,null)}}(c),h=u.rendererFactory.createRenderer(null,s),f=r?function eJ(n,e,t,r){const o=r.get(hF,!1)||t===Ti.ShadowDom,s=n.selectRootElement(e,o);return function tJ(n){RL(n)}(s),s}(h,r,s.encapsulation,c):function ete(n,e){const t=(n.selectors[0][0]||"div").toLowerCase();return y_(e,t,"svg"===t?"svg":"math"===t?"math":null)}(s,h),p=b_(null,l,null,512|IC(s),null,null,u,h,c,null,null);p[26]=f,pI(p);let g=null;try{const y=SV(26,l,p,"#host",()=>[this.componentDef],!0,0);f&&(pL(h,f,y),Hr(f,p)),w_(l,p,y),hC(l,y,p),AV(l,y),void 0!==t&&function nte(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o&&o.length?Array.from(o):null)}}(y,this.ngContentSelectors,t),g=Ir(y.index,p),p[8]=g[8],I_(l,p,null)}catch(y){throw null!==g&&PI(g),PI(p),y}finally{mI()}return new tte(this.componentType,p)}finally{Re(o)}}}class tte extends Mee{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=il(t[1],26),this.location=Wc(this._tNode,t),this.instance=Ir(this._tNode.index,t)[8],this.hostView=this.changeDetectorRef=new Xh(t,void 0,!1),this.componentType=e}setInput(e,t){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const i=this._rootLView;xC(r,i[1],i,e,t),this.previousInputValues.set(e,t),Qh(Ir(r.index,i),1)}get injector(){return new nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}let qn=(()=>class n{static __NG_ELEMENT_ID__=rte})();function rte(){return kV(Ve(),V())}const ite=qn,xV=class extends ite{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Wc(this._hostTNode,this._hostLView)}get injector(){return new nn(this._hostTNode,this._hostLView)}get parentInjector(){const e=zg(this._hostTNode,this._hostLView);if(bI(e)){const t=Th(e,this._hostLView),r=Ch(e);return new nn(t[1].data[r+8],t)}return new nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=MV(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,pl(this._hostTNode,null)),a}createComponent(e,t,r,i,o){const s=e&&!function yh(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?e:new cf(Be(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const y=(s?c:this.parentInjector).get(tr,null);y&&(o=y)}Be(l.componentType??{});const p=l.create(c,i,null,o);return this.insertImpl(p.hostView,a,pl(this._hostTNode,null)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){const i=e._lView;if(function FQ(n){return xn(n[3])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[3],c=new xV(l,l[5],l[3]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return uu(s,i,o,r),e.attachToViewContainerRef(),SO(rT(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=MV(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Yh(this._lContainer,t);r&&(wg(rT(this._lContainer),t),Kh(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Yh(this._lContainer,t);return r&&null!=wg(rT(this._lContainer),t)?new Xh(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function MV(n){return n[8]}function rT(n){return n[8]||(n[8]=[])}function kV(n,e){let t;const r=e[n.index];return xn(r)?t=r:(t=YL(r,e,null,n),e[n.index]=t,CC(e,t)),PV(t,e,n,r),new xV(t,n,e)}let PV=function OV(n,e,t,r){if(n[7])return;let i;i=8&t.type?Qe(r):function ote(n,e){const t=n[11],r=t.createComment(""),i=wr(e,n),o=t.parentNode(i);return fl(t,o,r,t.nextSibling(i),!1),r}(e,t),n[7]=i};class oT{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new oT(this.queryList)}setDirty(){this.queryList.setDirty()}}class sT{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new sT(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==dT(e,t).matches&&this.queries[t].setDirty()}}class FV{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof e?function fte(n){return n.split(",").map(e=>e.trim())}(e):e}}class aT{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new aT(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class lT{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new lT(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,cte(t,o)),this.matchTNodeWithReadOption(e,t,$g(t,e,o,!1,!1))}else r===$n?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,$g(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Oe||i===qn||i===$n&&4&t.type)this.addMatch(t.index,-2);else{const o=$g(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function cte(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function dte(n,e,t,r){return-1===t?function ute(n,e){return 11&n.type?Wc(n,e):4&n.type?S_(n,e):null}(e,n):-2===t?function hte(n,e,t){return t===Oe?Wc(e,n):t===$n?S_(e,n):t===qn?kV(e,n):void 0}(n,e,r):Dh(n,n[1],t,e)}function LV(n,e,t,r){const i=e[18].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:dte(e,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function cT(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=LV(n,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let h=10;h<u.length;h++){const f=u[h];f[16]===f[3]&&cT(f[1],f,c,r)}if(null!==u[9]){const h=u[9];for(let f=0;f<h.length;f++){const p=h[f];cT(p[1],p,c,r)}}}}}return r}function uT(n,e){return n[18].queries[e].queryList}function VV(n,e,t){const r=new q1(!(4&~t));return function LQ(n,e,t,r){const i=iI(e);i.push(t),n.firstCreatePass&&oI(n).push(r,i.length-1)}(n,e,r,r.destroy),(e[18]??=new sT).queries.push(new oT(r))-1}function UV(n,e,t,r){const i=Ee();if(i.firstCreatePass){const o=Ve();jV(i,new FV(e,t,r),o.index),function pte(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),!(2&~t)&&(i.staticContentQueries=!0)}return VV(i,V(),t)}function jV(n,e,t){null===n.queries&&(n.queries=new aT),n.queries.track(new lT(e,t))}function dT(n,e){return n.queries.getByIndex(e)}function HV(n,e){const t=n[1],r=dT(t,e);return r.crossesNgTemplate?cT(t,n,e,[]):LV(t,n,r,e)}function hT(n,e,t){let r;const i=JN(()=>{r._dirtyCounter();const o=function mte(n,e){const t=n._lView,r=n._queryIndex;if(void 0===t||void 0===r||4&t[2])return e?void 0:Ze;const i=uT(t,r),o=HV(t,r);return i.reset(o,z1),e?i.first:i._changesDetected||void 0===n._flatValue?n._flatValue=i.toArray():n._flatValue}(r,n);if(e&&void 0===o)throw new N(-951,!1);return o});return r=i[Bn],r._dirtyCounter=Gi(0),r._flatValue=void 0,i}function WV(n,e){return function zV(n){return hT(!0,!1)}()}const _te=(WV.required=function gte(n,e){return function $V(n){return hT(!0,!0)}()},WV);let es=class{},e2=class{};class pT extends es{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new RV(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;const o=ti(e);this._bootstrapComponents=yo(o.bootstrap),this._r3Injector=M1(e,t,[{provide:es,useValue:this},{provide:N_,useValue:this.componentFactoryResolver},...r],An(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class mT extends e2{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new pT(this.moduleType,e,[])}}class t2 extends es{injector;componentFactoryResolver=new RV(this);instance=null;constructor(e){super();const t=new Ja([...e.providers,{provide:es,useValue:this},{provide:N_,useValue:this.componentFactoryResolver}],e.parent||Sg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function gT(n,e,t=null){return new t2({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Ste=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Uw(0,t.type),i=r.length>0?gT([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(ae(tr))})}return n})();function He(n){return Ho(()=>{const e=n2(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Qg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Ste).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ti.Emulated,styles:n.styles||Ze,_:null,schemas:n.schemas||null,tView:null,id:""};e.standalone&&zr("NgStandalone"),r2(t);const r=n.dependencies;return t.directiveDefs=F_(r,!1),t.pipeDefs=F_(r,!0),t.id=function Pte(n){let e=0;const r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,"function"==typeof n.consts?"":n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(const o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function Ate(n){return Be(n)||er(n)}function Rte(n){return null!==n}function Tt(n){return Ho(()=>({type:n.type,bootstrap:n.bootstrap||Ze,declarations:n.declarations||Ze,imports:n.imports||Ze,exports:n.exports||Ze,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xte(n,e){if(null==n)return Hi;const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=E_.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function Mte(n){if(null==n)return Hi;const e={};for(const t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Q(n){return Ho(()=>{const e=n2(n);return r2(e),e})}function qr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function n2(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Hi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:!0===n.signals,selectors:n.selectors||Ze,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xte(n.inputs,e),outputs:Mte(n.outputs),debugInfo:null}}function r2(n){n.features?.forEach(e=>e(n))}function F_(n,e){if(!n)return null;const t=e?ni:Ate;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Rte)}function ce(n){let e=function i2(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(oi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new N(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=_T(n.inputs),s.declaredInputs=_T(n.declaredInputs),s.outputs=_T(n.outputs);const a=i.hostBindings;a&&Vte(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&Fte(n,l),c&&Lte(n,c),Nte(n,i),jK(n.outputs,i.outputs),oi(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ce&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Ote(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Gc(i.hostAttrs,t=Gc(t,i.hostAttrs))}}(r)}function Nte(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const r=e.inputs[t];void 0!==r&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function _T(n){return n===Hi?{}:n===Ze?[]:n}function Fte(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Lte(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function Vte(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function o2(n){const e=t=>{const r=Array.isArray(n);null===t.hostDirectives?(t.findHostDirectiveDefs=s2,t.hostDirectives=r?n.map(yT):[n]):r?t.hostDirectives.unshift(...n.map(yT)):t.hostDirectives.unshift(n)};return e.ngInherit=!0,e}function s2(n,e,t){if(null!==n.hostDirectives)for(const r of n.hostDirectives)if("function"==typeof r){const i=r();for(const o of i)a2(yT(o),e,t)}else a2(r,e,t)}function a2(n,e,t){const r=er(n.directive);(function Hte(n,e){for(const t in e)e.hasOwnProperty(t)&&(n[e[t]]=n[t])})(r.declaredInputs,n.inputs),s2(r,e,t),t.set(r,n),e.push(r)}function yT(n){return"function"==typeof n?{directive:Ie(n),inputs:Hi,outputs:Hi}:{directive:Ie(n.directive),inputs:l2(n.inputs),outputs:l2(n.outputs)}}function l2(n){if(void 0===n||0===n.length)return Hi;const e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}function L_(n){return!!function vT(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function bo(n,e,t){return n[e]=t}function rn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function hf(n,e,t,r,i,o,s,a,l,c){const u=t+26,h=e.firstCreatePass?function Gte(n,e,t,r,i,o,s,a,l){const c=e.consts,u=du(e,n,4,s||null,a||null);lI()&&nT(e,t,u,Ii(c,l),SC),u.mergedAttrs=Gc(u.mergedAttrs,u.attrs),gI(e,u);const h=u.tView=wC(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,e,n,r,i,o,s,a,l):e.data[u];qi(h,!1);const f=u2(e,n,h,t);wh()&&C_(e,n,f,h),Hr(f,n);const p=YL(f,n,f,h);return n[u]=p,CC(n,p),kg(h)&&w_(e,n,h),null!=l&&DC(n,h,c),h}function Fe(n,e,t,r,i,o,s,a){const l=V(),c=Ee();return hf(l,c,n,e,t,r,i,Ii(c.consts,o),s,a),Fe}let u2=function d2(n,e,t,r){return ho(!0),e[11].createComment("")};let wT=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const C2=new j("");let T2=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>new qne})}return n})();class qne{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){const r=this.queues.get(e.zone);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){const t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);const r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,t]of this.queues)null===e?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(const t of e)e.delete(t),this.queuedEffectCount--,t.run()}}function pf(n){return!!n&&"function"==typeof n.then}function D2(n){return!!n&&"function"==typeof n.subscribe}const S2=new j("");function Gne(n){return wi([{provide:S2,multi:!0,useValue:n}])}let A2=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=v(S2,{optional:!0})??[];injector=v(We);constructor(){}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=ri(this.injector,i);if(pf(o))t.push(o);else if(D2(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mf=new j("");let ir=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(xY);afterRenderManager=v(XI);zonelessEnabled=v(Ah);rootEffectScheduler=v(T2);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new he;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=v(cl).hasPendingTasks.pipe(ve(t=>!t));constructor(){v(Yc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=v(tr);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=We.NULL){const o=t instanceof EV;if(!this._injector.get(A2).done)throw new N(405,"");let a;a=o?t:this._injector.get(N_).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const l=function Wne(n){return n.isBoundToModule}(a)?void 0:this._injector.get(es),u=a.create(i,[],r||a.selector,l),h=u.location.nativeElement,f=u.injector.get(C2,null);return f?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),z_(this.components,u),f?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){null!==this.tracingSnapshot?this.tracingSnapshot.run(YI.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new N(101,!1);const t=Re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Re(t),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Di,null,{optional:!0}));let t=0;for(;0!==this.dirtyFlags&&t++<10;)this.synchronizeOnce()}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const t=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Qne(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:t})=>bh(t))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;z_(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(mf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>z_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new N(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function z_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Qne(n,e,t,r){(t||bh(n))&&D_(n,e,t&&!r?0:1)}function vt(n,e,t,r){const i=V();return rn(i,Ci(),e)&&(Ee(),vo(pt(),i,n,e,t,r)),vt}function vu(n,e,t,r){return rn(n,Ci(),t)?e+Te(t)+r:De}function $_(n,e){return n<<17|e<<2}function bl(n){return n>>17&32767}function PT(n){return 2|n}function Su(n){return(131068&n)>>2}function NT(n,e){return-131069&n|e<<2}function OT(n){return 1|n}function K2(n,e,t,r){const i=n[t+1],o=null===e;let s=r?bl(i):Su(i),a=!1;for(;0!==s&&(!1===a||o);){const c=n[s+1];Ore(n[s],e)&&(a=!0,n[s+1]=r?OT(c):PT(c)),s=r?bl(c):Su(c)}a&&(n[t+1]=r?PT(i):OT(i))}function Ore(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&gh(n,e)>=0}const Pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Q2(n){return n.substring(Pn.key,Pn.keyEnd)}function Y2(n,e){const t=Pn.textEnd;return t===e?-1:(e=Pn.keyEnd=function Bre(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Pn.key=e,t),Au(n,e,t))}function Au(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ue(n,e,t){const r=V();return rn(r,Ci(),e)&&$r(Ee(),pt(),r,n,e,r[11],t,!1),Ue}function FT(n,e,t,r,i){xC(e,n,t,i?"class":"style",r)}function Dr(n,e,t){return Qi(n,e,t,!1),Dr}function Ye(n,e){return Qi(n,e,null,!0),Ye}function Ru(n){!function Yi(n,e,t,r){const i=Ee(),o=Qo(2);i.firstUpdatePass&&nB(i,null,o,r);const s=V();if(t!==De&&rn(s,o,t)){const a=i.data[nr()];if(sB(a,r)&&!tB(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Sw(l,t||"")),FT(i,a,s,t,r)}else!function Qre(n,e,t,r,i,o,s,a){i===De&&(i=Ze);let l=0,c=0,u=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==u||null!==h;){const f=l<i.length?i[l+1]:void 0,p=c<o.length?o[c+1]:void 0;let y,g=null;u===h?(l+=2,c+=2,f!==p&&(g=h,y=p)):null===h||null!==u&&u<h?(l+=2,g=u):(c+=2,g=h,y=p),null!==g&&iB(n,e,t,r,g,y,s,a),u=l<i.length?i[l]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function Wre(n,e,t){if(null==t||""===t)return Ze;const r=[],i=si(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(Kre,wo,n,!0)}function wo(n,e){for(let t=function Lre(n){return function Z2(n){Pn.key=0,Pn.keyEnd=0,Pn.value=0,Pn.valueEnd=0,Pn.textEnd=n.length}(n),Y2(n,Au(n,0,Pn.textEnd))}(e);t>=0;t=Y2(e,t))ei(n,Q2(e),!0)}function Qi(n,e,t,r){const i=V(),o=Ee(),s=Qo(2);o.firstUpdatePass&&nB(o,n,s,r),e!==De&&rn(i,s,e)&&iB(o,o.data[nr()],i,i[11],n,i[s+1]=function Yre(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=An(si(n)))),n}(e,t),r,s)}function tB(n,e){return e>=n.expandoStartIndex}function nB(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[nr()],s=tB(n,t);sB(o,r)&&null===e&&!s&&(e=!1),e=function zre(n,e,t,r){const i=function hI(n){const e=Ce.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=_f(t=LT(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=LT(i,n,e,t,r),null===o){let l=function $re(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Su(r))return n[bl(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=LT(null,n,e,l[1],r),l=_f(l,e.attrs,r),function qre(n,e,t,r){n[bl(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function Gre(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=_f(r,n[o].hostAttrs,t);return _f(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function Pre(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=bl(s),l=Su(s);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||gh(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const f=bl(n[a+1]);n[r+1]=$_(f,a),0!==f&&(n[f+1]=NT(n[f+1],r)),n[a+1]=function Mre(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=$_(a,0),0!==a&&(n[a+1]=NT(n[a+1],r)),a=r;else n[r+1]=$_(l,0),0===a?a=r:n[l+1]=NT(n[l+1],r),l=r;c&&(n[r+1]=PT(n[r+1])),K2(n,u,r,!0),K2(n,u,r,!1),function Nre(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&gh(o,e)>=0&&(t[r+1]=OT(t[r+1]))}(e,u,n,r,o),s=$_(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function LT(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=_f(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function _f(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ei(n,s,!!t||e[++o]))}return void 0===n?null:n}function Kre(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&ei(n,r,t)}function iB(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function kre(n){return!(1&~n)}(c)?oB(l,e,t,i,Su(c),s):void 0;q_(u)||(q_(o)||function xre(n){return!(2&~n)}(c)&&(o=oB(l,null,t,i,a,s)),function bJ(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:js.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=js.Important),n.setStyle(t,r,i,o))}}(r,s,zc(nr(),t),i,o))}function oB(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let f=t[i+1];f===De&&(f=h?Ze:void 0);let p=h?Vw(f,r):u===r?f:void 0;if(c&&!q_(p)&&(p=Vw(l,r)),q_(p)&&(a=p,s))return a;const g=n[i+1];i=s?bl(g):Su(g)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=Vw(l,r))}return a}function q_(n){return void 0!==n}function sB(n,e){return!!(n.flags&(e?8:16))}function Nn(n,e){zr("NgControlFlow");const t=V(),r=Ci(),i=t[r]!==De?t[r]:-1,o=-1!==i?G_(t,26+i):void 0;if(rn(t,r,n)){const a=Re(null);try{if(void 0!==o&&function jC(n,e){const t=Yh(n,e);return void 0!==t&&Kh(t[1],t),t}(o,0),-1!==n){const l=26+n,c=G_(t,l),u=function UT(n,e){return il(n,e)}(t[1],l),h=null;uu(c,au(t,u,e,{dehydratedView:h}),0,pl(u,h))}}finally{Re(a)}}else if(void 0!==o){const a=function XL(n,e){const t=10+e;if(t<n.length)return n[t]}(o,0);void 0!==a&&(a[8]=e)}}function G_(n,e){return n[e]}function U(n,e,t,r){const i=V(),o=Ee(),s=26+n,a=i[11],l=o.firstCreatePass?SV(s,o,i,e,SC,lI(),t,r):o.data[s],c=uB(o,i,l,a,e,n);i[s]=c;const u=kg(l);return qi(l,!0),pL(a,c,l),!Hs(l)&&wh()&&C_(o,i,c,l),(0===function VQ(){return Ce.lFrame.elementDepthCount}()||u)&&Hr(c,i),function BQ(){Ce.lFrame.elementDepthCount++}(),u&&(w_(o,i,l),hC(o,l,i)),null!==r&&DC(i,l),U}function F(){let n=Ve();cI()?uI():(n=n.parent,qi(n,!1));const e=n;(function jQ(n){return Ce.skipHydrationRootTNode===n})(e)&&function qQ(){Ce.skipHydrationRootTNode=null}(),function UQ(){Ce.lFrame.elementDepthCount--}();const t=Ee();return t.firstCreatePass&&AV(t,e),null!=e.classesWithoutHost&&function nY(n){return!!(8&n.flags)}(e)&&FT(t,e,V(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function rY(n){return!!(16&n.flags)}(e)&&FT(t,e,V(),e.stylesWithoutHost,!1),F}function Dt(n,e,t,r){return U(n,e,t,r),F(),Dt}let uB=(n,e,t,r,i,o)=>(ho(!0),y_(r,i,function c1(){return Ce.lFrame.currentNamespace}()));function Ws(n,e,t){const r=V(),i=Ee(),o=n+26,s=i.firstCreatePass?function bie(n,e,t,r,i){const o=e.consts,s=Ii(o,r),a=du(e,n,8,"ng-container",s);null!==s&&tT(a,s,!0);const l=Ii(o,i);return lI()&&nT(e,t,a,l,SC),a.mergedAttrs=Gc(a.mergedAttrs,a.attrs),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];qi(s,!0);const a=dB(i,r,s,n);return r[o]=a,wh()&&C_(i,r,a,s),Hr(a,r),kg(s)&&(w_(i,r,s),hC(i,s,r)),null!=t&&DC(r,s),Ws}function Ks(){let n=Ve();const e=Ee();return cI()?uI():(n=n.parent,qi(n,!1)),e.firstCreatePass&&(gI(e,n),Yw(n)&&e.queries.elementEnd(n)),Ks}function On(n,e,t){return Ws(n,e,t),Ks(),On}let dB=(n,e,t,r)=>(ho(!0),bC(e[11],""));function ts(){return V()}function El(n,e,t){const r=V();return rn(r,Ci(),e)&&$r(Ee(),pt(),r,n,e,r[11],t,!0),El}const wl=void 0;var Cie=["en",[["a","p"],["AM","PM"],wl],[["AM","PM"],wl,wl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wl,"{1} 'at' {0}",wl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iie(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let xu={};function Sr(n){const e=function Tie(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=pB(e);if(t)return t;const r=e.split("-")[0];if(t=pB(r),t)return t;if("en"===r)return Cie;throw new N(701,!1)}function pB(n){return n in xu||(xu[n]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[n]),xu[n]}var St=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(St||{});const W_="en-US";let mB=W_;function PB(n,e,t){return function r(i){if(i===Function)return t;Qh($i(n)?Ir(n.index,e):e,5);const s=e[8];let a=NB(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=NB(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function NB(n,e,t,r){const i=Re(null);try{return!1!==t(r)}catch(o){return function foe(n,e){const t=n[9],r=t?t.get(Ur,null):null;r&&r.handleError(e)}(n,o),!1}finally{Re(i)}}function OB(n,e,t,r,i,o){const a=e[1],u=e[t][a.data[t].outputs[r]],h=a.firstCreatePass?oI(a):null,f=iI(e),p=u.subscribe(o),g=f.length;f.push(o,p),h&&h.push(i,n.index,g,-(g+1))}function Le(n,e,t,r){const i=V(),o=Ee(),s=Ve();return zT(o,i,i[11],s,n,e,r),Le}function zT(n,e,t,r,i,o,s){const a=kg(r),c=n.firstCreatePass?oI(n):null,u=iI(e);let h=!0;if(3&r.type||s){const f=wr(r,e),p=s?s(f):f,g=u.length,y=s?C=>s(Qe(C[r.index])):r.index;let E=null;if(!s&&a&&(E=function poe(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1;else{o=PB(r,e,o);const C=t.listen(p,i,o);u.push(o,C),c&&c.push(i,y,g,g+1)}}else o=PB(r,e,o);if(h){const f=r.outputs?.[i],p=r.hostDirectiveOutputs?.[i];if(p&&p.length)for(let g=0;g<p.length;g+=2)OB(r,e,p[g],p[g+1],i,o);if(f&&f.length)for(const g of f)OB(r,e,g,i,i,o)}}function Je(n=1){return function YQ(n){return(Ce.lFrame.contextLView=function YO(n,e){for(;n>0;)e=e[14],n--;return e}(n,Ce.lFrame.contextLView))[8]}(n)}function moe(n,e){let t=null;const r=function qZ(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?CL(n,o,!0):KZ(r,o))return i}else t=i}return t}function Io(n){const e=V()[15][5];if(!e.projection){const r=e.projection=function Ig(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){if(128!==o.type){const s=n?moe(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function At(n,e=0,t,r,i,o){const s=V(),a=Ee(),l=r?n+1:null;null!==l&&hf(s,a,l,r,i,o,null,t);const c=du(a,26+n,16,null,t||null);null===c.projection&&(c.projection=e),uI();const h=!s[6]||sl();null===s[15][5].projection[c.projection]&&null!==l?function goe(n,e,t){const r=26+t,i=e.data[r],o=n[r];uu(o,au(n,i,void 0,{dehydratedView:null}),0,pl(i,null))}(s,a,l):h&&!Hs(c)&&function yJ(n,e,t){UL(e[11],0,e,t,OC(n,t,e),OL(t.parent||e[5],t,e))}(a,s,c)}function X_(n,e,t,r,i){const o=V(),s=vu(o,e,t,r);return s!==De&&$r(Ee(),pt(),o,n,s,o[11],i,!1),X_}function Ar(n,e,t,r){UV(n,e,t,r)}function Gn(n,e,t){!function BV(n,e,t){const r=Ee();return r.firstCreatePass&&(jV(r,new FV(n,e,t),-1),!(2&~e)&&(r.staticViewQueries=!0)),VV(r,V(),e)}(n,e,t)}function et(n){const e=V(),t=Ee(),r=fI();Lg(r+1);const i=dT(t,r);if(n.dirty&&function OQ(n){return!(4&~n[2])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)n.reset([]);else{const o=HV(e,r);n.reset(o,z1),n.notifyOnChanges()}return!0}return!1}function tt(){return uT(V(),fI())}function GB(n,e,t,r,i){!function GV(n,e){const t=n[Bn];t._lView=V(),t._queryIndex=e,t._queryList=uT(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}(e,UV(n,t,r,i))}function Z_(n){return ol(function ZO(){return Ce.lFrame.contextLView}(),26+n)}function K(n,e=""){const t=V(),r=Ee(),i=n+26,o=r.firstCreatePass?du(r,i,1,e,null):r.data[i],s=rU(r,t,o,e,n);t[i]=s,wh()&&C_(r,t,s,o),qi(o,!1)}let rU=(n,e,t,r,i)=>(ho(!0),function vC(n,e){return n.createText(e)}(e[11],r));function Mu(n){return Wr("",n,""),Mu}function Wr(n,e,t){const r=V(),i=vu(r,n,e,t);return i!==De&&function ns(n,e,t){const r=zc(e,n);!function uL(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,nr(),i),Wr}function $T(n,e,t){$1(e)&&(e=e());const r=V();return rn(r,Ci(),e)&&$r(Ee(),pt(),r,n,e,r[11],t,!1),$T}function qT(n,e){const t=V(),r=Ee(),i=Ve();return zT(r,t,t[11],i,n,e),qT}const fU={};function GT(n){const e=Ee(),t=V(),r=n+26;return qi(du(e,r,128,null,null),!1),Jw(e,t,r,fU),GT}function WT(n,e,t,r,i){if(n=Ie(n),Array.isArray(n))for(let o=0;o<n.length;o++)WT(n[o],e,t,r,i);else{const o=Ee(),s=V(),a=Ve();let l=Za(n)?n:Ie(n.provide);const c=OO(n),u=1048575&a.providerIndexes,h=a.directiveStart,f=a.providerIndexes>>20;if(Za(n)||!n.multi){const p=new Ih(c,i,z),g=QT(l,e,i?u:u+f,h);-1===g?(II(Hg(a,s),o,l),KT(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[g]=p,s[g]=p)}else{const p=QT(l,e,u+f,h),g=QT(l,e,u,u+f),E=g>=0&&t[g];if(i&&!E||!i&&!(p>=0&&t[p])){II(Hg(a,s),o,l);const C=function Ooe(n,e,t,r,i){const o=new Ih(n,t,z);return o.multi=[],o.index=e,o.componentProviders=0,pU(o,i,r&&!t),o}(i?Noe:Poe,t.length,i,r,c);!i&&E&&(t[g].providerFactory=C),KT(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(C),s.push(C)}else KT(o,n,p>-1?p:g,pU(t[i?g:p],c,!i&&r));!i&&r&&E&&t[g].componentProviders++}}}function KT(n,e,t,r){const i=Za(e),o=function hQ(n){return!!n.useClass}(e);if(i||o){const l=(o?Ie(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function pU(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function QT(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Poe(n,e,t,r,i){return YT(this.multi,[])}function Noe(n,e,t,r,i){const o=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=Dh(r,r[1],this.providerFactory.index,i);s=l.slice(0,a),YT(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],YT(o,s);return s}function YT(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Se(n,e=[]){return t=>{t.providersResolver=(r,i)=>function koe(n,e,t){const r=Ee();if(r.firstCreatePass){const i=oi(n);WT(t,r.data,r.blueprint,i,!0),WT(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}function If(n,e){const t=n[e];return t===De?void 0:t}function yU(n,e,t,r,i,o,s){const a=e+t;return function yl(n,e,t,r){const i=rn(n,e,t);return rn(n,e+1,r)||i}(n,a,i,o)?bo(n,a+2,s?r.call(s,i,o):r(i,o)):If(n,a+2)}function Cf(n,e){const t=Ee();let r;const i=n+26;t.firstCreatePass?(r=function Koe(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Ya(r.type)),a=Vr(z);try{const l=jg(!1),c=o();return jg(l),Jw(t,V(),i,c),c}finally{Vr(a)}}function XT(n,e,t){const r=n+26,i=V(),o=ol(i,r);return Tf(i,r)?function _U(n,e,t,r,i,o){const s=e+t;return rn(n,s,i)?bo(n,s+1,o?r.call(o,i):r(i)):If(n,s+1)}(i,Cr(),e,o.transform,t,o):o.transform(t)}function ZT(n,e,t,r){const i=n+26,o=V(),s=ol(o,i);return Tf(o,i)?yU(o,Cr(),e,s.transform,t,r,s):s.transform(t,r)}function Tf(n,e){return n[1].data[e].pure}function JT(n,e){return S_(n,e)}class ny{full;major;minor;patch;constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const iD=new ny("19.2.17");class Tse{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Dse=(()=>{class n{compileModuleSync(t){return new mT(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=yo(ti(t).declarations).reduce((s,a)=>{const l=Be(a);return l&&s.push(new cf(l)),s},[]);return new Tse(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rse=(()=>{class n{zone=v(le);changeDetectionScheduler=v(Yo);applicationRef=v(ir);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const xse=new j("",{factory:()=>!1});function oD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new le({...sD(),scheduleInRootZone:t}),[{provide:le,useFactory:n},{provide:Ei,multi:!0,useFactory:()=>{const r=v(Rse,{optional:!0});return()=>r.initialize()}},{provide:Ei,multi:!0,useFactory:()=>{const r=v(kse);return()=>{r.initialize()}}},!0===e?{provide:O1,useValue:!0}:[],{provide:DI,useValue:t??P1}]}function sD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let kse=(()=>{class n{subscription=new Zt;initialized=!1;zone=v(le);pendingTasks=v(cl);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{le.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sf=(()=>{class n{appRef=v(ir);taskService=v(cl);ngZone=v(le);zonelessEnabled=v(Ah);tracing=v(Yc,{optional:!0});disableScheduling=v(O1,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Zt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(DI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xI||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;let r=!1;switch(t){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const i=this.useMicrotaskScheduler?L1:F1;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,L1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Qs=new j("",{providedIn:"root",factory:()=>v(Qs,Pe.Optional|Pe.SkipSelf)||function Pse(){return typeof $localize<"u"&&$localize.locale||W_}()}),ry=new j(""),Bse=new j("");function Af(n){return!n.moduleRef}let Pu=null;function lD(){return!1}let Co=(()=>class n{static __NG_ELEMENT_ID__=qse})();function qse(n){return function Gse(n,e,t){if($i(n)&&!t){const r=Ir(n.index,e);return new Xh(r,r)}return 175&n.type?new Xh(e[15],e):null}(Ve(),V(),!(16&~n))}class XU{constructor(){}supports(e){return L_(e)}create(e){return new Xse(e)}}const Yse=(n,e)=>e;class Xse{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Yse}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<JU(r,i,o)?t:r,a=JU(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const p=f<o.length?o[f]:o[f]=0,g=p+f;u<=g&&g<c&&(o[f]=p+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!L_(e))throw new N(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function $te(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Zse(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ZU),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZU),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Zse{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}}class Jse{_head=null;_tail=null;add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class ZU{map=new Map;put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Jse,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JU(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function tj(){return new Ys([new XU])}let Ys=(()=>{class n{factories;static \u0275prov=G({token:n,providedIn:"root",factory:tj});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||tj()),deps:[[n,new mh,new Un]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new N(901,!1)}}return n})();function iae(n){const{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;try{const o=i?.injector??function $se(n=[]){if(Pu)return Pu;const e=function qU(n=[],e){return We.create({name:e,providers:[{provide:zw,useValue:"platform"},{provide:ry,useValue:new Set([()=>Pu=null])},...n]})}(n);return Pu=e,function R2(){!function vK(n){eO=n}(()=>{throw new N(600,!1)})}(),function GU(n){const e=n.get(VI,null);ri(n,()=>{e?.forEach(t=>t())})}(e),e}(r),s=[oD({}),{provide:Yo,useExisting:Sf},...t||[]];return function zU(n){const e=Af(n)?n.r3Injector:n.moduleRef.injector,t=e.get(le);return t.run(()=>{Af(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const r=e.get(Ur,null);let i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Af(n)){const o=()=>e.destroy(),s=n.platformInjector.get(ry);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{const o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(ry);s.add(o),n.moduleRef.onDestroy(()=>{z_(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return function jse(n,e,t){try{const r=t();return pf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(r,t,()=>{const o=e.get(A2);return o.runInitializers(),o.donePromise.then(()=>{if(function Rie(n){"string"==typeof n&&(mB=n.toLowerCase().replace(/_/g,"-"))}(e.get(Qs,W_)||W_),!e.get(Bse,!0))return Af(n)?e.get(ir):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Af(n)){const l=e.get(ir);return void 0!==n.rootComponent&&l.bootstrap(n.rootComponent),l}return function Use(n,e){const t=n.injector.get(ir);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new N(-403,!1);n.instance.ngDoBootstrap(t)}e.push(n)}(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}({r3Injector:new t2({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}}function Ht(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function fD(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}function mn(n){return function TK(n){const e=Re(null);try{return n()}finally{Re(e)}}(n)}function Xi(n,e){return JN(n,e?.equal)}class xae{[Bn];constructor(e){this[Bn]=e}destroy(){this[Bn].destroy()}}const gj={...Dc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Rh,run(){if(this.dirty=!1,this.hasRun&&!tg(this))return;this.hasRun=!0;const n=r=>(this.cleanupFns??=[]).push(r),e=Sc(this),t=Fg(!1);try{this.maybeCleanup(),this.fn(n)}finally{Fg(t),dh(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},Mae={...gj,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ng(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},kae={...gj,consumerMarkedDirty(){this.view[2]|=8192,$c(this.view),this.notifier.notify(13)},destroy(){ng(this),this.onDestroyFn(),this.maybeCleanup(),this.view[23]?.delete(this)}};function Ej(n,e){const t=Be(n),r=e.elementInjector||Sg();return new cf(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}const nt=new j("");let wj=null;function Xs(){return wj}class Wae{}let Ij=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>v(Kae),providedIn:"platform"})}return n})(),Kae=(()=>{class n extends Ij{_location;_history;_doc=v(nt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xs().getBaseHref(this._doc)}onPopState(t){const r=Xs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Xs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Cj(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Tj(n){const e=n.search(/#|\?|$/);return"/"===n[e-1]?n.slice(0,e-1)+n.slice(e):n}function Cl(n){return n&&"?"!==n[0]?`?${n}`:n}let hy=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>v(Yae),providedIn:"root"})}return n})();const Qae=new j("");let Yae=(()=>{class n extends hy{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Cj(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Cl(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Cl(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Cl(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ae(Ij),ae(Qae,8))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nu=(()=>{class n{_subject=new he;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Jae(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Tj(Dj(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Cl(r))}normalize(t){return n.stripTrailingSlash(function Zae(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Dj(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Cl(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Cl(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Cl;static joinWithSlash=Cj;static stripTrailingSlash=Tj;static \u0275fac=function(r){return new(r||n)(ae(hy))};static \u0275prov=G({token:n,factory:()=>function Xae(){return new Nu(ae(hy))}(),providedIn:"root"})}return n})();function Dj(n){return n.replace(/\/index.html$/,"")}const Sj="browser";function Aj(n){return"server"===n}const _D=new j("");let Rj=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new N(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ae(_D),ae(le))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();class xj{_doc;constructor(e){this._doc=e}manager}const fy="ng-app-id";function Mj(n){for(const e of n)e.remove()}function kj(n,e){const t=e.createElement("style");return t.textContent=n,t}function yD(n,e){const t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}let Pj=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Aj(o),function ile(n,e,t,r){const i=n.head?.querySelectorAll(`style[${fy}="${e}"],link[${fy}="${e}"]`);if(i)for(const o of i)o.removeAttribute(fy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(const i of t)this.addUsage(i,this.inline,kj);r?.forEach(i=>this.addUsage(i,this.external,yD))}removeStyles(t,r){for(const i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){const o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){const i=r.get(t);i&&(i.usage--,i.usage<=0&&(Mj(i.elements),r.delete(t)))}ngOnDestroy(){for(const[,{elements:t}]of[...this.inline,...this.external])Mj(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(t,kj(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(t,yD(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(fy,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ae(nt),ae(Wi),ae(BI,8),ae(Kc))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();const vD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bD=/%COMP%/g,ule=new j("",{providedIn:"root",factory:()=>!0});function Oj(n,e){return e.map(t=>t.replace(bD,n))}let ED=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Aj(a),this.defaultRenderer=new wD(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ti.ShadowDom&&(r={...r,encapsulation:Ti.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Lj?i.applyToHost(t):i instanceof ID&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Ti.Emulated:o=new Lj(l,c,r,this.appId,u,s,a,h,f);break;case Ti.ShadowDom:return new ple(l,c,t,r,s,a,this.nonce,h,f);default:o=new ID(l,c,r,u,s,a,h,f)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ae(Rj),ae(Pj),ae(Wi),ae(ule),ae(nt),ae(Kc),ae(le),ae(BI),ae(Yc,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();class wD{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(vD[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Fj(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Fj(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new N(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=vD[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=vD[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(js.DashCase|js.Important)?e.style.setProperty(t,r,i&js.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&js.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if("string"==typeof e&&!(e=Xs().getGlobalEventTarget(this.doc,e)))throw new N(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Fj(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ple extends wD{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Oj(i.id,u);for(const f of u){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}const h=i.getExternalStyles?.();if(h)for(const f of h){const p=yD(f,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ID extends wD{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?Oj(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Lj extends ID{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c){const u=i+"-"+r.id;super(e,t,r,o,s,a,l,c,u),this.contentAttr=function dle(n){return"_ngcontent-%COMP%".replace(bD,n)}(u),this.hostAttr=function hle(n){return"_nghost-%COMP%".replace(bD,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class CD extends Wae{supportsDOMEvents=!0;static makeCurrent(){!function Gae(n){wj??=n}(new CD)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function mle(){return xf=xf||document.head.querySelector("base"),xf?xf.getAttribute("href"):null}();return null==t?null:function gle(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){xf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ele(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let xf=null,yle=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();const Vj=["alt","control","meta","shift"],ble={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ele={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function Bj(n){return{appProviders:[...Rle,...n?.providers??[]],platformProviders:Sle}}const Sle=[{provide:Kc,useValue:Sj},{provide:VI,useValue:function Cle(){CD.makeCurrent()},multi:!0},{provide:nt,useFactory:function Dle(){return function nX(n){LI=n}(document),document}}],Rle=[{provide:zw,useValue:"root"},{provide:Ur,useFactory:function Tle(){return new Ur}},{provide:_D,useClass:(()=>{class n extends xj{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ae(nt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),multi:!0,deps:[nt]},{provide:_D,useClass:(()=>{class n extends xj{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i,o){const s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xs().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Vj.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=ble[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Vj.forEach(s=>{s!==i&&(0,Ele[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static \u0275fac=function(r){return new(r||n)(ae(nt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),multi:!0,deps:[nt]},ED,Pj,Rj,{provide:Di,useExisting:ED},{provide:class rle{},useClass:yle},[]];function Mf(n){return!!n&&(n instanceof at||Mt(n.lift)&&Mt(n.subscribe))}function py(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Zs(n){return this instanceof Zs?(this.v=n,this):new Zs(n)}function zj(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function AD(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const $j=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function qj(n){return Mt(n?.then)}function Gj(n){return Mt(n[Tw])}function Wj(n){return Symbol.asyncIterator&&Mt(n?.[Symbol.asyncIterator])}function Kj(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Qj=function tce(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Yj(n){return Mt(n?.[Qj])}function Xj(n){return function Hj(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(p){return function(g){return Promise.resolve(g).then(p,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(p,g){r[p]&&(i[p]=function(y){return new Promise(function(E,C){o.push([p,y,E,C])>1||l(p,y)})},g&&(i[p]=g(i[p])))}function l(p,g){try{!function c(p){p.value instanceof Zs?Promise.resolve(p.value.v).then(u,h):f(o[0][2],p)}(r[p](g))}catch(y){f(o[0][3],y)}}function u(p){l("next",p)}function h(p){l("throw",p)}function f(p,g){p(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Zs(t.read());if(i)return yield Zs(void 0);yield yield Zs(r)}}finally{t.releaseLock()}})}function Zj(n){return Mt(n?.getReader)}function Kr(n){if(n instanceof at)return n;if(null!=n){if(Gj(n))return function nce(n){return new at(e=>{const t=n[Tw]();if(Mt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if($j(n))return function rce(n){return new at(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(qj(n))return function ice(n){return new at(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,aO)})}(n);if(Wj(n))return Jj(n);if(Yj(n))return function oce(n){return new at(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Zj(n))return function sce(n){return Jj(Xj(n))}(n)}throw Kj(n)}function Jj(n){return new at(e=>{(function ace(n,e){var t,r,i,o;return function Uj(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(h){s(h)}}function l(u){try{c(r.throw(u))}catch(h){s(h)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=zj(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function rs(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function my(n,e=0){return Jt((t,r)=>{t.subscribe(Bt(r,i=>rs(r,n,()=>r.next(i),e),()=>rs(r,n,()=>r.complete(),e),i=>rs(r,n,()=>r.error(i),e)))})}function gy(n,e=0){return Jt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function eH(n,e){if(!n)throw new Error("Iterable cannot be null");return new at(t=>{rs(t,e,()=>{const r=n[Symbol.asyncIterator]();rs(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function or(n,e){return e?function fce(n,e){if(null!=n){if(Gj(n))return function lce(n,e){return Kr(n).pipe(gy(e),my(e))}(n,e);if($j(n))return function uce(n,e){return new at(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(qj(n))return function cce(n,e){return Kr(n).pipe(gy(e),my(e))}(n,e);if(Wj(n))return eH(n,e);if(Yj(n))return function dce(n,e){return new at(t=>{let r;return rs(t,e,()=>{r=n[Qj](),rs(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Mt(r?.return)&&r.return()})}(n,e);if(Zj(n))return function hce(n,e){return eH(Xj(n),e)}(n,e)}throw Kj(n)}(n,e):Kr(n)}function tH(n){return n&&Mt(n.schedule)}function xD(n){return n[n.length-1]}function nH(n){return Mt(xD(n))?n.pop():void 0}function kf(n){return tH(xD(n))?n.pop():void 0}function fe(...n){return or(n,kf(n))}const Pf=vw(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:mce}=Array,{getPrototypeOf:gce,prototype:_ce,keys:yce}=Object;function rH(n){if(1===n.length){const e=n[0];if(mce(e))return{args:e,keys:null};if(function vce(n){return n&&"object"==typeof n&&gce(n)===_ce}(e)){const t=yce(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:bce}=Array;function iH(n){return ve(e=>function Ece(n,e){return bce(e)?n(...e):n(e)}(n,e))}function oH(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ou(...n){const e=kf(n),t=nH(n),{args:r,keys:i}=rH(n);if(0===r.length)return or([],e);const o=new at(function wce(n,e,t=Fs){return r=>{sH(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)sH(e,()=>{const c=or(n[l],e);let u=!1;c.subscribe(Bt(r,h=>{o[l]=h,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>oH(i,s):Fs));return t?o.pipe(iH(t)):o}function sH(n,e,t){n?rs(t,n,e):e()}function xr(n,e,t=1/0){return Mt(e)?xr((r,i)=>ve((o,s)=>e(r,o,i,s))(Kr(n(r,i))),t):("number"==typeof e&&(t=e),Jt((r,i)=>function Ice(n,e,t,r,i,o,s,a){const l=[];let c=0,u=0,h=!1;const f=()=>{h&&!l.length&&!c&&e.complete()},p=y=>c<r?g(y):l.push(y),g=y=>{o&&e.next(y),c++;let E=!1;Kr(t(y,u++)).subscribe(Bt(e,C=>{i?.(C),o?p(C):e.next(C)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<r;){const C=l.shift();s?rs(e,s,()=>g(C)):g(C)}f()}catch(C){e.error(C)}}))};return n.subscribe(Bt(e,p,()=>{h=!0,f()})),()=>{a?.()}}(r,i,n,t)))}function _y(n=1/0){return xr(Fs,n)}function yy(...n){return function Cce(){return _y(1)}()(or(n,kf(n)))}function vy(n){return new at(e=>{Kr(n()).subscribe(e)})}function Nf(n,e){const t=Mt(n)?n:()=>n,r=i=>i.error(t());return new at(e?i=>e.schedule(r,0,i):r)}const li=new at(n=>n.complete());function MD(){return Jt((n,e)=>{let t=null;n._refCount++;const r=Bt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class kD extends at{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,dO(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Zt;const t=this.getSubject();e.add(this.source.subscribe(Bt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Zt.EMPTY)}return e}refCount(){return MD()(this)}}function ci(n,e){return Jt((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Bt(r,l=>{i?.unsubscribe();let c=0;const u=o++;Kr(n(l,u)).subscribe(i=Bt(r,h=>r.next(e?e(l,h,u,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Fn(n){return n<=0?()=>li:Jt((e,t)=>{let r=0;e.subscribe(Bt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Of(...n){const e=kf(n);return Jt((t,r)=>{(e?yy(n,t,e):yy(n,t)).subscribe(r)})}function En(n,e){return Jt((t,r)=>{let i=0;t.subscribe(Bt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function by(n){return Jt((e,t)=>{let r=!1;e.subscribe(Bt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function aH(n=Dce){return Jt((e,t)=>{let r=!1;e.subscribe(Bt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Dce(){return new Pf}function Tl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?En((i,o)=>n(i,o,r)):Fs,Fn(1),t?by(e):aH(()=>new Pf))}function Ff(n,e){return Mt(e)?xr(n,e,1):xr(n,1)}function Ln(n,e,t){const r=Mt(n)||e||t?{next:n,error:e,complete:t}:n;return r?Jt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Bt(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Fs}function Dl(n){return Jt((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Bt(t,void 0,void 0,s=>{o=Kr(n(s,Dl(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function PD(n){return n<=0?()=>li:Jt((e,t)=>{let r=[];e.subscribe(Bt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ey(n){return Jt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Qt(n){return Jt((e,t)=>{Kr(n).subscribe(Bt(t,()=>t.complete(),ug)),!t.closed&&e.subscribe(t)})}let xce=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ae(nt))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ND=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:function(r){let i=null;return i=r?new(r||n):ae(Nce),i},providedIn:"root"})}return n})(),Nce=(()=>{class n extends ND{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case rr.NONE:return r;case rr.HTML:return _o(r,"HTML")?si(r):lL(this._doc,String(r)).toString();case rr.STYLE:return _o(r,"Style")?si(r):r;case rr.SCRIPT:if(_o(r,"Script"))return si(r);throw new N(5200,!1);case rr.URL:return _o(r,"URL")?si(r):g_(String(r));case rr.RESOURCE_URL:if(_o(r,"ResourceURL"))return si(r);throw new N(5201,!1);default:throw new N(5202,!1)}}bypassSecurityTrustHtml(t){return function rZ(n){return new XX(n)}(t)}bypassSecurityTrustStyle(t){return function iZ(n){return new ZX(n)}(t)}bypassSecurityTrustScript(t){return function oZ(n){return new JX(n)}(t)}bypassSecurityTrustUrl(t){return function sZ(n){return new eZ(n)}(t)}bypassSecurityTrustResourceUrl(t){return function aZ(n){return new tZ(n)}(t)}static \u0275fac=function(r){return new(r||n)(ae(nt))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ke="primary",Vf=Symbol("RouteTitle");class Oce{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Fu(n){return new Oce(n)}function Fce(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(":"===s[0])i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function To(n,e){const t=n?OD(n):void 0,r=e?OD(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!uH(n[i],e[i]))return!1;return!0}function OD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function uH(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function dH(n){return n.length>0?n[n.length-1]:null}function ea(n){return Mf(n)?n:pf(n)?or(Promise.resolve(n)):fe(n)}const Vce={exact:function pH(n,e,t){if(!Al(n.segments,e.segments)||!wy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!pH(n.children[r],e.children[r],t))return!1;return!0},subset:mH},hH={exact:function Bce(n,e){return To(n,e)},subset:function Uce(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uH(n[t],e[t]))},ignored:()=>!0};function fH(n,e,t){return Vce[t.paths](n.root,e.root,t.matrixParams)&&hH[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function mH(n,e,t){return gH(n,e,e.segments,t)}function gH(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Al(i,t)||e.hasChildren()||!wy(i,t,r))}if(n.segments.length===t.length){if(!Al(n.segments,t)||!wy(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!mH(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Al(n.segments,i)&&wy(n.segments,i,r)&&n.children[ke])&&gH(n.children[ke],e,o,r)}}function wy(n,e,t){return e.every((r,i)=>hH[t](n[i].parameters,r.parameters))}class Sl{root;queryParams;fragment;_queryParamMap;constructor(e=new gt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fu(this.queryParams),this._queryParamMap}toString(){return zce.serialize(this)}}class gt{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ty(this)}}class Bf{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Fu(this.parameters),this._parameterMap}toString(){return vH(this)}}function Al(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Iy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new Cy,providedIn:"root"})}return n})();class Cy{parse(e){const t=new eue(e);return new Sl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Uf(e.root,!0)}`,r=function Gce(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Dy(t)}=${Dy(i)}`).join("&"):`${Dy(t)}=${Dy(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function $ce(n){return encodeURI(n)}(e.fragment)}`:""}`}}const zce=new Cy;function Ty(n){return n.segments.map(e=>vH(e)).join("/")}function Uf(n,e){if(!n.hasChildren())return Ty(n);if(e){const t=n.children[ke]?Uf(n.children[ke],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ke&&r.push(`${i}:${Uf(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Hce(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ke&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ke&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===ke?[Uf(n.children[ke],!1)]:[`${i}:${Uf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ke]?`${Ty(n)}/${t[0]}`:`${Ty(n)}/(${t.join("//")})`}}function _H(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dy(n){return _H(n).replace(/%3B/gi,";")}function FD(n){return _H(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sy(n){return decodeURIComponent(n)}function yH(n){return Sy(n.replace(/\+/g,"%20"))}function vH(n){return`${FD(n.path)}${function qce(n){return Object.entries(n).map(([e,t])=>`;${FD(e)}=${FD(t)}`).join("")}(n.parameters)}`}const Wce=/^[^\/()?;#]+/;function LD(n){const e=n.match(Wce);return e?e[0]:""}const Kce=/^[^\/()?;=#]+/,Yce=/^[^=?&#]+/,Zce=/^[^&#]+/;class eue{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gt([],{}):new gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ke]=new gt(e,t)),r}parseSegment(){const e=LD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(e),new Bf(Sy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Qce(n){const e=n.match(Kce);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=LD(this.remaining);i&&(r=i,this.capture(r))}e[Sy(t)]=Sy(r)}parseQueryParam(e){const t=function Xce(n){const e=n.match(Yce);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Jce(n){const e=n.match(Zce);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=yH(t),o=yH(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=LD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new N(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ke);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ke]:new gt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new N(4011,!1)}}function bH(n){return n.segments.length>0?new gt([],{[ke]:n}):n}function EH(n){const e={};for(const[r,i]of Object.entries(n.children)){const o=EH(i);if(r===ke&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function tue(n){if(1===n.numberOfChildren&&n.children[ke]){const e=n.children[ke];return new gt(n.segments.concat(e.segments),e.children)}return n}(new gt(n.segments,e))}function Rl(n){return n instanceof Sl}function wH(n){let e;const i=bH(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new gt(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function IH(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return VD(i,i,i,t,r);const o=function rue(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new TH(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new TH(t,e,r)}(e);if(o.toRoot())return VD(i,i,new gt([],{}),t,r);const s=function iue(n,e,t){if(n.isAbsolute)return new Ry(e,!0,0);if(!t)return new Ry(e,!1,NaN);if(null===t.parent)return new Ry(t,!0,0);const r=Ay(n.commands[0])?0:1;return function oue(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new Ry(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?Hf(s.segmentGroup,s.index,o.commands):DH(s.segmentGroup,s.index,o.commands);return VD(i,s.segmentGroup,a,t,r)}function Ay(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jf(n){return"object"==typeof n&&null!=n&&n.outlets}function VD(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===e?t:CH(n,e,t);const a=bH(EH(s));return new Sl(a,o,i)}function CH(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:CH(o,e,t)}),new gt(n.segments,r)}class TH{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ay(r[0]))throw new N(4003,!1);const i=r.find(jf);if(i&&i!==dH(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ry{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function DH(n,e,t){if(n??=new gt([],{}),0===n.segments.length&&n.hasChildren())return Hf(n,e,t);const r=function aue(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(jf(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!AH(l,c,s))return o;r+=2}else{if(!AH(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new gt(n.segments.slice(0,r.pathIndex),{});return o.children[ke]=new gt(n.segments.slice(r.pathIndex),n.children),Hf(o,0,i)}return r.match&&0===i.length?new gt(n.segments,{}):r.match&&!n.hasChildren()?BD(n,e,t):r.match?Hf(n,0,i):BD(n,e,t)}function Hf(n,e,t){if(0===t.length)return new gt(n.segments,{});{const r=function sue(n){return jf(n[0])?n[0].outlets:{[ke]:n}}(t),i={};if(Object.keys(r).some(o=>o!==ke)&&n.children[ke]&&1===n.numberOfChildren&&0===n.children[ke].segments.length){const o=Hf(n.children[ke],e,t);return new gt(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=DH(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new gt(n.segments,i)}}function BD(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(jf(o)){const l=lue(o.outlets);return new gt(r,l)}if(0===i&&Ay(t[0])){r.push(new Bf(n.segments[e].path,SH(t[0]))),i++;continue}const s=jf(o)?o.outlets[ke]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ay(a)?(r.push(new Bf(s,SH(a))),i+=2):(r.push(new Bf(s,{})),i++)}return new gt(r,{})}function lue(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=BD(new gt([],{}),0,r))}),e}function SH(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function AH(n,e,t){return n==t.path&&To(e,t.parameters)}const xy="imperative";var Ke=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ke||{});class Do{id;url;constructor(e,t){this.id=e,this.url=t}}class UD extends Do{type=Ke.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xl extends Do{urlAfterRedirects;type=Ke.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ui=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ui||{}),jD=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(jD||{});class Ml extends Do{reason;code;type=Ke.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zf extends Do{reason;code;type=Ke.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}}class HD extends Do{error;target;type=Ke.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RH extends Do{urlAfterRedirects;state;type=Ke.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cue extends Do{urlAfterRedirects;state;type=Ke.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uue extends Do{urlAfterRedirects;state;shouldActivate;type=Ke.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class due extends Do{urlAfterRedirects;state;type=Ke.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hue extends Do{urlAfterRedirects;state;type=Ke.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fue{route;type=Ke.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pue{route;type=Ke.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mue{snapshot;type=Ke.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gue{snapshot;type=Ke.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _ue{snapshot;type=Ke.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yue{snapshot;type=Ke.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zD{}class My{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}}function Zi(n){return n.outlet||ke}function $f(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Cue{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $f(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new qf(this.rootInjector)}}let qf=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Cue(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ae(tr))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class xH{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$D(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=$D(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qD(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qD(e,this._root).map(t=>t.value)}}function $D(n,e){if(n===e.value)return e;for(const t of e.children){const r=$D(n,t);if(r)return r}return null}function qD(n,e){if(n===e.value)return[e];for(const t of e.children){const r=qD(n,t);if(r.length)return r.unshift(e),r}return[]}class Ji{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Lu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class MH extends xH{snapshot;constructor(e,t){super(e),this.snapshot=t,GD(this,e)}toString(){return this.snapshot.toString()}}function kH(n){const e=function Tue(n){const o=new Py([],{},{},"",{},ke,n,null,{});return new PH("",new Ji(o,[]))}(n),t=new It([new Bf("",{})]),r=new It({}),i=new It({}),o=new It({}),s=new It(""),a=new Vu(t,r,o,s,i,ke,n,e.root);return a.snapshot=e.root,new MH(new Ji(a,[]),e)}class Vu{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ve(c=>c[Vf]))??fe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ve(e=>Fu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ve(e=>Fu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ky(n,e,t="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===e||"always"!==t&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...i?.data,...n._resolvedData}},i&&OH(i)&&(r.resolve[Vf]=i.title),r}class Py{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Vf]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fu(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class PH extends xH{url;constructor(e,t){super(t),this.url=e,GD(this,t)}toString(){return NH(this._root)}}function GD(n,e){e.value._routerState=n,e.children.forEach(t=>GD(n,t))}function NH(n){const e=n.children.length>0?` { ${n.children.map(NH).join(", ")} } `:"";return`${n.value}${e}`}function WD(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,To(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),To(e.params,t.params)||n.paramsSubject.next(t.params),function Lce(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!To(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),To(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function KD(n,e){const t=To(n.params,e.params)&&function jce(n,e){return Al(n,e)&&n.every((t,r)=>To(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||KD(n.parent,e.parent))}function OH(n){return"string"==typeof n.title||null===n.title}const Due=new j("");let FH=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ke;activateEvents=new ot;deactivateEvents=new ot;attachEvents=new ot;detachEvents=new ot;routerOutletData=kY(void 0);parentContexts=v(qf);location=v(qn);changeDetector=v(Co);inputBinder=v(QD,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Sue(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Hn]})}return n})();class Sue{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Vu?this.route:e===qf?this.childContexts:e===Due?this.outletData:this.parent.get(e,t)}}const QD=new j("");let LH=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){1&r&&Dt(0,"router-outlet")},dependencies:[FH],encapsulation:2})}return n})();function YD(n){const e=n.children&&n.children.map(YD),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ke&&(t.component=LH),t}function Gf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Rue(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Gf(n,r,i);return Gf(n,r)})}(n,e,t);return new Ji(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Gf(n,a)),s}}const r=function xue(n){return new Vu(new It(n.url),new It(n.params),new It(n.queryParams),new It(n.fragment),new It(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Gf(n,o));return new Ji(r,i)}}class XD{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}}const VH="ngNavigationCancelingError";function Ny(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Rl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=BH(!1,ui.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function BH(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[VH]=!0,t.cancellationCode=e,t}function UH(n){return!!n&&n[VH]}class Pue{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),WD(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Lu(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Lu(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Lu(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Lu(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new yue(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gue(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(WD(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),WD(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}}class jH{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Oy{component;route;constructor(e,t){this.component=e,this.route=t}}function Nue(n,e,t){const r=n._root;return Wf(r,e?e._root:null,t,[r.value])}function Bu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function GK(n){return null!==mg(n)}(n)?e.get(n):n:r}function Wf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Lu(e);return n.children.forEach(s=>{(function Fue(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Lue(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Al(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Al(n.url,e.url)||!To(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!KD(n,e)||!To(n.queryParams,e.queryParams);default:return!KD(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new jH(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Wf(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Oy(a.outlet.component,s))}else s&&Kf(e,a,i),i.canActivateChecks.push(new jH(r)),Wf(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Kf(a,t.getContext(s),i)),i}function Kf(n,e,t){const r=Lu(n),i=n.value;Object.entries(r).forEach(([o,s])=>{Kf(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Oy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Qf(n){return"function"==typeof n}function HH(n){return n instanceof Pf||"EmptyError"===n?.name}const Fy=Symbol("INITIAL_VALUE");function Uu(){return ci(n=>Ou(n.map(e=>e.pipe(Fn(1),Of(Fy)))).pipe(ve(e=>{for(const t of e)if(!0!==t){if(t===Fy)return Fy;if(!1===t||$ue(t))return t}return!0}),En(e=>e!==Fy),Fn(1)))}function $ue(n){return Rl(n)||n instanceof XD}function zH(n){return function OK(...n){return lO(n)}(Ln(e=>{if("boolean"!=typeof e)throw Ny(0,e)}),ve(e=>!0===e))}class ZD{segmentGroup;constructor(e){this.segmentGroup=e||null}}class JD extends Error{urlTree;constructor(e){super(),this.urlTree=e}}function ju(n){return Nf(new ZD(n))}class rde{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return fe(r);if(i.numberOfChildren>1||!i.children[ke])return Nf(new N(4e3,!1));i=i.children[ke]}}applyRedirectCommands(e,t,r,i,o){if("string"!=typeof t){const a=t,{queryParams:l,fragment:c,routeConfig:u,url:h,outlet:f,params:p,data:g,title:y}=i,E=ri(o,()=>a({params:p,data:g,queryParams:l,fragment:c,routeConfig:u,url:h,outlet:f,title:y}));if(E instanceof Sl)throw new JD(E);t=E}const s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if("/"===t[0])throw new JD(s);return s}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Sl(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new gt(o,s)}createSegments(e,t,r,i){return t.map(o=>":"===o.path[0]?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new N(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const eS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ide(n,e,t,r,i){const o=$H(n,e,t);return o.matched?(r=function vue(n,e){return n.providers&&!n._injector&&(n._injector=gT(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function ede(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?fe(i.map(s=>{const a=Bu(s,n);return ea(function zue(n){return n&&Qf(n.canMatch)}(a)?a.canMatch(e,t):ri(n,()=>a(e,t)))})).pipe(Uu(),zH()):fe(!0)}(r,e,t).pipe(ve(s=>!0===s?o:{...eS}))):fe(o)}function $H(n,e,t){if("**"===e.path)return function ode(n){return{matched:!0,parameters:n.length>0?dH(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...eS}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Fce)(t,n,e);if(!i)return{...eS};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function qH(n,e,t,r){return t.length>0&&function lde(n,e,t){return t.some(r=>Ly(n,e,r)&&Zi(r)!==ke)}(n,t,r)?{segmentGroup:new gt(e,ade(r,new gt(t,n.children))),slicedSegments:[]}:0===t.length&&function cde(n,e,t){return t.some(r=>Ly(n,e,r))}(n,t,r)?{segmentGroup:new gt(n.segments,sde(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new gt(n.segments,n.children),slicedSegments:t}}function sde(n,e,t,r){const i={};for(const o of t)if(Ly(n,e,o)&&!r[Zi(o)]){const s=new gt([],{});i[Zi(o)]=s}return{...r,...i}}function ade(n,e){const t={};t[ke]=e;for(const r of n)if(""===r.path&&Zi(r)!==ke){const i=new gt([],{});t[Zi(r)]=i}return t}function Ly(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class dde{}class pde{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new rde(this.urlSerializer,this.urlTree)}noMatchError(e){return new N(4002,`'${e.segmentGroup}'`)}recognize(){const e=qH(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ve(({children:t,rootSnapshot:r})=>{const i=new Ji(r,t),o=new PH("",i),s=function nue(n,e,t=null,r=null){return IH(wH(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){const t=new Py([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ke,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ke,t).pipe(ve(r=>({children:r,rootSnapshot:t})),Dl(r=>{if(r instanceof JD)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ZD?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ve(s=>s instanceof Ji?[s]:[]))}processChildren(e,t,r,i){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return or(o).pipe(Ff(s=>{const a=r.children[s],l=function Iue(n,e){const t=n.filter(r=>Zi(r)===e);return t.push(...n.filter(r=>Zi(r)!==e)),t}(t,s);return this.processSegmentGroup(e,l,a,s,i)}),function Ace(n,e){return Jt(function Sce(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(Bt(s,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),by(null),function Rce(n,e){const t=arguments.length>=2;return r=>r.pipe(n?En((i,o)=>n(i,o,r)):Fs,PD(1),t?by(e):aH(()=>new Pf))}(),xr(s=>{if(null===s)return ju(r);const a=GH(s);return function mde(n){n.sort((e,t)=>e.value.outlet===ke?-1:t.value.outlet===ke?1:e.value.outlet.localeCompare(t.value.outlet))}(a),fe(a)}))}processSegment(e,t,r,i,o,s,a){return or(t).pipe(Ff(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(Dl(c=>{if(c instanceof ZD)return fe(null);throw c}))),Tl(l=>!!l),Dl(l=>{if(HH(l))return function ude(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?fe(new dde):ju(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Zi(r)===s||s!==ke&&Ly(i,o,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):ju(i):ju(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){const{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:h,remainingSegments:f}=$H(t,i,o);if(!l)return ju(t);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=new Py(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WH(i),Zi(i),i.component??i._loadedComponent??null,i,KH(i)),g=ky(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);const y=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h,p,e);return this.applyRedirects.lineralizeSegments(i,y).pipe(xr(E=>this.processSegment(e,r,t,E.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){const a=ide(t,r,i,e);return"**"===r.path&&(t.children={}),a.pipe(ci(l=>l.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(ci(({routes:c})=>{const u=r._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:p}=l,g=new Py(f,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WH(r),Zi(r),r.component??r._loadedComponent??null,r,KH(r)),y=ky(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);const{segmentGroup:E,slicedSegments:C}=qH(t,f,p,c);if(0===C.length&&E.hasChildren())return this.processChildren(u,c,E,g).pipe(ve(L=>new Ji(g,L)));if(0===c.length&&0===C.length)return fe(new Ji(g,[]));const T=Zi(r)===o;return this.processSegment(u,c,E,C,T?ke:o,!0,g).pipe(ve(L=>new Ji(g,L instanceof Ji?[L]:[])))})):ju(t)))}getChildConfig(e,t,r){return t.children?fe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?fe({routes:t._loadedRoutes,injector:t._loadedInjector}):function Jue(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?fe(!0):fe(i.map(s=>{const a=Bu(s,n);return ea(function Bue(n){return n&&Qf(n.canLoad)}(a)?a.canLoad(e,t):ri(n,()=>a(e,t)))})).pipe(Uu(),zH())}(e,t,r).pipe(xr(i=>i?this.configLoader.loadChildren(e,t).pipe(Ln(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function nde(){return Nf(BH(!1,ui.GuardRejected))}())):fe({routes:[],injector:e})}}function gde(n){const e=n.value.routeConfig;return e&&""===e.path}function GH(n){const e=[],t=new Set;for(const r of n){if(!gde(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=GH(r.children);e.push(new Ji(r.value,i))}return e.filter(r=>!t.has(r))}function WH(n){return n.data||{}}function KH(n){return n.resolve||{}}function QH(n){const e=n.children.map(t=>QH(t)).flat();return[n,...e]}function tS(n){return ci(e=>{const t=n(e);return t?or(t).pipe(ve(()=>e)):fe(e)})}let YH=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ke);return r}getResolvedTitleForRoute(t){return t.data[Vf]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>v(wde),providedIn:"root"})}return n})(),wde=(()=>{class n extends YH{title;constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ae(xce))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const nS=new j("",{providedIn:"root",factory:()=>({})}),rS=new j("");let XH=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(Dse);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return fe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ea(t.loadComponent()).pipe(ve(ZH),Ln(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ey(()=>{this.componentLoaders.delete(t)})),i=new kD(r,()=>new he).pipe(MD());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return fe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Ide(n,e,t,r){return ea(n.loadChildren()).pipe(ve(ZH),xr(i=>i instanceof e2||Array.isArray(i)?fe(i):or(e.compileModuleAsync(i))),ve(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(rS,[],{optional:!0,self:!0}).flat()),{routes:s.map(YD),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Ey(()=>{this.childrenLoaders.delete(r)})),s=new kD(o,()=>new he).pipe(MD());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZH(n){return function Cde(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let iS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>v(Tde),providedIn:"root"})}return n})(),Tde=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Dde=new j(""),Rde=new j("");let xde=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new he;transitionAbortSubject=new he;configLoader=v(XH);environmentInjector=v(tr);destroyRef=v(po);urlSerializer=v(Iy);rootContexts=v(qf);location=v(Nu);inputBindingEnabled=null!==v(QD,{optional:!0});titleStrategy=v(YH);options=v(nS,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(iS);createViewTransition=v(Dde,{optional:!0});navigationErrorHandler=v(Rde,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>fe(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=i=>this.events.next(new pue(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new fue(i)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...t,extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r})}setupNavigations(t){return this.transitions=new It(null),this.transitions.pipe(En(r=>null!==r),ci(r=>{let i=!1,o=!1;return fe(r).pipe(ci(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ui.SupersededByNewNavigation),li;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:"string"==typeof s.extras.browserUrl?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!a&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const c="";return this.events.next(new zf(s.id,this.urlSerializer.serialize(s.rawUrl),c,jD.IgnoredSameUrlNavigation)),s.resolve(!1),li}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return fe(s).pipe(ci(c=>(this.events.next(new UD(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?li:Promise.resolve(c))),function _de(n,e,t,r,i,o){return xr(s=>function hde(n,e,t,r,i,o,s="emptyOnly"){return new pde(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(ve(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ln(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects};const u=new RH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){const{id:c,extractedUrl:u,source:h,restoredState:f,extras:p}=s,g=new UD(c,this.urlSerializer.serialize(u),h,f);this.events.next(g);const y=kH(this.rootComponentType).snapshot;return this.currentTransition=r={...s,targetSnapshot:y,urlAfterRedirects:u,extras:{...p,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=u,fe(r)}{const c="";return this.events.next(new zf(s.id,this.urlSerializer.serialize(s.extractedUrl),c,jD.IgnoredByUrlHandlingStrategy)),s.resolve(!1),li}}),Ln(s=>{const a=new cue(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ve(s=>(this.currentTransition=r={...s,guards:Nue(s.targetSnapshot,s.currentSnapshot,this.rootContexts)},r)),function que(n,e){return xr(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?fe({...t,guardsResult:!0}):function Gue(n,e,t,r){return or(n).pipe(xr(i=>function Zue(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?fe(o.map(a=>{const l=$f(e)??i,c=Bu(a,l);return ea(function Hue(n){return n&&Qf(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):ri(l,()=>c(n,e,t,r))).pipe(Tl())})).pipe(Uu()):fe(!0)}(i.component,i.route,t,e,r)),Tl(i=>!0!==i,!0))}(s,r,i,n).pipe(xr(a=>a&&function Vue(n){return"boolean"==typeof n}(a)?function Wue(n,e,t,r){return or(e).pipe(Ff(i=>yy(function Que(n,e){return null!==n&&e&&e(new mue(n)),fe(!0)}(i.route.parent,r),function Kue(n,e){return null!==n&&e&&e(new _ue(n)),fe(!0)}(i.route,r),function Xue(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Oue(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>vy(()=>fe(s.guards.map(l=>{const c=$f(s.node)??t,u=Bu(l,c);return ea(function jue(n){return n&&Qf(n.canActivateChild)}(u)?u.canActivateChild(r,n):ri(c,()=>u(r,n))).pipe(Tl())})).pipe(Uu())));return fe(o).pipe(Uu())}(n,i.path,t),function Yue(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return fe(!0);const i=r.map(o=>vy(()=>{const s=$f(e)??t,a=Bu(o,s);return ea(function Uue(n){return n&&Qf(n.canActivate)}(a)?a.canActivate(e,n):ri(s,()=>a(e,n))).pipe(Tl())}));return fe(i).pipe(Uu())}(n,i.route,t))),Tl(i=>!0!==i,!0))}(r,o,n,e):fe(a)),ve(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Ln(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&"boolean"!=typeof s.guardsResult)throw Ny(0,s.guardsResult);const a=new uue(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),En(s=>!!s.guardsResult||(this.cancelNavigationTransition(s,"",ui.GuardRejected),!1)),tS(s=>{if(0!==s.guards.canActivateChecks.length)return fe(s).pipe(Ln(a=>{const l=new due(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ci(a=>{let l=!1;return fe(a).pipe(function yde(n,e){return xr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return fe(t);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const c of QH(l))s.add(c);let a=0;return or(s).pipe(Ff(l=>o.has(l)?function vde(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!OH(i)&&(o[Vf]=i.title),function bde(n,e,t,r){const i=OD(n);if(0===i.length)return fe({});const o={};return or(i).pipe(xr(s=>function Ede(n,e,t,r){const i=$f(e)??r,o=Bu(n,i);return ea(o.resolve?o.resolve(e,t):ri(i,()=>o(e,t)))}(n[s],e,t,r).pipe(Tl(),Ln(a=>{if(a instanceof XD)throw Ny(new Cy,a);o[s]=a}))),PD(1),ve(()=>o),Dl(s=>HH(s)?li:Nf(s)))}(o,n,e,r).pipe(ve(s=>(n._resolvedData=s,n.data=ky(n,n.parent,t).resolve,null)))}(l,r,n,e):(l.data=ky(l,l.parent,n).resolve,fe(void 0))),Ln(()=>a++),PD(1),xr(l=>a===s.size?fe(t):li))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ln({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",ui.NoDataFromResolver)}}))}),Ln(a=>{const l=new hue(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),tS(s=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ln(u=>{l.component=u}),ve(()=>{})));for(const u of l.children)c.push(...a(u));return c};return Ou(a(s.targetSnapshot.root)).pipe(by(null),Fn(1))}),tS(()=>this.afterPreactivation()),ci(()=>{const{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?or(l).pipe(ve(()=>r)):fe(r)}),ve(s=>{const a=function Aue(n,e,t){const r=Gf(n,e._root,t?t._root:void 0);return new MH(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r={...s,targetRouterState:a},this.currentNavigation.targetRouterState=a,r}),Ln(()=>{this.events.next(new zD)}),((n,e,t,r)=>ve(i=>(new Pue(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Fn(1),Ln({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Qt(this.transitionAbortSubject.pipe(Ln(s=>{throw s}))),Ey(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",ui.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dl(s=>{if(this.destroyed)return r.resolve(!1),li;if(o=!0,UH(s))this.events.next(new Ml(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),function Mue(n){return UH(n)&&Rl(n.url)}(s)?this.events.next(new My(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{const a=new HD(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{const l=ri(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(!(l instanceof XD))throw this.events.next(a),s;{const{message:c,cancellationCode:u}=Ny(0,l);this.events.next(new Ml(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new My(l.redirectTo,l.navigationBehaviorOptions))}}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return li}))}))}cancelNavigationTransition(t,r,i){const o=new Ml(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mde(n){return n!==xy}let kde=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>v(Nde),providedIn:"root"})}return n})();class Pde{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Nde=(()=>{class n extends Pde{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JH=(()=>{class n{urlSerializer=v(Iy);options=v(nS,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(Nu);urlHandlingStrategy=v(iS);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Sl;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){const o=void 0!==t?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Sl?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=kH(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>v(Ode),providedIn:"root"})}return n})(),Ode=(()=>{class n extends JH{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof UD?this.updateStateMemento():t instanceof zf?this.commitTransition(r):t instanceof RH?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zD?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ml&&(t.code===ui.GuardRejected||t.code===ui.NoDataFromResolver)?this.restoreHistory(r):t instanceof HD?this.restoreHistory(r,!0):t instanceof xl&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){const{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){const a=this.browserPageId,l={...s,...this.generateNgRouterState(i,a)};this.location.replaceState(t,"",l)}else{const a={...s,...this.generateNgRouterState(i,this.browserPageId+1)};this.location.go(t,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&0===o&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Lde={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vde={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hu=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(wT);stateManager=v(JH);options=v(nS,{optional:!0})||{};pendingTasks=v(cl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(xde);urlSerializer=v(Iy);location=v(Nu);urlHandlingStrategy=v(iS);_events=new he;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(kde);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(rS,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(QD,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Zt;subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Ml&&r.code!==ui.Redirect&&r.code!==ui.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof xl)this.navigated=!0;else if(r instanceof My){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Mde(i.source),...s};this.scheduleNavigation(a,xy,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Ude(n){return!(n instanceof zD||n instanceof My)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xy,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(YD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let h,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{h=wH(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),h=this.currentUrlTree.root}return IH(h,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Rl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,xy,null,r)}navigate(t,r={skipLocationChange:!1}){return function Bde(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new N(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...Lde}:!1===r?{...Vde}:r,Rl(t))return fH(this.currentUrlTree,t,i);const o=this.parseUrl(t);return fH(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,f)=>{a=h,l=f});const u=this.pendingTasks.add();return function Fde(n,e){n.events.pipe(En(t=>t instanceof xl||t instanceof Ml||t instanceof HD||t instanceof zf),ve(t=>t instanceof xl||t instanceof zf?0:t instanceof Ml&&(t.code===ui.Redirect||t.code===ui.SupersededByNewNavigation)?2:1),En(t=>2!==t),Fn(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const sS=new j("");function tz(n){return n.routerState.root}function nz(){const n=v(We);return e=>{const t=n.get(ir);if(e!==t.components[0])return;const r=n.get(Hu),i=n.get(rz);1===n.get(aS)&&r.initialNavigation(),n.get(iz,null,Pe.Optional)?.setUpPreloading(),n.get(sS,null,Pe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const rz=new j("",{factory:()=>new he}),aS=new j("",{providedIn:"root",factory:()=>1}),iz=new j(""),zu=new at(ug),lS="Service workers are disabled or not supported by this browser";class Vy{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,e){let r=null;const i=new he;this.worker=new at(c=>(null!==r&&c.next(r),i.subscribe(u=>c.next(u))));const o=()=>{const{controller:c}=e;null!==c&&(r=c,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(ci(()=>e.getRegistration()));const s=new he;this.events=s.asObservable();const a=c=>{const{data:u}=c;u?.type&&s.next(u)};e.addEventListener("message",a),t?.get(ir,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}else this.worker=this.events=this.registration=new at(r=>r.error(new N(5601,!1)))}postMessage(e,t){return new Promise(r=>{this.worker.pipe(Fn(1)).subscribe(i=>{i.postMessage({action:e,...t}),r()})})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(En(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Fn(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(En(i=>i.nonce===e),Fn(1),ve(i=>{if(void 0!==i.result)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}}let Yde=(()=>{class n{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new he;constructor(t){if(this.sw=t,!t.isEnabled)return this.messages=zu,this.notificationClicks=zu,void(this.subscription=zu);this.messages=this.sw.eventsOfType("PUSH").pipe(ve(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ve(i=>i.data)),this.pushManager=this.sw.registration.pipe(ve(i=>i.pushManager));const r=this.pushManager.pipe(ci(i=>i.getSubscription()));this.subscription=new at(i=>{const o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(lS));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(ci(l=>l.subscribe(r)),Fn(1)).subscribe({next:l=>{this.subscriptionChanges.next(l),s(l)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(lS));const t=r=>{if(null===r)throw new N(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new N(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(Fn(1),ci(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(ae(Vy))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Xde=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=zu,void(this.unrecoverable=zu);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(lS));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new N(5601,!1));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(ae(Vy))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();const sz=new j("");function Zde(){const n=v(cS);if(!("serviceWorker"in navigator)||!1===n.enabled)return;const e=v(sz),t=v(le),r=v(ir);t.runOutsideAngular(()=>{const i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i;const{registrationStrategy:o}=n;if("function"==typeof o)i=new Promise(s=>o().subscribe(()=>s()));else{const[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=az(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),az(+a[0])]);break;default:throw new N(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error(lo(5604,!1)))})})}function az(n){return new Promise(e=>setTimeout(e,n))}function Jde(n,e){return new Vy(!1!==n.enabled?navigator.serviceWorker:void 0,e)}class cS{enabled;scope;registrationStrategy}var we=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(we||{});const is="*";function uS(n,e){return{type:we.Trigger,name:n,definitions:e,options:{}}}function Ai(n,e=null){return{type:we.Animate,styles:e,timings:n}}function sn(n){return{type:we.Style,styles:n,offset:null}}function kl(n,e,t){return{type:we.State,name:n,styles:e,options:t}}function lz(n){return{type:we.Keyframes,steps:n}}function Ri(n,e,t=null){return{type:we.Transition,expr:n,animation:e,options:t}}class Yf{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class cz{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function uz(n){return new N(3e3,!1)}function ta(n){switch(n.length){case 0:return new Yf;case 1:return n[0];default:return new cz(n)}}function dz(n,e,t=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==s,h=u&&a||new Map;l.forEach((f,p)=>{let g=p,y=f;if("offset"!==p)switch(g=n.normalizePropertyName(g,i),y){case"!":y=t.get(p);break;case is:y=r.get(p);break;default:y=n.normalizeStyleValue(p,g,y,i)}h.set(g,y)}),u||o.push(h),a=h,s=c}),i.length)throw function whe(){return new N(3502,!1)}();return o}function hS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&fS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&fS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&fS(t,"destroy",n)))}}function fS(n,e,t){const o=pS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function pS(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function di(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function hz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Nhe=typeof document>"u"?null:document.documentElement;function mS(n){const e=n.parentNode||n.host||null;return e===Nhe?null:e}let Pl=null,fz=!1;function pz(n,e){for(;e;){if(e===n)return!0;e=mS(e)}return!1}function mz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}const _z="ng-enter",gS="ng-leave",By="ng-trigger",Uy=".ng-trigger",yz="ng-animating",_S=".ng-animating";function os(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yS(parseFloat(e[1]),e[2])}function yS(n,e){return"s"===e?1e3*n:n}function jy(n,e,t){return n.hasOwnProperty("duration")?n:function Uhe(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(uz()),{duration:0,delay:0,easing:""};i=yS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=yS(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function nhe(){return new N(3100,!1)}()),a=!0),o<0&&(e.push(function rhe(){return new N(3101,!1)}()),a=!0),a&&e.splice(l,0,uz())}return{duration:i,delay:o,easing:s}}(n,e,t)}function Ao(n,e,t){e.forEach((r,i)=>{const o=bS(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Nl(n,e){e.forEach((t,r)=>{const i=bS(r);n.style[i]=""})}function Xf(n){return Array.isArray(n)?1==n.length?n[0]:function the(n,e=null){return{type:we.Sequence,steps:n,options:e}}(n):n}const vS=new RegExp("{{\\s*(.+?)\\s*}}","g");function vz(n){let e=[];if("string"==typeof n){let t;for(;t=vS.exec(n);)e.push(t[1]);vS.lastIndex=0}return e}function Zf(n,e,t){const r=`${n}`,i=r.replace(vS,(o,s)=>{let a=e[s];return null==a&&(t.push(function ohe(){return new N(3003,!1)}()),a=""),a.toString()});return i==r?n:i}const zhe=/-+([a-z0-9])/g;function bS(n){return n.replace(zhe,(...e)=>e[1].toUpperCase())}function hi(n,e,t){switch(e.type){case we.Trigger:return n.visitTrigger(e,t);case we.State:return n.visitState(e,t);case we.Transition:return n.visitTransition(e,t);case we.Sequence:return n.visitSequence(e,t);case we.Group:return n.visitGroup(e,t);case we.Animate:return n.visitAnimate(e,t);case we.Keyframes:return n.visitKeyframes(e,t);case we.Style:return n.visitStyle(e,t);case we.Reference:return n.visitReference(e,t);case we.AnimateChild:return n.visitAnimateChild(e,t);case we.AnimateRef:return n.visitAnimateRef(e,t);case we.Query:return n.visitQuery(e,t);case we.Stagger:return n.visitStagger(e,t);default:throw function she(){return new N(3004,!1)}()}}function ES(n,e){return window.getComputedStyle(n)[e]}let wS=(()=>{class n{validateStyleProperty(t){return function Fhe(n){Pl||(Pl=function Lhe(){return typeof document<"u"?document.body:null}()||{},fz=!!Pl.style&&"WebkitAppearance"in Pl.style);let e=!0;return Pl.style&&!function Ohe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Pl.style,!e&&fz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Pl.style)),e}(t)}containsElement(t,r){return pz(t,r)}getParentElement(t){return mS(t)}query(t,r,i){return mz(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new Yf(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();class IS{static NOOP=new wS}class CS{}const Whe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bz extends CS{normalizePropertyName(e,t){return bS(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(Whe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function ahe(){return new N(3005,!1)}())}return s+o}}const zy=new Set(["true","1"]),$y=new Set(["false","0"]);function Ez(n,e){const t=zy.has(n)||$y.has(n),r=zy.has(e)||$y.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?zy.has(n):$y.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?zy.has(e):$y.has(e)),s&&a}}const Xhe=new RegExp("s*:selfs*,?","g");function DS(n,e,t,r){return new Zhe(n).build(e,t,r)}class Zhe{_driver;constructor(e){this._driver=e}build(e,t,r){const i=new tfe(t);return this._resetContextStyleTimingState(i),hi(this,Xf(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function lhe(){return new N(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==we.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(a.type==we.Transition){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(function che(){return new N(3007,!1)}())}),{type:we.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{vz(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&t.errors.push(function uhe(){return new N(3008,!1)}(0,o.values()))}return{type:we.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=hi(this,Xf(e.animation),t),i=function Khe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Qhe(n,e,t){if(":"==n[0]){const l=function Yhe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function bhe(){return new N(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function vhe(){return new N(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(Ez(i,s)),"<"==o[0]&&("*"!=i||"*"!=s)&&e.push(Ez(s,i))}(r,t,e)):t.push(n),t}(e.expr,t.errors);return{type:we.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ol(e.options)}}visitSequence(e,t){return{type:we.Sequence,steps:e.steps.map(r=>hi(this,r,t)),options:Ol(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=hi(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:we.Group,steps:o,options:Ol(e.options)}}visitAnimate(e,t){const r=function rfe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return SS(jy(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=SS(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=jy(t,e);return SS(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:sn({});if(o.type==we.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=sn(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:we.Animate,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===is?r.push(a):t.errors.push(new N(3002,!1)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:we.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let h=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(function hhe(){return new N(3010,!1)}()),h=!1),o=u.startTime),h&&c.set(l,{startTime:o,endTime:i}),t.options&&function Hhe(n,e,t){const r=e.params||{},i=vz(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function ihe(){return new N(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:we.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function fhe(){return new N(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,c=0;const u=e.steps.map(C=>{const T=this._makeStyleAst(C,t);let L=null!=T.offset?T.offset:function nfe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(T.styles),q=0;return null!=L&&(o++,q=T.offset=L),l=l||q<0||q>1,a=a||q<c,c=q,s.push(q),T});l&&t.errors.push(function phe(){return new N(3012,!1)}()),a&&t.errors.push(function mhe(){return new N(3200,!1)}());const h=e.steps.length;let f=0;o>0&&o<h?t.errors.push(function ghe(){return new N(3202,!1)}()):0==o&&(f=1/(h-1));const p=h-1,g=t.currentTime,y=t.currentAnimateTimings,E=y.duration;return u.forEach((C,T)=>{const L=f>0?T==p?1:f*T:s[T],q=L*E;t.currentTime=g+y.delay+q,y.duration=q,this._validateStyleAst(C,t),C.offset=L,r.styles.push(C)}),r}visitReference(e,t){return{type:we.Reference,animation:hi(this,Xf(e.animation),t),options:Ol(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:we.AnimateChild,options:Ol(e.options)}}visitAnimateRef(e,t){return{type:we.AnimateRef,animation:this.visitReference(e.animation,t),options:Ol(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Jhe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Xhe,"")),n=n.replace(/@\*/g,Uy).replace(/@\w+/g,t=>Uy+"-"+t.slice(1)).replace(/:animating/g,_S),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,di(t.collectedStyles,t.currentQuerySelector,new Map);const a=hi(this,Xf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:we.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ol(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function _he(){return new N(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:jy(e.timings,t.errors,!0);return{type:we.Stagger,animation:hi(this,Xf(e.animation),t),timings:r,options:null}}}class tfe{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}}function Ol(n){return n?(n={...n}).params&&(n.params=function efe(n){return n?{...n}:null}(n.params)):n={},n}function SS(n,e,t){return{duration:n,delay:e,easing:t}}function AS(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class qy{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const sfe=new RegExp(":enter","g"),lfe=new RegExp(":leave","g");function RS(n,e,t,r,i,o=new Map,s=new Map,a,l,c=[]){return(new cfe).buildKeyframes(n,e,t,r,i,o,s,a,l,c)}class cfe{buildKeyframes(e,t,r,i,o,s,a,l,c,u=[]){c=c||new qy;const h=new xS(e,t,c,i,o,u,[]);h.options=l;const f=l.delay?os(l.delay):0;h.currentTimeline.delayNextStep(f),h.currentTimeline.setStyles([s],null,h.errors,l),hi(this,r,h);const p=h.timelines.filter(g=>g.containsAnimation());if(p.length&&a.size){let g;for(let y=p.length-1;y>=0;y--){const E=p[y];if(E.element===t){g=E;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,h.errors,l)}return p.length?p.map(g=>g.buildKeyframes()):[AS(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const s="number"==typeof o?o:os(Zf(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?os(r.duration):null,a=null!=r.delay?os(r.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),hi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){i.previousNode.type==we.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Gy);const s=os(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>hi(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?os(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),hi(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return jy(t.params?Zf(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;o.type==we.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?os(i.delay):0;o&&(t.previousNode.type===we.Style||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Gy);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const h=t.createSubContext(e.options,c);o&&h.delayNextStep(o),c===t.element&&(l=h.currentTimeline),hi(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;hi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}}const Gy={};class xS{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Gy;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Wy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=os(r.duration)),null!=r.delay&&(i.delay=os(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Zf(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new xS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Gy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new ufe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(sfe,"."+this._enterClassName)).replace(lfe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function yhe(){return new N(3014,!1)}()),a}}class Wy{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Wy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||is),this._currentKeyframe.set(t,is);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},s=function dfe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r??=e.keys();for(let o of r)t.set(o,is)}else for(let[o,s]of i)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=Zf(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??is),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{"!"===u?e.add(h):u===is&&t.add(h)}),r||c.set("offset",l/this.duration),i.push(c)});const o=[...e.values()],s=[...t.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return AS(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class ufe extends Wy{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);const c=new Map(e[0]);c.set("offset",Cz(a)),o.push(c);const u=e.length-1;for(let h=1;h<=u;h++){let f=new Map(e[h]);const p=f.get("offset");f.set("offset",Cz((t+p*r)/s)),o.push(f)}r=s,t=0,i="",e=o}return AS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Cz(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function Tz(n,e,t,r,i,o,s,a,l,c,u,h,f){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:f}}const MS={};class Dz{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function hfe(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,l,c,u){const h=[],f=this.ast.options&&this.ast.options.params||MS,g=this.buildStyles(r,a&&a.params||MS,h),y=l&&l.params||MS,E=this.buildStyles(i,y,h),C=new Set,T=new Map,L=new Map,q="void"===i,ee={params:Sz(y,f),delay:this.ast.options?.delay},ie=u?[]:RS(e,t,this.ast.animation,o,s,g,E,ee,c,h);let A=0;return ie.forEach(I=>{A=Math.max(I.duration+I.delay,A)}),h.length?Tz(t,this._triggerName,r,i,q,g,E,[],[],T,L,A,h):(ie.forEach(I=>{const D=I.element,R=di(T,D,new Set);I.preStyleProps.forEach(P=>R.add(P));const x=di(L,D,new Set);I.postStyleProps.forEach(P=>x.add(P)),D!==t&&C.add(D)}),Tz(t,this._triggerName,r,i,q,g,E,ie,[...C.values()],T,L,A))}}function Sz(n,e){const t={...e};return Object.entries(n).forEach(([r,i])=>{null!=i&&(t[r]=i)}),t}class ffe{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Sz(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Zf(s,i,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(a,s)})}),r}}class mfe{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{this.states.set(i.name,new ffe(i.style,i.options&&i.options.params||{},r))}),Az(this.states,"true","1"),Az(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Dz(e,i,this.states))}),this.fallbackTransition=function gfe(n,e){return new Dz(n,{type:we.Transition,animation:{type:we.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Az(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const _fe=new qy;class yfe{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){const r=[],o=DS(this._driver,t,r,[]);if(r.length)throw function Ihe(){return new N(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=dz(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=RS(this._driver,t,o,_z,gS,new Map,new Map,r,_fe,i),s.forEach(u=>{const h=di(a,u.element,new Map);u.postStyleProps.forEach(f=>h.set(f,null))})):(i.push(function Che(){return new N(3300,!1)}()),s=[]),i.length)throw function The(){return new N(3504,!1)}();a.forEach((u,h)=>{u.forEach((f,p)=>{u.set(p,this._driver.computeStyle(h,p,is))})});const c=ta(s.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,new Map,h)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Dhe(){return new N(3301,!1)}();return t}listen(e,t,r,i){const o=pS(t,"","","");return hS(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Rz="ng-animate-queued",kS="ng-animate-disabled",Ife=[],xz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cfe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},eo="__ng_removed";class PS{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Afe(n){return n??null}(r?e.value:e),r){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Jf="void",NS=new PS(Jf);class Tfe{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,xi(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function She(){return new N(3302,!1)}();if(null==r||0==r.length)throw function Ahe(){return new N(3303,!1)}();if(!function Rfe(n){return"start"==n||"done"==n}(r))throw function Rhe(){return new N(3400,!1)}();const o=di(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=di(this._engine.statesByElement,e,new Map);return a.has(t)||(xi(e,By),xi(e,By+"-"+t),a.set(t,NS)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function xhe(){return new N(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new OS(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(xi(e,By),xi(e,By+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new PS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=NS),c.value!==Jf&&l.value===c.value){if(!function kfe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const y=[],E=o.matchStyles(l.value,l.params,y),C=o.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{Nl(e,E),Ao(e,C)})}return}const f=di(this._engine.playersByElement,e,[]);f.forEach(y=>{y.namespaceId==this.id&&y.triggerName==t&&y.queued&&y.destroy()});let p=o.matchTransition(l.value,c.value,e,c.params),g=!1;if(!p){if(!i)return;p=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:c,player:s,isFallbackTransition:g}),g||(xi(e,Rz),s.onStart(()=>{$u(e,Rz)})),s.onDone(()=>{let y=this.players.indexOf(s);y>=0&&this.players.splice(y,1);const E=this._engine.playersByElement.get(e);if(E){let C=E.indexOf(s);C>=0&&E.splice(C,1)}}),this.players.push(s),f.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Uy,!0);r.forEach(i=>{if(i[eo])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Jf,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&ta(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=r.get(s)||NS,u=new PS(Jf),h=new OS(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[eo];(!o||o===xz)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){xi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=pS(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,hS(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Dfe{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Tfe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(Ky(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ky(t))return;const o=t[eo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xi(e,kS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),$u(e,kS))}removeNode(e,t,r){if(Ky(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[eo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Ky(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Uy,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_S,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ta(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[eo];if(t&&t.setForRemoval){if(e[eo]=xz,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(kS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)xi(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ta(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Mhe(){return new N(3402,!1)}()}_flushAnimations(e,t){const r=new qy,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(se=>{u.add(se);const de=this.driver.query(se,".ng-animate-queued",!0);for(let pe=0;pe<de.length;pe++)u.add(de[pe])});const h=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=Pz(f,this.collectedEnterElements),g=new Map;let y=0;p.forEach((se,de)=>{const pe=_z+y++;g.set(de,pe),se.forEach($e=>xi($e,pe))});const E=[],C=new Set,T=new Set;for(let se=0;se<this.collectedLeaveElements.length;se++){const de=this.collectedLeaveElements[se],pe=de[eo];pe&&pe.setForRemoval&&(E.push(de),C.add(de),pe.hasAnimation?this.driver.query(de,".ng-star-inserted",!0).forEach($e=>C.add($e)):T.add(de))}const L=new Map,q=Pz(f,Array.from(C));q.forEach((se,de)=>{const pe=gS+y++;L.set(de,pe),se.forEach($e=>xi($e,pe))}),e.push(()=>{p.forEach((se,de)=>{const pe=g.get(de);se.forEach($e=>$u($e,pe))}),q.forEach((se,de)=>{const pe=L.get(de);se.forEach($e=>$u($e,pe))}),E.forEach(se=>{this.processLeaveNode(se)})});const ee=[],ie=[];for(let se=this._namespaceList.length-1;se>=0;se--)this._namespaceList[se].drainQueuedTransitions(t).forEach(pe=>{const $e=pe.player,bn=pe.element;if(ee.push($e),this.collectedEnterElements.length){const dn=bn[eo];if(dn&&dn.setForMove){if(dn.previousTriggersValues&&dn.previousTriggersValues.has(pe.triggerName)){const xs=dn.previousTriggersValues.get(pe.triggerName),Zr=this.statesByElement.get(pe.element);if(Zr&&Zr.has(pe.triggerName)){const Ms=Zr.get(pe.triggerName);Ms.value=xs,Zr.set(pe.triggerName,Ms)}}return void $e.destroy()}}const ji=!h||!this.driver.containsElement(h,bn),un=L.get(bn),Ft=g.get(bn),Lt=this._buildInstruction(pe,r,Ft,un,ji);if(Lt.errors&&Lt.errors.length)return void ie.push(Lt);if(ji)return $e.onStart(()=>Nl(bn,Lt.fromStyles)),$e.onDestroy(()=>Ao(bn,Lt.toStyles)),void i.push($e);if(pe.isFallbackTransition)return $e.onStart(()=>Nl(bn,Lt.fromStyles)),$e.onDestroy(()=>Ao(bn,Lt.toStyles)),void i.push($e);const Ua=[];Lt.timelines.forEach(dn=>{dn.stretchStartingKeyframe=!0,this.disabledNodes.has(dn.element)||Ua.push(dn)}),Lt.timelines=Ua,r.append(bn,Lt.timelines),s.push({instruction:Lt,player:$e,element:bn}),Lt.queriedElements.forEach(dn=>di(a,dn,[]).push($e)),Lt.preStyleProps.forEach((dn,xs)=>{if(dn.size){let Zr=l.get(xs);Zr||l.set(xs,Zr=new Set),dn.forEach((Ms,ja)=>Zr.add(ja))}}),Lt.postStyleProps.forEach((dn,xs)=>{let Zr=c.get(xs);Zr||c.set(xs,Zr=new Set),dn.forEach((Ms,ja)=>Zr.add(ja))})});if(ie.length){const se=[];ie.forEach(de=>{se.push(function khe(){return new N(3505,!1)}())}),ee.forEach(de=>de.destroy()),this.reportError(se)}const A=new Map,I=new Map;s.forEach(se=>{const de=se.element;r.has(de)&&(I.set(de,de),this._beforeAnimationBuild(se.player.namespaceId,se.instruction,A))}),i.forEach(se=>{const de=se.element;this._getPreviousPlayers(de,!1,se.namespaceId,se.triggerName,null).forEach($e=>{di(A,de,[]).push($e),$e.destroy()})});const D=E.filter(se=>Oz(se,l,c)),R=new Map;kz(R,this.driver,T,c,is).forEach(se=>{Oz(se,l,c)&&D.push(se)});const P=new Map;p.forEach((se,de)=>{kz(P,this.driver,new Set(se),l,"!")}),D.forEach(se=>{const de=R.get(se),pe=P.get(se);R.set(se,new Map([...de?.entries()??[],...pe?.entries()??[]]))});const S=[],Ui=[],Ba={};s.forEach(se=>{const{element:de,player:pe,instruction:$e}=se;if(r.has(de)){if(u.has(de))return pe.onDestroy(()=>Ao(de,$e.toStyles)),pe.disabled=!0,pe.overrideTotalTime($e.totalTime),void i.push(pe);let bn=Ba;if(I.size>1){let un=de;const Ft=[];for(;un=un.parentNode;){const Lt=I.get(un);if(Lt){bn=Lt;break}Ft.push(un)}Ft.forEach(Lt=>I.set(Lt,bn))}const ji=this._buildAnimation(pe.namespaceId,$e,A,o,P,R);if(pe.setRealPlayer(ji),bn===Ba)S.push(pe);else{const un=this.playersByElement.get(bn);un&&un.length&&(pe.parentPlayer=ta(un)),i.push(pe)}}else Nl(de,$e.fromStyles),pe.onDestroy(()=>Ao(de,$e.toStyles)),Ui.push(pe),u.has(de)&&i.push(pe)}),Ui.forEach(se=>{const de=o.get(se.element);if(de&&de.length){const pe=ta(de);se.setRealPlayer(pe)}}),i.forEach(se=>{se.parentPlayer?se.syncPlayerEvents(se.parentPlayer):se.destroy()});for(let se=0;se<E.length;se++){const de=E[se],pe=de[eo];if($u(de,gS),pe&&pe.hasAnimation)continue;let $e=[];if(a.size){let ji=a.get(de);ji&&ji.length&&$e.push(...ji);let un=this.driver.query(de,_S,!0);for(let Ft=0;Ft<un.length;Ft++){let Lt=a.get(un[Ft]);Lt&&Lt.length&&$e.push(...Lt)}}const bn=$e.filter(ji=>!ji.destroyed);bn.length?xfe(this,de,bn):this.processLeaveNode(de)}return E.length=0,S.forEach(se=>{this.players.push(se),se.onDone(()=>{se.destroy();const de=this.players.indexOf(se);this.players.splice(de,1)}),se.play()}),S}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Jf;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,h=di(r,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(p=>{const g=p.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),p.destroy(),h.push(p)})}Nl(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,f=t.timelines.map(g=>{const y=g.element;u.add(y);const E=y[eo];if(E&&E.removedBeforeQueried)return new Yf(g.duration,g.delay);const C=y!==l,T=function Mfe(n){const e=[];return Nz(n,e),e}((r.get(y)||Ife).map(A=>A.getRealPlayer())).filter(A=>!!A.element&&A.element===y),L=o.get(y),q=s.get(y),ee=dz(this._normalizer,g.keyframes,L,q),ie=this._buildPlayer(g,ee,T);if(g.subTimeline&&i&&h.add(y),C){const A=new OS(e,a,y);A.setRealPlayer(ie),c.push(A)}return ie});c.forEach(g=>{di(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function Sfe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>xi(g,yz));const p=ta(f);return p.onDestroy(()=>{u.forEach(g=>$u(g,yz)),Ao(l,t.toStyles)}),h.forEach(g=>{di(i,g,[]).push(p)}),p}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Yf(e.duration,e.delay)}}class OS{namespaceId;triggerName;element;_player=new Yf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>hS(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){di(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ky(n){return n&&1===n.nodeType}function Mz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function kz(n,e,t,r,i){const o=[];t.forEach(l=>o.push(Mz(l)));const s=[];r.forEach((l,c)=>{const u=new Map;l.forEach(h=>{const f=e.computeStyle(c,h,i);u.set(h,f),(!f||0==f.length)&&(c[eo]=Cfe,s.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>Mz(l,o[a++])),s}function Pz(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function xi(n,e){n.classList?.add(e)}function $u(n,e){n.classList?.remove(e)}function xfe(n,e,t){ta(t).onDone(()=>n.processLeaveNode(e))}function Nz(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof cz?Nz(r.players,e):e.push(r)}}function Oz(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class ep{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new Dfe(e.body,t,r),this._timelineEngine=new yfe(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],u=DS(this._driver,o,l,[]);if(l.length)throw function Ehe(){return new N(3404,!1)}();a=function pfe(n,e,t){return new mfe(n,e,t)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=hz(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=hz(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Nfe=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ao(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ao(this._element,this._initialStyles),this._endStyles&&(Ao(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Nl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nl(this._element,this._endStyles),this._endStyles=null),Ao(this._element,this._initialStyles),this._state=3)}}return n})();function FS(n){let e=null;return n.forEach((t,r)=>{(function Ofe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Fz{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:ES(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Lz{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return pz(e,t)}getParentElement(e){return mS(e)}query(e,t,r){return mz(e,t,r)}computeStyle(e,t,r){return ES(e,t)}animate(e,t,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(p=>p instanceof Fz);(function $he(n,e){return 0===n||0===e})(r,i)&&u.forEach(p=>{p.currentSnapshot.forEach((g,y)=>c.set(y,g))});let h=function jhe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(p=>new Map(p));h=function qhe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,ES(n,a)))}}return e}(e,h,c);const f=function Pfe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=FS(e[0]),e.length>1&&(r=FS(e[e.length-1]))):e instanceof Map&&(t=FS(e)),t||r?new Nfe(n,t,r):null}(e,h);return new Fz(e,h,l,f)}}const Vz="@.disabled";class Bz{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Vz?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ffe extends Bz{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Vz?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if("@"==t.charAt(0)){const o=function Lfe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function Vfe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(e,t,r,i)}}class Bfe{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const c=this._rendererCache;let u=c.get(i);return u||(u=new Bz("",i,this.engine,()=>c.delete(i)),c.set(i,u)),u}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return t.data.animation.forEach(a),new Ffe(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}}const $fe=[{provide:IS,useFactory:()=>new Lz},{provide:go,useFactory:()=>"BrowserAnimations"},...[{provide:CS,useFactory:function jfe(){return new bz}},{provide:ep,useClass:(()=>{class n extends ep{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(ae(nt),ae(IS),ae(CS))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})()},{provide:Di,useFactory:function Hfe(n,e,t){return new Bfe(n,e,t)},deps:[ED,ep,le]}]],jz=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},VS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let f=(15&a)<<2|c>>6,p=63&c;l||(p=64,s||(f=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[f],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(jz(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==h)throw new Yfe;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Yfe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yy=function(n){return function(n){const e=jz(n);return VS.encodeByteArray(e,!0)}(n).replace(/\./g,"")},tp=function(n){try{return VS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const Xy=()=>{try{return function zz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&tp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},$z=n=>{var e,t;return null===(t=null===(e=Xy())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},qz=()=>{var n;return null===(n=Xy())||void 0===n?void 0:n.config},Gz=n=>{var e;return null===(e=Xy())||void 0===e?void 0:e[`_${n}`]};class Zy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function qu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Wz(n){return BS.apply(this,arguments)}function BS(){return(BS=w(function*(n){return(yield fetch(n,{credentials:"include"})).ok})).apply(this,arguments)}const np={};let Kz=!1;function Qz(n,e){if(typeof window>"u"||typeof document>"u"||!qu(window.location.host)||np[n]===e||np[n]||Kz)return;function t(f){return`__firebase__banner__${f}`}np[n]=e;const r="__firebase__banner",o=function ipe(){const n={prod:[],emulator:[]};for(const e of Object.keys(np))np[e]?n.emulator.push(e):n.prod.push(e);return n}().prod.length>0;function h(){const f=function ope(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}(r),p=t("text"),g=document.getElementById(p)||document.createElement("span"),y=t("learnmore"),E=document.getElementById(y)||document.createElement("a"),C=t("preprendIcon"),T=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const L=f.element;(function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"})(L),function u(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}(E,y);const q=function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Kz=!0,function s(){const f=document.getElementById(r);f&&f.remove()}()},f}();(function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"})(T,C),L.append(T,g,E,q),document.body.appendChild(L)}o?(g.innerText="Preview backend disconnected.",T.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(T.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h()}function gn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xz(){return!function Yz(){var n;const e=null===(n=Xy())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function US(){try{return"object"==typeof indexedDB}catch{return!1}}class ss extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gu.prototype.create)}}class Gu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function ppe(n,e){return n.replace(mpe,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new ss(i,`${this.serviceName}: ${s} (${i}).`,r)}}const mpe=/\{\$([^}]+)}/g;function as(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(e$(o)&&e$(s)){if(!as(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function e$(n){return null!==n&&"object"==typeof n}function rp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class ype{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function vpe(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=jS),void 0===i.error&&(i.error=jS),void 0===i.complete&&(i.complete=jS);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jS(){}function sr(n){return n&&n._delegate?n._delegate:n}class ls{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fl="[DEFAULT]";class Tpe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Zy;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Spe(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Fl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return w(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Fl){return this.instances.has(e)}getOptions(e=Fl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Fl?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Fl){return this.component?this.component.multipleInstances?e:Fl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ape{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Tpe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const zS=[];var qe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(qe||{});const t$={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Rpe=qe.INFO,xpe={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Mpe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=xpe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class ev{constructor(e){this.name=e,this._logLevel=Rpe,this._logHandler=Mpe,this._userLogHandler=null,zS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?t$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}let n$,r$;const i$=new WeakMap,$S=new WeakMap,o$=new WeakMap,qS=new WeakMap,GS=new WeakMap;let WS={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return $S.get(n);if("objectStoreNames"===e)return n.objectStoreNames||o$.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return na(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Bpe(n){return"function"==typeof n?function Vpe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Npe(){return r$||(r$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(KS(this),e),na(i$.get(this))}:function(...e){return na(n.apply(KS(this),e))}:function(e,...t){const r=n.call(KS(this),e,...t);return o$.set(r,e.sort?e.sort():[e]),na(r)}}(n):(n instanceof IDBTransaction&&function Fpe(n){if($S.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});$S.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Ppe(){return n$||(n$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,WS):n)}function na(n){if(n instanceof IDBRequest)return function Ope(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(na(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&i$.set(t,n)}).catch(()=>{}),GS.set(e,n),e}(n);if(qS.has(n))return qS.get(n);const e=Bpe(n);return e!==n&&(qS.set(n,e),GS.set(e,n)),e}const KS=n=>GS.get(n),jpe=["get","getKey","getAll","getAllKeys","count"],Hpe=["put","add","delete","clear"],QS=new Map;function s$(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(QS.get(e))return QS.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Hpe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!jpe.includes(t))return;const o=function(){var s=w(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return QS.set(e,o),o}!function Lpe(n){WS=n(WS)}(n=>({...n,get:(e,t,r)=>s$(e,t)||n.get(e,t,r),has:(e,t)=>!!s$(e,t)||n.has(e,t)}));class zpe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function $pe(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const tv="@firebase/app",cs=new ev("@firebase/app"),qpe="@firebase/app-compat",Gpe="@firebase/analytics-compat",Wpe="@firebase/analytics",Kpe="@firebase/app-check-compat",Qpe="@firebase/app-check",Ype="@firebase/auth",Xpe="@firebase/auth-compat",Zpe="@firebase/database",Jpe="@firebase/data-connect",eme="@firebase/database-compat",tme="@firebase/functions",nme="@firebase/functions-compat",rme="@firebase/installations",ime="@firebase/installations-compat",ome="@firebase/messaging",sme="@firebase/messaging-compat",ame="@firebase/performance",lme="@firebase/performance-compat",cme="@firebase/remote-config",ume="@firebase/remote-config-compat",dme="@firebase/storage",hme="@firebase/storage-compat",fme="@firebase/firestore",pme="@firebase/ai",mme="@firebase/firestore-compat",gme="firebase",nv="[DEFAULT]",yme={[tv]:"fire-core",[qpe]:"fire-core-compat",[Wpe]:"fire-analytics",[Gpe]:"fire-analytics-compat",[Qpe]:"fire-app-check",[Kpe]:"fire-app-check-compat",[Ype]:"fire-auth",[Xpe]:"fire-auth-compat",[Zpe]:"fire-rtdb",[Jpe]:"fire-data-connect",[eme]:"fire-rtdb-compat",[tme]:"fire-fn",[nme]:"fire-fn-compat",[rme]:"fire-iid",[ime]:"fire-iid-compat",[ome]:"fire-fcm",[sme]:"fire-fcm-compat",[ame]:"fire-perf",[lme]:"fire-perf-compat",[cme]:"fire-rc",[ume]:"fire-rc-compat",[dme]:"fire-gcs",[hme]:"fire-gcs-compat",[fme]:"fire-fst",[mme]:"fire-fst-compat",[pme]:"fire-vertex","fire-js":"fire-js",[gme]:"fire-js-all"},Ll=new Map,ip=new Map,op=new Map;function a$(n,e){try{n.container.addComponent(e)}catch(t){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ra(n){const e=n.name;if(op.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,n);for(const t of Ll.values())a$(t,n);for(const t of ip.values())a$(t,n);return!0}function rv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function to(n){return null!=n&&void 0!==n.settings}const Mi=new Gu("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class l${constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}const Wu="11.10.0";function u$(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:nv,automaticDataCollectionEnabled:!0},e),i=r.name;if("string"!=typeof i||!i)throw Mi.create("bad-app-name",{appName:String(i)});if(t||(t=qz()),!t)throw Mi.create("no-options");const o=Ll.get(i);if(o){if(as(t,o.options)&&as(r,o.config))return o;throw Mi.create("duplicate-app",{appName:i})}const s=new Ape(i);for(const l of op.values())s.addComponent(l);const a=new l$(t,r,s);return Ll.set(i,a),a}function XS(n=nv){const e=Ll.get(n);if(!e&&n===nv&&qz())return u$();if(!e)throw Mi.create("no-app",{appName:n});return e}function d$(){return Array.from(Ll.values())}function Mr(n,e,t){var r;let i=null!==(r=yme[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void cs.warn(a.join(" "))}ra(new ls(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const sp="firebase-heartbeat-store";let JS=null;function h$(){return JS||(JS=function Upe(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=na(s);return r&&s.addEventListener("upgradeneeded",l=>{r(na(s.result),l.oldVersion,l.newVersion,na(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(sp)}catch(t){console.warn(t)}}}).catch(n=>{throw Mi.create("idb-open",{originalErrorMessage:n.message})})),JS}function e0(){return(e0=w(function*(n){try{const t=(yield h$()).transaction(sp),r=yield t.objectStore(sp).get(p$(n));return yield t.done,r}catch(e){if(e instanceof ss)cs.warn(e.message);else{const t=Mi.create("idb-get",{originalErrorMessage:e?.message});cs.warn(t.message)}}})).apply(this,arguments)}function f$(n,e){return t0.apply(this,arguments)}function t0(){return(t0=w(function*(n,e){try{const r=(yield h$()).transaction(sp,"readwrite");yield r.objectStore(sp).put(e,p$(n)),yield r.done}catch(t){if(t instanceof ss)cs.warn(t.message);else{const r=Mi.create("idb-set",{originalErrorMessage:t?.message});cs.warn(r.message)}}})).apply(this,arguments)}function p$(n){return`${n.name}!${n.options.appId}`}class Ame{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xme(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return w(function*(){var t,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=m$();if(null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats.length>30){const a=function Mme(n){if(0===n.length)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}(e._heartbeatsCache.heartbeats);e._heartbeatsCache.heartbeats.splice(a,1)}return e._storage.overwrite(e._heartbeatsCache)}catch(i){cs.warn(i)}})()}getHeartbeatsHeader(){var e=this;return w(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=m$(),{heartbeatsToSend:i,unsentEntries:o}=function Rme(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),g$(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),g$(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Yy(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return cs.warn(r),""}})()}}function m$(){return(new Date).toISOString().substring(0,10)}class xme{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(function*(){return!!US()&&function hpe(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return w(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Tme(n){return e0.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return w(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return f$(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return w(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return f$(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function g$(n){return Yy(JSON.stringify({version:2,heartbeats:n})).length}!function kme(n){ra(new ls("platform-logger",e=>new zpe(e),"PRIVATE")),ra(new ls("heartbeat",e=>new Ame(e),"PRIVATE")),Mr(tv,"0.13.2",n),Mr(tv,"0.13.2","esm2017"),Mr("fire-js","")}(""),Mr("firebase","11.10.0","app");class Bme extends Zt{constructor(e,t){super()}schedule(e,t=0){return this}}const iv={setInterval(n,e,...t){const{delegate:r}=iv;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=iv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class ov extends Bme{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return iv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&iv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,lg(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const n0={now:()=>(n0.delegate||Date).now(),delegate:void 0};class ap{constructor(e,t=ap.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}ap.now=n0.now;class sv extends ap{constructor(e,t=ap.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Hme=new class jme extends sv{}(class Ume extends ov{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),av=new sv(ov),zme=av,lv=new ny("ANGULARFIRE2_VERSION");function r0(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const o0=(n,e)=>{const t=e?[e]:d$(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};var Ku=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ku||{}),s0=lD()&&typeof Zone<"u"?Ku.WARN:Ku.SILENT;class b${zone;delegate;constructor(e,t=Hme){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])},t,r)}}let cv=(()=>{class n{outsideAngular;insideAngular;constructor(){const t=v(le);this.outsideAngular=t.runOutsideAngular(()=>new b$(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new b$(typeof Zone>"u"?void 0:Zone.current,av))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var E$=!1;function Vl(n){const e=v(le,{optional:!0});return e?e.run(()=>n()):n()}const Gme=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ri(t,()=>Vl(()=>n.apply(void 0,r)))),ki=(n,e,t)=>(t||=e?Ku.WARN:Ku.VERBOSE,function(){let r;const i=arguments;let o,s,a;try{o=v(cv),s=v(Gg),a=v(tr)}catch{return function $me(n,e){!E$&&(s0>Ku.SILENT||!1)&&(E$=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),s0>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}(n,t),n.apply(this,i)}for(let c=0;c<arguments.length;c++)"function"==typeof i[c]&&(e&&(r||=Vl(()=>s.add())),i[c]=Gme(i[c],r,a));const l=function qme(n){const e=v(le,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}(()=>n.apply(this,i));return e?l instanceof at?l.pipe(gy(o.outsideAngular),my(o.insideAngular),function v$(n){void 0===n&&(el(),n=v(We));const e=n.get(Gg);return t=>new at(r=>{const i=e.add();let o=!1;function s(){o||(i(),o=!0)}const a=t.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}(a)):l instanceof Promise?Vl(()=>new Promise((c,u)=>{s.run(()=>l).then(h=>ri(a,()=>Vl(()=>c(h))),h=>ri(a,()=>Vl(()=>u(h))))})):"function"==typeof l&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Vl(()=>l):l instanceof at?l.pipe(gy(o.outsideAngular),my(o.insideAngular)):Vl(()=>l)});class Qu{constructor(e){return e}}class a0{constructor(){return d$()}}const l0=new j("angularfire2._apps"),Kme={provide:Qu,useFactory:function Wme(n){return n&&1===n.length?n[0]:new Qu(XS())},deps:[[new Un,l0]]},Qme={provide:a0,deps:[[new Un,l0]]};function Yme(n){return(e,t)=>{const r=t.get(Kc);Mr("angularfire",lv.full,"core"),Mr("angularfire",lv.full,"app"),Mr("angular",iD.full,r.toString());const i=e.runOutsideAngular(()=>n(t));return new Qu(i)}}const Zme=ki(u$,!0),Jme_firebase={apiKey:"AIzaSyAly4kSQgSYyuSi3mq4F3JCJbyJkVSmNkM",authDomain:"mom-xmas.firebaseapp.com",projectId:"mom-xmas",storageBucket:"mom-xmas.firebasestorage.app",messagingSenderId:"17129859812",appId:"1:17129859812:web:dd921a06023bd2cf52daf1",measurementId:"G-K5LSNK2GE8"},c0=new Map,w$={activated:!1,tokenObservers:[]},ege={initialized:!1,enabled:!1};function an(n){return c0.get(n)||Object.assign({},w$)}function uv(){return ege}class sge{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return w(function*(){t.stop();try{t.pending=new Zy,t.pending.promise.catch(r=>{}),yield function age(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Zy,t.pending.promise.catch(r=>{}),yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ar=new Gu("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function d0(n){if(!an(n).activated)throw ar.create("use-before-activation",{appName:n.name})}function fv(n,e){return f0.apply(this,arguments)}function f0(){return(f0=w(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const h=yield i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(h){throw ar.create("fetch-network-error",{originalErrorMessage:h?.message})}if(200!==s.status)throw ar.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(h){throw ar.create("fetch-parse-error",{originalErrorMessage:h?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw ar.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function C$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const lp="firebase-app-check-store";let pv=null;function p0(){return(p0=w(function*(n,e){const r=(yield function D$(){return pv||(pv=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ar.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(lp,{keyPath:"compositeKey"})}}catch(t){e(ar.create("storage-open",{originalErrorMessage:t?.message}))}}),pv)}()).transaction(lp,"readwrite"),o=r.objectStore(lp).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(ar.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const ia=new ev("@firebase/app-check");function _0(n,e){return US()?function pge(n,e){return function S$(n,e){return p0.apply(this,arguments)}(function R$(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ia.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function v0(){return uv().enabled}function b0(){return E0.apply(this,arguments)}function E0(){return(E0=w(function*(){const n=uv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bge={error:"UNKNOWN_ERROR"};function Ege(n){return VS.encodeString(JSON.stringify(n),!1)}function mv(n){return w0.apply(this,arguments)}function w0(){return(w0=w(function*(n,e=!1,t=!1){const r=n.app;d0(r);const i=an(r);let s,o=i.token;if(o&&!Yu(o)&&(i.token=void 0,o=void 0),!o){const c=yield i.cachedTokenPromise;c&&(Yu(c)?o=c:yield _0(r,void 0))}if(!e&&o&&Yu(o))return{token:o.token};let l,a=!1;if(v0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=fv(C$(r,yield b0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const c=yield i.exchangeTokenPromise;return yield _0(r,c),i.token=c,{token:c.token}}catch(c){return"appCheck/throttled"===c.code||"appCheck/initial-throttle"===c.code?ia.warn(c.message):t&&ia.error(c),D0(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield an(r).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code||"appCheck/initial-throttle"===c.code?ia.warn(c.message):t&&ia.error(c),s=c}return o?s?l=Yu(o)?{token:o.token,internalError:s}:D0(s):(l={token:o.token},i.token=o,yield _0(r,o)):l=D0(s),a&&function k$(n,e){const t=an(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,l),l})).apply(this,arguments)}function I0(){return(I0=w(function*(n){const e=n.app;d0(e);const{provider:t}=an(e);if(v0()){const r=yield b0(),{token:i}=yield fv(C$(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function T0(n,e){const t=an(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function M$(n){const{app:e}=n,t=an(e);let r=t.tokenRefresher;r||(r=function wge(n){const{app:e}=n;return new sge(w(function*(){let r;if(r=an(e).token?yield mv(n,!0):yield mv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=an(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Yu(n){return n.expireTimeMillis-Date.now()>0}function D0(n){return{token:Ege(bge),error:n}}class Ige{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=an(this.app);for(const t of e)T0(this.app,t.next);return Promise.resolve()}}const U$="app-check-internal";!function Lge(){ra(new ls("app-check",n=>function Cge(n,e){return new Ige(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(U$).initialize()})),ra(new ls(U$,n=>function Tge(n){return{getToken:e=>mv(n,e),getLimitedUseToken:()=>function x$(n){return I0.apply(this,arguments)}(n),addTokenListener:e=>function C0(n,e,t,r){const{app:i}=n,o=an(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Yu(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),M$(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>M$(n))}(n,"INTERNAL",e),removeTokenListener:e=>T0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Mr("@firebase/app-check","0.10.1")}();class x0{constructor(){return o0("app-check")}}typeof window<"u"&&window;const zge=function H$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},z$=new Gu("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_v=new ev("@firebase/auth");function yv(n,...e){_v.logLevel<=qe.ERROR&&_v.error(`Auth (${Wu}): ${n}`,...e)}function Qr(n,...e){throw P0(n,...e)}function Pi(n,...e){return P0(n,...e)}function k0(n,e,t){const r=Object.assign(Object.assign({},zge()),{[e]:t});return new Gu("auth","Firebase",r).create(e,{appName:n.name})}function Wn(n){return k0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P0(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return z$.create(n,...e)}function Y(n,e,...t){if(!n)throw P0(e,...t)}function Ro(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yv(e),new Error(e)}function oa(n,e){n||Ro(e)}function cp(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function $$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function qge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function N0(){return"http:"===$$()||"https:"===$$()}()||function cpe(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class up{constructor(e,t){this.shortDelay=e,this.longDelay=t,oa(t>e,"Short delay should be less than long delay!"),this.isMobile=function spe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}()||function upe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return qge()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function O0(n,e){oa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class q${static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ro("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ro("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ro("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Kge=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qge=new up(3e4,6e4);function kt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Pt(n,e,t,r){return F0.apply(this,arguments)}function F0(){return(F0=w(function*(n,e,t,r,i={}){return G$(n,i,w(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=rp(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},o);return function lpe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(c.referrerPolicy="no-referrer"),n.emulatorConfig&&qu(n.emulatorConfig.host)&&(c.credentials="include"),q$.fetch()(yield W$(n,n.config.apiHost,t,a),c)}))})).apply(this,arguments)}function G$(n,e,t){return L0.apply(this,arguments)}function L0(){return(L0=w(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wge),e);try{const i=new Xge(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw dp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw dp(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw dp(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw dp(n,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw k0(n,u,c);Qr(n,u)}}catch(i){if(i instanceof ss)throw i;Qr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function us(n,e,t,r){return V0.apply(this,arguments)}function V0(){return(V0=w(function*(n,e,t,r,i={}){const o=yield Pt(n,e,t,r,i);return"mfaPendingCredential"in o&&Qr(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function W$(n,e,t,r){return B0.apply(this,arguments)}function B0(){return(B0=w(function*(n,e,t,r){const i=`${e}${t}?${r}`,o=n,s=o.config.emulator?O0(n.config,i):`${n.config.apiScheme}://${i}`;return Kge.includes(t)&&(yield o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())?o._getPersistence()._getFinalTarget(s).toString():s})).apply(this,arguments)}class Xge{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),Qge.get())})}}function dp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Pi(n,e,r);return i.customData._tokenResponse=t,i}function H0(){return(H0=w(function*(n,e){return Pt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function vv(n,e){return $0.apply(this,arguments)}function $0(){return($0=w(function*(n,e){return Pt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function hp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function q0(){return(q0=w(function*(n,e=!1){const t=sr(n),r=yield t.getIdToken(e),i=bv(r);Y(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:hp(G0(i.auth_time)),issuedAtTime:hp(G0(i.iat)),expirationTime:hp(G0(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function G0(n){return 1e3*Number(n)}function bv(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return yv("JWT malformed, contained fewer than 3 sections"),null;try{const i=tp(t);return i?JSON.parse(i):(yv("Failed to decode base64 JWT payload"),null)}catch(i){return yv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Z$(n){const e=bv(n);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ds(n,e){return W0.apply(this,arguments)}function W0(){return(W0=w(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ss&&function n_e({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class r_e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(w(function*(){yield t.iteration()}),r)}iteration(){var e=this;return w(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class K0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hp(this.lastLoginAt),this.creationTime=hp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fp(n){return Q0.apply(this,arguments)}function Q0(){return(Q0=w(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ds(n,vv(t,{idToken:r}));Y(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?J$(o.providerUserInfo):[],a=function o_e(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new K0(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,h)})).apply(this,arguments)}function Y0(){return(Y0=w(function*(n){const e=sr(n);yield fp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function J$(n){return n.map(e=>{var{providerId:t}=e,r=py(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function X0(){return(X0=w(function*(n,e){const t=yield G$(n,{},w(function*(){const r=rp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield W$(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return n.emulatorConfig&&qu(n.emulatorConfig.host)&&(l.credentials="include"),q$.fetch()(s,l)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function Z0(){return(Z0=w(function*(n,e){return Pt(n,"POST","/v2/accounts:revokeToken",kt(n,e))})).apply(this,arguments)}class Zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Y(0!==e.length,"internal-error");const t=Z$(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return w(function*(r,i=!1){return i||!t.accessToken||t.isExpired?(Y(t.refreshToken,r,"user-token-expired"),t.refreshToken?(yield t.refresh(r,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return w(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function s_e(n,e){return X0.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Zu;return r&&(Y("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(Y("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(Y("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zu,this.toJSON())}_performRefresh(){return Ro("not implemented")}}function sa(n,e){Y("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class no{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=py(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r_e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new K0(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return w(function*(){const r=yield ds(t,t.stsTokenManager.getToken(t.auth,e));return Y(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function t_e(n){return q0.apply(this,arguments)}(this,e)}reload(){return function i_e(n){return Y0.apply(this,arguments)}(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new no(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return w(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield fp(t)),yield t.auth._persistUserIfCurrent(t),o&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return w(function*(){if(to(e.auth.app))return Promise.reject(Wn(e.auth));const t=yield e.getIdToken();return yield ds(e,function Jge(n,e){return H0.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,c,u;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,f=null!==(i=t.email)&&void 0!==i?i:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,g=null!==(s=t.photoURL)&&void 0!==s?s:void 0,y=null!==(a=t.tenantId)&&void 0!==a?a:void 0,E=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,C=null!==(c=t.createdAt)&&void 0!==c?c:void 0,T=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:L,emailVerified:q,isAnonymous:ee,providerData:ie,stsTokenManager:A}=t;Y(L&&A,e,"internal-error");const I=Zu.fromJSON(this.name,A);Y("string"==typeof L,e,"internal-error"),sa(h,e.name),sa(f,e.name),Y("boolean"==typeof q,e,"internal-error"),Y("boolean"==typeof ee,e,"internal-error"),sa(p,e.name),sa(g,e.name),sa(y,e.name),sa(E,e.name),sa(C,e.name),sa(T,e.name);const D=new no({uid:L,auth:e,email:f,emailVerified:q,displayName:h,isAnonymous:ee,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:I,createdAt:C,lastLoginAt:T});return ie&&Array.isArray(ie)&&(D.providerData=ie.map(R=>Object.assign({},R))),E&&(D._redirectEventId=E),D}static _fromIdTokenResponse(e,t){return w(function*(r,i,o=!1){const s=new Zu;s.updateFromServerResponse(i);const a=new no({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield fp(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,r){return w(function*(){const i=t.users[0];Y(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?J$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Zu;a.updateFromIdToken(r);const l=new no({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new K0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(l,c),l})()}}const e4=new Map;function hs(n){oa(n instanceof Function,"Expected a class definition");let e=e4.get(n);return e?(oa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,e4.set(n,e),e)}const t4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(function*(){return!0})()}_set(t,r){var i=this;return w(function*(){i.storage[t]=r})()}_get(t){var r=this;return w(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return w(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Ev(n,e,t){return`firebase:${n}:${e}:${t}`}class Ju{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ev(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ev("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return w(function*(){const t=yield e.persistence._get(e.fullUserKey);if(!t)return null;if("string"==typeof t){const r=yield vv(e.auth,{idToken:t}).catch(()=>{});return r?no._fromGetAccountInfoResponse(e.auth,r,t):null}return no._fromJSON(e.auth,t)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return w(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return w(function*(r,i,o="authUser"){if(!i.length)return new Ju(hs(t4),r,o);const s=(yield Promise.all(i.map(function(){var h=w(function*(f){if(yield f._isAvailable())return f});return function(f){return h.apply(this,arguments)}}()))).filter(h=>h);let a=s[0]||hs(t4);const l=Ev(o,r.config.apiKey,r.name);let c=null;for(const h of i)try{const f=yield h._get(l);if(f){let p;if("string"==typeof f){const g=yield vv(r,{idToken:f}).catch(()=>{});if(!g)break;p=yield no._fromGetAccountInfoResponse(r,g,f)}else p=no._fromJSON(r,f);h!==a&&(c=p),a=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return a._shouldAllowMigration&&u.length?(a=u[0],c&&(yield a._set(l,c.toJSON())),yield Promise.all(i.map(function(){var h=w(function*(f){if(f!==a)try{yield f._remove(l)}catch{}});return function(f){return h.apply(this,arguments)}}())),new Ju(a,r,o)):new Ju(a,r,o)}).apply(this,arguments)}}function n4(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l4(e))return"Blackberry";if(c4(e))return"Webos";if(i4(e))return"Safari";if((e.includes("chrome/")||o4(e))&&!e.includes("edge/"))return"Chrome";if(a4(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function r4(n=gn()){return/firefox\//i.test(n)}function i4(n=gn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o4(n=gn()){return/crios\//i.test(n)}function s4(n=gn()){return/iemobile/i.test(n)}function a4(n=gn()){return/android/i.test(n)}function l4(n=gn()){return/blackberry/i.test(n)}function c4(n=gn()){return/webos/i.test(n)}function J0(n=gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function u4(n=gn()){return J0(n)||a4(n)||c4(n)||l4(n)||/windows phone/i.test(n)||s4(n)}function d4(n,e=[]){let t;switch(n){case"Browser":t=n4(gn());break;case"Worker":t=`${n4(gn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wu}/${r}`}class u_e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return w(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function eA(){return(eA=w(function*(n,e={}){return Pt(n,"GET","/v2/passwordPolicy",kt(n,e))})).apply(this,arguments)}class f_e{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(t=l.meetsMinPasswordLength)||void 0===t||t),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(o=l.containsUppercaseLetter)||void 0===o||o),l.isValid&&(l.isValid=null===(s=l.containsNumericCharacter)||void 0===s||s),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class p_e{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h4(this),this.idTokenSubscription=new h4(this),this.beforeStateQueue=new u_e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=hs(t)),this._initializationPromise=this.queue(w(function*(){var i,o,s;if(!r._deleted&&(r.persistenceManager=yield Ju.create(r,e),null===(i=r._resolvePersistenceManagerAvailable)||void 0===i||i.call(r),!r._deleted)){if(null!==(o=r._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return w(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return w(function*(){try{const r=yield vv(t,{idToken:e}),i=yield no._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return w(function*(){var r;if(to(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(l,l))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return Y(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return w(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return w(function*(){try{yield fp(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Gge(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return w(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return w(function*(){if(to(t.app))return Promise.reject(Wn(t));const r=e?sr(e):null;return r&&Y(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return w(function*(r,i=!1){if(!t._deleted)return r&&Y(t.tenantId===r.tenantId,t,"tenant-id-mismatch"),i||(yield t.beforeStateQueue.runMiddleware(r)),t.queue(w(function*(){yield t.directlySetCurrentUser(r),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return w(function*(){return to(e.app)?Promise.reject(Wn(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return to(this.app)?Promise.reject(Wn(this)):this.queue(w(function*(){yield t.assertedPersistence.setPersistence(hs(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return w(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return w(function*(){const t=yield function d_e(n){return eA.apply(this,arguments)}(e),r=new f_e(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return w(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function a_e(n,e){return Z0.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return w(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return w(function*(){if(!t.redirectPersistenceManager){const r=e&&hs(e)||t._popupRedirectResolver;Y(r,t,"argument-error"),t.redirectPersistenceManager=yield Ju.create(t,[hs(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return w(function*(){var r,i;return t._isInitialized&&(yield t.queue(w(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return w(function*(){if(e===t.currentUser)return t.queue(w(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const l=e.addObserver(t,r,i);return()=>{s=!0,l()}}{const l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){var t=this;return w(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return w(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return w(function*(){var t;if(to(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function $ge(n,...e){_v.logLevel<=qe.WARN&&_v.warn(`Auth (${Wu}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function _n(n){return sr(n)}class h4{constructor(e){this.auth=e,this.observer=null,this.addObserver=function _pe(n,e){const t=new ype(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pp={loadJS:()=>w(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f4(n){return`__${n}${Math.floor(1e6*Math.random())}`}function g4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _4(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class _p{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ro("not implemented")}_getIdTokenResponse(e){return Ro("not implemented")}_linkToIdToken(e,t){return Ro("not implemented")}_getReauthenticationResolver(e){return Ro("not implemented")}}function fs(n,e){return yA.apply(this,arguments)}function yA(){return(yA=w(function*(n,e){return us(n,"POST","/v1/accounts:signInWithIdp",kt(n,e))})).apply(this,arguments)}class ps{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Q_e extends ps{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function CA(){return(CA=w(function*(n,e){return us(n,"POST","/v1/accounts:signUp",kt(n,e))})).apply(this,arguments)}class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r){return w(function*(i,o,s,a=!1){const l=yield no._fromIdTokenResponse(i,s,a),c=w4(s);return new Ni({user:l,providerId:c,_tokenResponse:s,operationType:o})}).apply(this,arguments)}static _forOperation(e,t,r){return w(function*(){yield e._updateTokensIfNecessary(r,!0);const i=w4(r);return new Ni({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function w4(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function Z_e(n){return TA.apply(this,arguments)}function TA(){return(TA=w(function*(n){var e;if(to(n.app))return Promise.reject(Wn(n));const t=_n(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new Ni({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield function E4(n,e){return CA.apply(this,arguments)}(t,{returnSecureToken:!0}),i=yield Ni._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})).apply(this,arguments)}class Dv extends ss{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dv.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Dv(e,t,r,i)}}function I4(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Dv._fromErrorAndOperation(n,o,e,r):o})}function AA(){return(AA=w(function*(n,e,t=!1){const r=yield ds(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ni._forOperation(n,"link",r)})).apply(this,arguments)}function xA(){return(xA=w(function*(n,e,t=!1){const{auth:r}=n;if(to(r.app))return Promise.reject(Wn(r));const i="reauthenticate";try{const o=yield ds(n,I4(r,i,e,n),t);Y(o.idToken,r,"internal-error");const s=bv(o.idToken);Y(s,r,"internal-error");const{sub:a}=s;return Y(n.uid===a,r,"user-mismatch"),Ni._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Qr(r,"user-mismatch"),o}})).apply(this,arguments)}function MA(){return(MA=w(function*(n,e,t=!1){if(to(n.app))return Promise.reject(Wn(n));const r="signIn",i=yield I4(n,r,e),o=yield Ni._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function R4(n,e,t,r){return sr(n).onIdTokenChanged(e,t,r)}const Rv="__sak";class M4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rv,"1"),this.storage.removeItem(Rv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gye=(()=>{class n extends M4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u4(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;r?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function c_e(){return function dpe(){const n=gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return w(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return w(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return w(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),k4=(()=>{class n extends M4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let yye=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return w(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,l=r.handlersMap[s];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(l).map(function(){var h=w(function*(f){return f(i.origin,a)});return function(f){return h.apply(this,arguments)}}()),u=yield function _ye(n){return Promise.all(n.map(function(){var e=w(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function lR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class vye{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t){var r=this;return w(function*(i,o,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((u,h)=>{const f=lR("",20);a.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),u(y.data.response);break;default:clearTimeout(p),clearTimeout(l),h(new Error("invalid_response"))}}},r.handlers.add(c),a.port1.addEventListener("message",c.onMessage),r.target.postMessage({eventType:i,eventId:f,data:o},[a.port2])}).finally(()=>{c&&r.removeMessageHandler(c)})}).apply(this,arguments)}}function wn(){return window}function cR(){return typeof wn().WorkerGlobalScope<"u"&&"function"==typeof wn().importScripts}function uR(){return(uR=w(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const P4="firebaseLocalStorageDb",xv="firebaseLocalStorage",N4="fbase_key";class wp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mv(n,e){return n.transaction([xv],e?"readwrite":"readonly").objectStore(xv)}function dR(){const n=indexedDB.open(P4,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xv,{keyPath:N4})}catch(i){t(i)}}),n.addEventListener("success",w(function*(){const r=n.result;r.objectStoreNames.contains(xv)?e(r):(r.close(),yield function Tye(){const n=indexedDB.deleteDatabase(P4);return new wp(n).toPromise()}(),e(yield dR()))}))})}function O4(n,e,t){return hR.apply(this,arguments)}function hR(){return(hR=w(function*(n,e,t){const r=Mv(n,!0).put({[N4]:e,value:t});return new wp(r).toPromise()})).apply(this,arguments)}function fR(){return(fR=w(function*(n,e){const t=Mv(n,!1).get(e),r=yield new wp(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function F4(n,e){const t=Mv(n,!0).delete(e);return new wp(t).toPromise()}const Rye=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return w(function*(){return t.db||(t.db=yield dR()),t.db})()}_withRetries(t){var r=this;return w(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return w(function*(){return cR()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return w(function*(){t.receiver=yye._getInstance(function Iye(){return cR()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=w(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=w(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return w(function*(){var r,i;if(t.activeServiceWorker=yield function Eye(){return uR.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new vye(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return w(function*(){if(r.sender&&r.activeServiceWorker&&function wye(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return w(function*(){try{if(!indexedDB)return!1;const t=yield dR();return yield O4(t,Rv,"1"),yield F4(t,Rv),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return w(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return w(function*(){return i._withPendingWrite(w(function*(){return yield i._withRetries(o=>O4(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return w(function*(){const i=yield r._withRetries(o=>function Dye(n,e){return fR.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return w(function*(){return r._withPendingWrite(w(function*(){return yield r._withRetries(i=>F4(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return w(function*(){const r=yield t._withRetries(s=>{const a=Mv(s,!1).getAll();return new wp(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(w(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();f4("rcb"),new up(3e4,6e4);class CR extends _p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vye(n){return function D4(n,e){return MA.apply(this,arguments)}(n.auth,new CR(n),n.bypassAuthState)}function Bye(n){const{auth:e,user:t}=n;return Y(t,e,"internal-error"),function T4(n,e){return xA.apply(this,arguments)}(t,new CR(n),n.bypassAuthState)}function Uye(n){return TR.apply(this,arguments)}function TR(){return(TR=w(function*(n){const{auth:e,user:t}=n;return Y(t,e,"internal-error"),function SA(n,e){return AA.apply(this,arguments)}(t,new CR(n),n.bypassAuthState)})).apply(this,arguments)}class jye{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=w(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return w(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vye;case"linkViaPopup":case"linkViaRedirect":return Uye;case"reauthViaPopup":case"reauthViaRedirect":return Bye;default:Qr(this.auth,"internal-error")}}resolve(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new up(2e3,1e4);const Cp=new Map;class zye extends jye{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return w(function*(){let r=Cp.get(t.auth._key());if(!r){try{const o=(yield function $ye(n,e){return xR.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Cp.set(t.auth._key(),r)}return t.bypassAuthState||Cp.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return w(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return w(function*(){})()}cleanUp(){}}function xR(){return(xR=w(function*(n,e){const t=function B4(n){return Ev("pendingRedirect",n.config.apiKey,n.name)}(e),r=function V4(n){return hs(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function qye(n,e){Cp.set(n._key(),e)}function U4(n,e){return LR.apply(this,arguments)}function LR(){return(LR=w(function*(n,e,t=!1){if(to(n.app))return Promise.reject(Wn(n));const r=_n(n),i=function Ul(n,e){return e?hs(e):(Y(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),s=yield new zye(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class Yye{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Xye(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z4(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!z4(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Pi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(H4(e))}saveEventToCache(e){this.cachedEventUids.add(H4(e)),this.lastProcessedEventTime=Date.now()}}function H4(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function z4({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function BR(){return(BR=w(function*(n,e={}){return Pt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Jye=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eve=/^https?/;function UR(){return UR=w(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function Zye(n){return BR.apply(this,arguments)}(n);for(const t of e)try{if(nve(t))return}catch{}Qr(n,"unauthorized-domain")}),UR.apply(this,arguments)}function nve(n){const e=cp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!eve.test(t))return!1;if(Jye.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const rve=new up(3e4,6e4);function $4(){const n=wn().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}function ive(n){return new Promise((e,t)=>{var r,i,o;function s(){$4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$4(),t(Pi(n,"network-request-failed"))},timeout:rve.get()})}if(null!==(i=null===(r=wn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=wn().gapi)||void 0===o||!o.load){const a=f4("iframefcb");return wn()[a]=()=>{gapi.load?s():t(Pi(n,"network-request-failed"))},function tA(n){return pp.loadJS(n)}(`${function y_e(){return pp.gapiScript}()}?onload=${a}`).catch(l=>t(l))}s()}}).catch(e=>{throw kv=null,e})}let kv=null;const sve=new up(5e3,15e3),cve={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uve=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dve(n){const e=n.config;Y(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?O0(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Wu},i=uve.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${rp(r).slice(1)}`}function jR(){return jR=w(function*(n){const e=yield function ove(n){return kv=kv||ive(n),kv}(n),t=wn().gapi;return Y(t,n,"internal-error"),e.open({where:document.body,url:dve(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cve,dontclear:!0},r=>new Promise(function(){var i=w(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Pi(n,"network-request-failed"),l=wn().setTimeout(()=>{s(a)},sve.get());function c(){wn().clearTimeout(l),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),jR.apply(this,arguments)}const fve={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class q4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const wve=encodeURIComponent("fac");function G4(n,e,t,r,i,o){return HR.apply(this,arguments)}function HR(){return(HR=w(function*(n,e,t,r,i,o){Y(n.config.authDomain,n,"auth-domain-config-required"),Y(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Wu,eventId:i};if(e instanceof ps){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",function gpe(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(o||{}))s[u]=h}if(e instanceof Q_e){const u=e.getScopes().filter(h=>""!==h);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${wve}=${encodeURIComponent(l)}`:"";return`${function Ive({config:n}){return n.emulator?O0(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${rp(a).slice(1)}${c}`})).apply(this,arguments)}const zR="webStorageSupport",Tve=class Cve{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k4,this._completeRedirectFn=U4,this._overrideRedirectResult=qye}_openPopup(e,t,r,i){var o=this;return w(function*(){var s;oa(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield G4(e,t,r,cp(),i);return function yve(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},fve),{width:r.toString(),height:i.toString(),top:o,left:s}),c=gn().toLowerCase();t&&(a=o4(c)?"_blank":t),r4(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(function l_e(n=gn()){var e;return J0(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function vve(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new q4(null);const h=window.open(e||"",a,u);Y(h,n,"popup-blocked");try{h.focus()}catch{}return new q4(h)}(e,a,lR())})()}_openRedirect(e,t,r,i){var o=this;return w(function*(){return yield o._originValidation(e),function bye(n){wn().location.href=n}(yield G4(e,t,r,cp(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(oa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return w(function*(){const r=yield function hve(n){return jR.apply(this,arguments)}(e),i=new Yye(e);return r.register("authEvent",o=>(Y(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zR,{type:zR},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[zR];void 0!==s&&t(!!s),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function tve(n){return UR.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return u4()||i4()||J0()}};var Y4="@firebase/auth";class Dve{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return w(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xve=Gz("authIdTokenMaxAge")||300;let Z4=null;const Mve=n=>function(){var e=w(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>xve)return;const o=r?.token;Z4!==o&&(Z4=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function kve(n=XS()){const e=rv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function S_e(n,e){const t=rv(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(as(t.getOptions(),e??{}))return i;Qr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Tve,persistence:[Rye,gye,k4]}),r=Gz("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Mve(o.toString());(function uye(n,e,t){sr(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),R4(t,a=>s(a))}}const i=$z("auth");return i&&function R_e(n,e,t){const r=_n(n);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=g4(e),{host:s,port:a}=function x_e(n){const e=g4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:_4(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:_4(s)}}}(e),l=null===a?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Y(as(c,r.config.emulator)&&as(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,qu(s)?(Wz(`${o}//${s}${l}`),Qz("Auth",!0)):i||function M_e(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function J4(n){return new at(function(e){return{unsubscribe:R4(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}(function m_e(n){pp=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Pi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function Pve(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ave(n){ra(new ls("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d4(n)},c=new p_e(r,i,o,l);return function A_e(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(hs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ra(new ls("auth-internal",e=>{const t=_n(e.getProvider("auth").getImmediate());return new Dve(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(Y4,"1.10.8",function Sve(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Mr(Y4,"1.10.8","esm2017")}("Browser");class Nv{constructor(e){return e}}class t3{constructor(){return o0("auth")}}const qR=new j("angularfire2.auth-instances");function Ove(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Nv(r)}}const Fve={provide:t3,deps:[[new Un,qR]]},Lve={provide:Nv,useFactory:function Nve(n,e){const t=r0("auth",n,e);return t&&new Nv(t)},deps:[[new Un,qR],Qu]},Bve=ki(J4,!0),Uve=ki(kve,!0),jve=ki(Z_e,!0,2);var la,i3,n3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r3={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(A,I,D){D||(D=0);var R=Array(16);if("string"==typeof I)for(var x=0;16>x;++x)R[x]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(x=0;16>x;++x)R[x]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;var P=A.g[3],S=(I=A.g[0])+(P^(D=A.g[1])&((x=A.g[2])^P))+R[0]+3614090360&4294967295;S=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=(D=(x=(P=(I=D+(S<<7&4294967295|S>>>25))+((S=P+(x^I&(D^x))+R[1]+3905402710&4294967295)<<12&4294967295|S>>>20))+((S=x+(D^P&(I^D))+R[2]+606105819&4294967295)<<17&4294967295|S>>>15))+((S=D+(I^x&(P^I))+R[3]+3250441966&4294967295)<<22&4294967295|S>>>10))+((S=I+(P^D&(x^P))+R[4]+4118548399&4294967295)<<7&4294967295|S>>>25))+((S=P+(x^I&(D^x))+R[5]+1200080426&4294967295)<<12&4294967295|S>>>20))+((S=x+(D^P&(I^D))+R[6]+2821735955&4294967295)<<17&4294967295|S>>>15))+((S=D+(I^x&(P^I))+R[7]+4249261313&4294967295)<<22&4294967295|S>>>10))+((S=I+(P^D&(x^P))+R[8]+1770035416&4294967295)<<7&4294967295|S>>>25))+((S=P+(x^I&(D^x))+R[9]+2336552879&4294967295)<<12&4294967295|S>>>20))+((S=x+(D^P&(I^D))+R[10]+4294925233&4294967295)<<17&4294967295|S>>>15))+((S=D+(I^x&(P^I))+R[11]+2304563134&4294967295)<<22&4294967295|S>>>10))+((S=I+(P^D&(x^P))+R[12]+1804603682&4294967295)<<7&4294967295|S>>>25))+((S=P+(x^I&(D^x))+R[13]+4254626195&4294967295)<<12&4294967295|S>>>20))+((S=x+(D^P&(I^D))+R[14]+2792965006&4294967295)<<17&4294967295|S>>>15))+((S=D+(I^x&(P^I))+R[15]+1236535329&4294967295)<<22&4294967295|S>>>10))+((S=I+(x^P&(D^x))+R[1]+4129170786&4294967295)<<5&4294967295|S>>>27))+((S=P+(D^x&(I^D))+R[6]+3225465664&4294967295)<<9&4294967295|S>>>23))+((S=x+(I^D&(P^I))+R[11]+643717713&4294967295)<<14&4294967295|S>>>18))+((S=D+(P^I&(x^P))+R[0]+3921069994&4294967295)<<20&4294967295|S>>>12))+((S=I+(x^P&(D^x))+R[5]+3593408605&4294967295)<<5&4294967295|S>>>27))+((S=P+(D^x&(I^D))+R[10]+38016083&4294967295)<<9&4294967295|S>>>23))+((S=x+(I^D&(P^I))+R[15]+3634488961&4294967295)<<14&4294967295|S>>>18))+((S=D+(P^I&(x^P))+R[4]+3889429448&4294967295)<<20&4294967295|S>>>12))+((S=I+(x^P&(D^x))+R[9]+568446438&4294967295)<<5&4294967295|S>>>27))+((S=P+(D^x&(I^D))+R[14]+3275163606&4294967295)<<9&4294967295|S>>>23))+((S=x+(I^D&(P^I))+R[3]+4107603335&4294967295)<<14&4294967295|S>>>18))+((S=D+(P^I&(x^P))+R[8]+1163531501&4294967295)<<20&4294967295|S>>>12))+((S=I+(x^P&(D^x))+R[13]+2850285829&4294967295)<<5&4294967295|S>>>27))+((S=P+(D^x&(I^D))+R[2]+4243563512&4294967295)<<9&4294967295|S>>>23))+((S=x+(I^D&(P^I))+R[7]+1735328473&4294967295)<<14&4294967295|S>>>18))+((S=D+(P^I&(x^P))+R[12]+2368359562&4294967295)<<20&4294967295|S>>>12))+((S=I+(D^x^P)+R[5]+4294588738&4294967295)<<4&4294967295|S>>>28))+((S=P+(I^D^x)+R[8]+2272392833&4294967295)<<11&4294967295|S>>>21))+((S=x+(P^I^D)+R[11]+1839030562&4294967295)<<16&4294967295|S>>>16))+((S=D+(x^P^I)+R[14]+4259657740&4294967295)<<23&4294967295|S>>>9))+((S=I+(D^x^P)+R[1]+2763975236&4294967295)<<4&4294967295|S>>>28))+((S=P+(I^D^x)+R[4]+1272893353&4294967295)<<11&4294967295|S>>>21))+((S=x+(P^I^D)+R[7]+4139469664&4294967295)<<16&4294967295|S>>>16))+((S=D+(x^P^I)+R[10]+3200236656&4294967295)<<23&4294967295|S>>>9))+((S=I+(D^x^P)+R[13]+681279174&4294967295)<<4&4294967295|S>>>28))+((S=P+(I^D^x)+R[0]+3936430074&4294967295)<<11&4294967295|S>>>21))+((S=x+(P^I^D)+R[3]+3572445317&4294967295)<<16&4294967295|S>>>16))+((S=D+(x^P^I)+R[6]+76029189&4294967295)<<23&4294967295|S>>>9))+((S=I+(D^x^P)+R[9]+3654602809&4294967295)<<4&4294967295|S>>>28))+((S=P+(I^D^x)+R[12]+3873151461&4294967295)<<11&4294967295|S>>>21))+((S=x+(P^I^D)+R[15]+530742520&4294967295)<<16&4294967295|S>>>16))+((S=D+(x^P^I)+R[2]+3299628645&4294967295)<<23&4294967295|S>>>9))+((S=I+(x^(D|~P))+R[0]+4096336452&4294967295)<<6&4294967295|S>>>26))+((S=P+(D^(I|~x))+R[7]+1126891415&4294967295)<<10&4294967295|S>>>22))+((S=x+(I^(P|~D))+R[14]+2878612391&4294967295)<<15&4294967295|S>>>17))+((S=D+(P^(x|~I))+R[5]+4237533241&4294967295)<<21&4294967295|S>>>11))+((S=I+(x^(D|~P))+R[12]+1700485571&4294967295)<<6&4294967295|S>>>26))+((S=P+(D^(I|~x))+R[3]+2399980690&4294967295)<<10&4294967295|S>>>22))+((S=x+(I^(P|~D))+R[10]+4293915773&4294967295)<<15&4294967295|S>>>17))+((S=D+(P^(x|~I))+R[1]+2240044497&4294967295)<<21&4294967295|S>>>11))+((S=I+(x^(D|~P))+R[8]+1873313359&4294967295)<<6&4294967295|S>>>26))+((S=P+(D^(I|~x))+R[15]+4264355552&4294967295)<<10&4294967295|S>>>22))+((S=x+(I^(P|~D))+R[6]+2734768916&4294967295)<<15&4294967295|S>>>17))+((S=D+(P^(x|~I))+R[13]+1309151649&4294967295)<<21&4294967295|S>>>11))+((P=(I=D+((S=I+(x^(D|~P))+R[4]+4149444226&4294967295)<<6&4294967295|S>>>26))+((S=P+(D^(I|~x))+R[11]+3174756917&4294967295)<<10&4294967295|S>>>22))^((x=P+((S=x+(I^(P|~D))+R[2]+718787259&4294967295)<<15&4294967295|S>>>17))|~I))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,A.g[2]=A.g[2]+x&4294967295,A.g[3]=A.g[3]+P&4294967295}function s(A,I){this.h=I;for(var D=[],R=!0,x=A.length-1;0<=x;x--){var P=0|A[x];R&&P==I||(D[x]=P,R=!1)}this.g=D}(function e(A,I){function D(){}D.prototype=I.prototype,A.D=I.prototype,A.prototype=new D,A.prototype.constructor=A,A.C=function(R,x,P){for(var S=Array(arguments.length-2),Ui=2;Ui<arguments.length;Ui++)S[Ui-2]=arguments[Ui];return I.prototype[x].apply(R,S)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(A,I){void 0===I&&(I=A.length);for(var D=I-this.blockSize,R=this.B,x=this.h,P=0;P<I;){if(0==x)for(;P<=D;)i(this,A,P),P+=this.blockSize;if("string"==typeof A){for(;P<I;)if(R[x++]=A.charCodeAt(P++),x==this.blockSize){i(this,R),x=0;break}}else for(;P<I;)if(R[x++]=A[P++],x==this.blockSize){i(this,R),x=0;break}}this.h=x,this.o+=I},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var D=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=255&D,D/=256;for(this.u(A),A=Array(16),I=D=0;4>I;++I)for(var R=0;32>R;R+=8)A[D++]=this.g[I]>>>R&255;return A};var a={};function l(A){return-128<=A&&128>A?function o(A,I){var D=a;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=I(A)}(A,function(I){return new s([0|I],0>I?-1:0)}):new s([0|A],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return E(c(-A));for(var I=[],D=1,R=0;A>=D;R++)I[R]=A/D|0,D*=4294967296;return new s(I,0)}var h=l(0),f=l(1),p=l(16777216);function g(A){if(0!=A.h)return!1;for(var I=0;I<A.g.length;I++)if(0!=A.g[I])return!1;return!0}function y(A){return-1==A.h}function E(A){for(var I=A.g.length,D=[],R=0;R<I;R++)D[R]=~A.g[R];return new s(D,~A.h).add(f)}function C(A,I){return A.add(E(I))}function T(A,I){for(;(65535&A[I])!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function L(A,I){this.g=A,this.h=I}function q(A,I){if(g(I))throw Error("division by zero");if(g(A))return new L(h,h);if(y(A))return I=q(E(A),I),new L(E(I.g),E(I.h));if(y(I))return I=q(A,E(I)),new L(E(I.g),I.h);if(30<A.g.length){if(y(A)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var D=f,R=I;0>=R.l(A);)D=ee(D),R=ee(R);var x=ie(D,1),P=ie(R,1);for(R=ie(R,2),D=ie(D,2);!g(R);){var S=P.add(R);0>=S.l(A)&&(x=x.add(D),P=S),R=ie(R,1),D=ie(D,1)}return I=C(A,x.j(I)),new L(x,I)}for(x=h;0<=A.l(I);){for(D=Math.max(1,Math.floor(A.m()/I.m())),R=48>=(R=Math.ceil(Math.log(D)/Math.LN2))?1:Math.pow(2,R-48),S=(P=c(D)).j(I);y(S)||0<S.l(A);)S=(P=c(D-=R)).j(I);g(P)&&(P=f),x=x.add(P),A=C(A,S)}return new L(x,A)}function ee(A){for(var I=A.g.length+1,D=[],R=0;R<I;R++)D[R]=A.i(R)<<1|A.i(R-1)>>>31;return new s(D,A.h)}function ie(A,I){var D=I>>5;I%=32;for(var R=A.g.length-D,x=[],P=0;P<R;P++)x[P]=0<I?A.i(P+D)>>>I|A.i(P+D+1)<<32-I:A.i(P+D);return new s(x,A.h)}(n=s.prototype).m=function(){if(y(this))return-E(this).m();for(var A=0,I=1,D=0;D<this.g.length;D++){var R=this.i(D);A+=(0<=R?R:4294967296+R)*I,I*=4294967296}return A},n.toString=function(A){if(2>(A=A||10)||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(y(this))return"-"+E(this).toString(A);for(var I=c(Math.pow(A,6)),D=this,R="";;){var x=q(D,I).g,P=((0<(D=C(D,x.j(I))).g.length?D.g[0]:D.h)>>>0).toString(A);if(g(D=x))return P+R;for(;6>P.length;)P="0"+P;R=P+R}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h},n.l=function(A){return y(A=C(this,A))?-1:g(A)?0:1},n.abs=function(){return y(this)?E(this):this},n.add=function(A){for(var I=Math.max(this.g.length,A.g.length),D=[],R=0,x=0;x<=I;x++){var P=R+(65535&this.i(x))+(65535&A.i(x)),S=(P>>>16)+(this.i(x)>>>16)+(A.i(x)>>>16);R=S>>>16,D[x]=(S&=65535)<<16|(P&=65535)}return new s(D,-2147483648&D[D.length-1]?-1:0)},n.j=function(A){if(g(this)||g(A))return h;if(y(this))return y(A)?E(this).j(E(A)):E(E(this).j(A));if(y(A))return E(this.j(E(A)));if(0>this.l(p)&&0>A.l(p))return c(this.m()*A.m());for(var I=this.g.length+A.g.length,D=[],R=0;R<2*I;R++)D[R]=0;for(R=0;R<this.g.length;R++)for(var x=0;x<A.g.length;x++){var P=this.i(R)>>>16,S=65535&this.i(R),Ui=A.i(x)>>>16,Ba=65535&A.i(x);D[2*R+2*x]+=S*Ba,T(D,2*R+2*x),D[2*R+2*x+1]+=P*Ba,T(D,2*R+2*x+1),D[2*R+2*x+1]+=S*Ui,T(D,2*R+2*x+1),D[2*R+2*x+2]+=P*Ui,T(D,2*R+2*x+2)}for(R=0;R<I;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=I;R<2*I;R++)D[R]=0;return new s(D,0)},n.A=function(A){return q(this,A).h},n.and=function(A){for(var I=Math.max(this.g.length,A.g.length),D=[],R=0;R<I;R++)D[R]=this.i(R)&A.i(R);return new s(D,this.h&A.h)},n.or=function(A){for(var I=Math.max(this.g.length,A.g.length),D=[],R=0;R<I;R++)D[R]=this.i(R)|A.i(R);return new s(D,this.h|A.h)},n.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),D=[],R=0;R<I;R++)D[R]=this.i(R)^A.i(R);return new s(D,this.h^A.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,i3=r3.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function u(A,I){if(0==A.length)throw Error("number format error: empty string");if(2>(I=I||10)||36<I)throw Error("radix out of range: "+I);if("-"==A.charAt(0))return E(u(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=c(Math.pow(I,8)),R=h,x=0;x<A.length;x+=8){var P=Math.min(8,A.length-x),S=parseInt(A.substring(x,x+P),I);8>P?(P=c(Math.pow(I,P)),R=R.j(P).add(c(S))):R=(R=R.j(D)).add(c(S))}return R},la=r3.Integer=s}).apply(typeof n3<"u"?n3:typeof self<"u"?self:typeof window<"u"?window:{});var o3,Tp,s3,Fv,GR,a3,l3,c3,Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ms={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(d,m,_){return d==Array.prototype||d==Object.prototype||(d[m]=_.value),d},r=function t(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ov&&Ov];for(var m=0;m<d.length;++m){var _=d[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}(this);!function i(d,m){if(m)e:{var _=r;d=d.split(".");for(var b=0;b<d.length-1;b++){var M=d[b];if(!(M in _))break e;_=_[M]}(m=m(b=_[d=d[d.length-1]]))!=b&&null!=m&&e(_,d,{configurable:!0,writable:!0,value:m})}}("Array.prototype.values",function(d){return d||function(){return function o(d,m){d instanceof String&&(d+="");var _=0,b=!1,M={next:function(){if(!b&&_<d.length){var B=_++;return{value:m(B,d[B]),done:!1}}return b=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}(this,function(m,_){return _})}});var s=s||{},a=this||self;function l(d){var m=typeof d;return"array"==(m="object"!=m?m:d?Array.isArray(d)?"array":m:"null")||"object"==m&&"number"==typeof d.length}function c(d){var m=typeof d;return"object"==m&&null!=d||"function"==m}function u(d,m,_){return d.call.apply(d.bind,arguments)}function h(d,m,_){if(!d)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,b),d.apply(m,M)}}return function(){return d.apply(m,arguments)}}function f(d,m,_){return(f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:h).apply(null,arguments)}function p(d,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),d.apply(this,b)}}function g(d,m){function _(){}_.prototype=m.prototype,d.aa=m.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(b,M,B){for(var J=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)J[wt-2]=arguments[wt];return m.prototype[M].apply(b,J)}}function y(d){const m=d.length;if(0<m){const _=Array(m);for(let b=0;b<m;b++)_[b]=d[b];return _}return[]}function E(d,m){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(l(b)){const M=d.length||0,B=b.length||0;d.length=M+B;for(let J=0;J<B;J++)d[M+J]=b[J]}else d.push(b)}}function T(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var ee=!(-1==L().indexOf("Gecko")||-1!=L().toLowerCase().indexOf("webkit")&&-1==L().indexOf("Edge")||-1!=L().indexOf("Trident")||-1!=L().indexOf("MSIE")||-1!=L().indexOf("Edge"));function ie(d,m,_){for(const b in d)m.call(_,d[b],b,d)}function I(d){const m={};for(const _ in d)m[_]=d[_];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(d,m){let _,b;for(let M=1;M<arguments.length;M++){for(_ in b=arguments[M],b)d[_]=b[_];for(let B=0;B<D.length;B++)_=D[B],Object.prototype.hasOwnProperty.call(b,_)&&(d[_]=b[_])}}function x(d){var m=1;d=d.split(":");const _=[];for(;0<m&&d.length;)_.push(d.shift()),m--;return d.length&&_.push(d.join(":")),_}function P(d){a.setTimeout(()=>{throw d},0)}function S(){var d=$e;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}var Ba=new class C{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}(()=>new se,d=>d.reset());class se{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let de,pe=!1,$e=new class Ui{constructor(){this.h=this.g=null}add(m,_){const b=Ba.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}},bn=()=>{const d=a.Promise.resolve(void 0);de=()=>{d.then(ji)}};var ji=()=>{for(var d;d=S();){try{d.h.call(d.g)}catch(_){P(_)}var m=Ba;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}pe=!1};function un(){this.s=this.s,this.C=this.C}function Ft(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}un.prototype.s=!1,un.prototype.ma=function(){this.s||(this.s=!0,this.N())},un.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ft.prototype.h=function(){this.defaultPrevented=!0};var Lt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return d}();function Ua(d,m){if(Ft.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,b=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(ee){e:{try{q(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else"mouseover"==_?m=d.fromElement:"mouseout"==_&&(m=d.toElement);this.relatedTarget=m,b?(this.clientX=void 0!==b.clientX?b.clientX:b.pageX,this.clientY=void 0!==b.clientY?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType="string"==typeof d.pointerType?d.pointerType:IN[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ua.aa.h.call(this)}}g(Ua,Ft);var IN={2:"touch",3:"pen",4:"mouse"};Ua.prototype.h=function(){Ua.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var dn="closure_listenable_"+(1e6*Math.random()|0),xs=0;function Zr(d,m,_,b,M){this.listener=d,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=M,this.key=++xs,this.da=this.fa=!1}function Ms(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ja(d){this.src=d,this.g={},this.h=0}function CN(d,m){var _=m.type;if(_ in d.g){var B,b=d.g[_],M=Array.prototype.indexOf.call(b,m,void 0);(B=0<=M)&&Array.prototype.splice.call(b,M,1),B&&(Ms(m),0==d.g[_].length&&(delete d.g[_],d.h--))}}function TN(d,m,_,b){for(var M=0;M<d.length;++M){var B=d[M];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==b)return M}return-1}ja.prototype.add=function(d,m,_,b,M){var B=d.toString();(d=this.g[B])||(d=this.g[B]=[],this.h++);var J=TN(d,m,b,M);return-1<J?(m=d[J],_||(m.fa=!1)):((m=new Zr(m,this.src,B,!!b,M)).fa=_,d.push(m)),m};var DN="closure_lm_"+(1e6*Math.random()|0),SN={};function m7(d,m,_,b,M){if(b&&b.once)return _7(d,m,_,b,M);if(Array.isArray(m)){for(var B=0;B<m.length;B++)m7(d,m[B],_,b,M);return null}return _=MN(_),d&&d[dn]?d.K(m,_,c(b)?!!b.capture:!!b,M):g7(d,m,_,!1,b,M)}function g7(d,m,_,b,M,B){if(!m)throw Error("Invalid event type");var J=c(M)?!!M.capture:!!M,wt=RN(d);if(wt||(d[DN]=wt=new ja(d)),(_=wt.add(m,_,b,J,B)).proxy)return _;if(b=function Gxe(){const m=Wxe;return function d(_){return m.call(d.src,d.listener,_)}}(),_.proxy=b,b.src=d,b.listener=_,d.addEventListener)Lt||(M=J),void 0===M&&(M=!1),d.addEventListener(m.toString(),b,M);else if(d.attachEvent)d.attachEvent(v7(m.toString()),b);else{if(!d.addListener||!d.removeListener)throw Error("addEventListener and attachEvent are unavailable.");d.addListener(b)}return _}function _7(d,m,_,b,M){if(Array.isArray(m)){for(var B=0;B<m.length;B++)_7(d,m[B],_,b,M);return null}return _=MN(_),d&&d[dn]?d.L(m,_,c(b)?!!b.capture:!!b,M):g7(d,m,_,!0,b,M)}function y7(d,m,_,b,M){if(Array.isArray(m))for(var B=0;B<m.length;B++)y7(d,m[B],_,b,M);else b=c(b)?!!b.capture:!!b,_=MN(_),d&&d[dn]?(d=d.i,(m=String(m).toString())in d.g&&-1<(_=TN(B=d.g[m],_,b,M))&&(Ms(B[_]),Array.prototype.splice.call(B,_,1),0==B.length&&(delete d.g[m],d.h--))):d&&(d=RN(d))&&(m=d.g[m.toString()],d=-1,m&&(d=TN(m,_,b,M)),(_=-1<d?m[d]:null)&&AN(_))}function AN(d){if("number"!=typeof d&&d&&!d.da){var m=d.src;if(m&&m[dn])CN(m.i,d);else{var _=d.type,b=d.proxy;m.removeEventListener?m.removeEventListener(_,b,d.capture):m.detachEvent?m.detachEvent(v7(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=RN(m))?(CN(_,d),0==_.h&&(_.src=null,m[DN]=null)):Ms(d)}}}function v7(d){return d in SN?SN[d]:SN[d]="on"+d}function Wxe(d,m){if(d.da)d=!0;else{m=new Ua(m,this);var _=d.listener,b=d.ha||d.src;d.fa&&AN(d),d=_.call(b,m)}return d}function RN(d){return(d=d[DN])instanceof ja?d:null}var xN="__closure_events_fn_"+(1e9*Math.random()>>>0);function MN(d){return"function"==typeof d?d:(d[xN]||(d[xN]=function(m){return d.handleEvent(m)}),d[xN])}function yr(){un.call(this),this.i=new ja(this),this.M=this,this.F=null}function Or(d,m){var _,b=d.F;if(b)for(_=[];b;b=b.F)_.push(b);if(d=d.M,b=m.type||m,"string"==typeof m)m=new Ft(m,d);else if(m instanceof Ft)m.target=m.target||d;else{var M=m;R(m=new Ft(b,d),M)}if(M=!0,_)for(var B=_.length-1;0<=B;B--){var J=m.g=_[B];M=JE(J,b,!0,m)&&M}if(M=JE(J=m.g=d,b,!0,m)&&M,M=JE(J,b,!1,m)&&M,_)for(B=0;B<_.length;B++)M=JE(J=m.g=_[B],b,!1,m)&&M}function JE(d,m,_,b){if(!(m=d.i.g[String(m)]))return!0;m=m.concat();for(var M=!0,B=0;B<m.length;++B){var J=m[B];if(J&&!J.da&&J.capture==_){var wt=J.listener,ur=J.ha||J.src;J.fa&&CN(d.i,J),M=!1!==wt.call(ur,b)&&M}}return M&&!b.defaultPrevented}function b7(d,m,_){if("function"==typeof d)_&&(d=f(d,_));else{if(!d||"function"!=typeof d.handleEvent)throw Error("Invalid listener argument");d=f(d.handleEvent,d)}return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function E7(d){d.g=b7(()=>{d.g=null,d.i&&(d.i=!1,E7(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}g(yr,un),yr.prototype[dn]=!0,yr.prototype.removeEventListener=function(d,m,_,b){y7(this,d,m,_,b)},yr.prototype.N=function(){if(yr.aa.N.call(this),this.i){var m,d=this.i;for(m in d.g){for(var _=d.g[m],b=0;b<_.length;b++)Ms(_[b]);delete d.g[m],d.h--}}this.F=null},yr.prototype.K=function(d,m,_,b){return this.i.add(String(d),m,!1,_,b)},yr.prototype.L=function(d,m,_,b){return this.i.add(String(d),m,!0,_,b)};class Kxe extends un{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:E7(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bm(d){un.call(this),this.h=d,this.g={}}g(Bm,un);var w7=[];function I7(d){ie(d.g,function(m,_){this.g.hasOwnProperty(_)&&AN(m)},d),d.g={}}Bm.prototype.N=function(){Bm.aa.N.call(this),I7(this)},Bm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kN=a.JSON.stringify,Qxe=a.JSON.parse,Yxe=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function PN(){}function T7(){}PN.prototype.h=null;var Um={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function NN(){Ft.call(this,"d")}function ON(){Ft.call(this,"c")}g(NN,Ft),g(ON,Ft);var wc={},D7=null;function ew(){return D7=D7||new yr}function S7(d){Ft.call(this,wc.La,d)}function jm(d){const m=ew();Or(m,new S7(m))}function A7(d,m){Ft.call(this,wc.STAT_EVENT,d),this.stat=m}function Fr(d){const m=ew();Or(m,new A7(m,d))}function R7(d,m){Ft.call(this,wc.Ma,d),this.size=m}function Hm(d,m){if("function"!=typeof d)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function zm(){this.g=!0}function rh(d,m,_,b){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+function eMe(d,m){if(!d.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_)for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var b=_[d];if(!(2>b.length)){var M=b[1];if(Array.isArray(M)&&!(1>M.length)){var B=M[0];if("noop"!=B&&"stop"!=B&&"close"!=B)for(var J=1;J<M.length;J++)M[J]=""}}}return kN(_)}catch{return m}}(d,_)+(b?" "+b:"")})}wc.La="serverreachability",g(S7,Ft),wc.STAT_EVENT="statevent",g(A7,Ft),wc.Ma="timingevent",g(R7,Ft),zm.prototype.xa=function(){this.g=!1},zm.prototype.info=function(){};var FN,tw={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},x7={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function nw(){}function Ha(d,m,_,b){this.j=d,this.i=m,this.l=_,this.R=b||1,this.U=new Bm(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new M7}function M7(){this.i=null,this.g="",this.h=!1}g(nw,PN),nw.prototype.g=function(){return new XMLHttpRequest},nw.prototype.i=function(){return{}},FN=new nw;var k7={},LN={};function VN(d,m,_){d.L=1,d.v=sw(ks(m)),d.m=_,d.P=!0,P7(d,null)}function P7(d,m){d.F=Date.now(),rw(d),d.A=ks(d.v);var _=d.A,b=d.R;Array.isArray(b)||(b=[String(b)]),W7(_.i,"t",b),d.C=0,_=d.j.J,d.h=new M7,d.g=dK(d.j,_?m:null,!d.m),0<d.O&&(d.M=new Kxe(f(d.Y,d,d.g),d.O)),m=d.U,_=d.g,b=d.ca;var M="readystatechange";Array.isArray(M)||(M&&(w7[0]=M.toString()),M=w7);for(var B=0;B<M.length;B++){var J=m7(_,M[B],b||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),jm(),function Xxe(d,m,_,b,M,B){d.info(function(){if(d.g)if(B)for(var J="",wt=B.split("&"),ur=0;ur<wt.length;ur++){var rt=wt[ur].split("=");if(1<rt.length){var vr=rt[0];rt=rt[1];var br=vr.split("_");J=2<=br.length&&"type"==br[1]?J+(vr+"=")+rt+"&":J+(vr+"=redacted&")}}else J=null;else J=B;return"XMLHTTP REQ ("+b+") [attempt "+M+"]: "+m+"\n"+_+"\n"+J})}(d.i,d.u,d.A,d.l,d.R,d.m)}function N7(d){return!!d.g&&"GET"==d.u&&2!=d.L&&d.j.Ca}function tMe(d,m){var _=d.C,b=m.indexOf("\n",_);return-1==b?LN:(_=Number(m.substring(_,b)),isNaN(_)?k7:(b+=1)+_>m.length?LN:(m=m.slice(b,b+_),d.C=b+_,m))}function rw(d){d.S=Date.now()+d.I,O7(d,d.I)}function O7(d,m){if(null!=d.B)throw Error("WatchDog timer not null");d.B=Hm(f(d.ba,d),m)}function BN(d){d.B&&(a.clearTimeout(d.B),d.B=null)}function $m(d){0==d.j.G||d.J||aK(d.j,d)}function Ic(d){BN(d);var m=d.M;m&&"function"==typeof m.ma&&m.ma(),d.M=null,I7(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function UN(d,m){try{var _=d.j;if(0!=_.G&&(_.g==d||jN(_.h,d)))if(!d.K&&jN(_.h,d)&&3==_.G){try{var b=_.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&3==b.length){var M=b;if(0==M[0]){e:if(!_.u){if(_.g){if(!(_.g.F+3e3<d.F))break e;dw(_),cw(_)}qN(_),Fr(18)}}else _.za=M[1],0<_.za-_.T&&37500>M[2]&&_.F&&0==_.v&&!_.C&&(_.C=Hm(f(_.Za,_),6e3));if(1>=V7(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Tc(_,11)}else if((d.K||_.g==d)&&dw(_),!T(m))for(M=_.Da.g.parse(m),m=0;m<M.length;m++){let rt=M[m];if(_.T=rt[0],rt=rt[1],2==_.G)if("c"==rt[0]){_.K=rt[1],_.ia=rt[2];const vr=rt[3];null!=vr&&(_.la=vr,_.j.info("VER="+_.la));const br=rt[4];null!=br&&(_.Aa=br,_.j.info("SVER="+_.Aa));const sh=rt[5];null!=sh&&"number"==typeof sh&&0<sh&&(_.L=b=1.5*sh,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const ao=d.g;if(ao){const fw=ao.g?ao.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fw){var B=b.h;B.g||-1==fw.indexOf("spdy")&&-1==fw.indexOf("quic")&&-1==fw.indexOf("h2")||(B.j=B.l,B.g=new Set,B.h&&(HN(B,B.h),B.h=null))}if(b.D){const WN=ao.g?ao.g.getResponseHeader("X-HTTP-Session-Id"):null;WN&&(b.ya=WN,Vt(b.I,b.D,WN))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms"));var J=d;if((b=_).qa=uK(b,b.J?b.ia:null,b.W),J.K){B7(b.h,J);var wt=J,ur=b.L;ur&&(wt.I=ur),wt.B&&(BN(wt),rw(wt)),b.g=J}else oK(b);0<_.i.length&&uw(_)}else"stop"!=rt[0]&&"close"!=rt[0]||Tc(_,7);else 3==_.G&&("stop"==rt[0]||"close"==rt[0]?"stop"==rt[0]?Tc(_,7):$N(_):"noop"!=rt[0]&&_.l&&_.l.ta(rt),_.v=0)}jm()}catch{}}Ha.prototype.ca=function(d){d=d.target;const m=this.M;m&&3==Ps(d)?m.j():this.Y(d)},Ha.prototype.Y=function(d){try{if(d==this.g)e:{const br=Ps(this.g);var m=this.g.Ba();if(this.g.Z(),!(3>br)&&(3!=br||this.g&&(this.h.h||this.g.oa()||eK(this.g)))){this.J||4!=br||7==m||jm(),BN(this);var _=this.g.Z();this.X=_;t:if(N7(this)){var b=eK(this.g);d="";var M=b.length,B=4==Ps(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ic(this),$m(this);var J="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,d+=this.h.i.decode(b[m],{stream:!(B&&m==M-1)});b.length=0,this.h.g+=d,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=200==_,function Zxe(d,m,_,b,M,B,J){d.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+M+"]: "+m+"\n"+_+"\n"+B+" "+J})}(this.i,this.u,this.A,this.l,this.R,br,_),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,ur=this.g;if((wt=ur.g?ur.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(wt)){var rt=wt;break t}}rt=null}if(!(_=rt)){this.o=!1,this.s=3,Fr(12),Ic(this),$m(this);break e}rh(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,UN(this,_)}if(this.P){let ao;for(_=!0;!this.J&&this.C<J.length;){if(ao=tMe(this,J),ao==LN){4==br&&(this.s=4,Fr(14),_=!1),rh(this.i,this.l,null,"[Incomplete Response]");break}if(ao==k7){this.s=4,Fr(15),rh(this.i,this.l,J,"[Invalid Chunk]"),_=!1;break}rh(this.i,this.l,ao,null),UN(this,ao)}if(N7(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=br||0!=J.length||this.h.h||(this.s=1,Fr(16),_=!1),this.o=this.o&&_,_){if(0<J.length&&!this.W){this.W=!0;var vr=this.j;vr.g==this&&vr.ba&&!vr.M&&(vr.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),GN(vr),vr.M=!0,Fr(11))}}else rh(this.i,this.l,J,"[Invalid Chunked Response]"),Ic(this),$m(this)}else rh(this.i,this.l,J,null),UN(this,J);4==br&&Ic(this),this.o&&!this.J&&(4==br?aK(this.j,this):(this.o=!1,rw(this)))}else(function yMe(d){const m={};d=(d.g&&2<=Ps(d)&&d.g.getAllResponseHeaders()||"").split("\r\n");for(let b=0;b<d.length;b++){if(T(d[b]))continue;var _=x(d[b]);const M=_[0];if("string"!=typeof(_=_[1]))continue;_=_.trim();const B=m[M]||[];m[M]=B,B.push(_)}!function A(d,m){for(const _ in d)m.call(void 0,d[_],_,d)}(m,function(b){return b.join(", ")})})(this.g),400==_&&0<J.indexOf("Unknown SID")?(this.s=3,Fr(12)):(this.s=0,Fr(13)),Ic(this),$m(this)}}}catch{}},Ha.prototype.cancel=function(){this.J=!0,Ic(this)},Ha.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(function Jxe(d,m){d.info(function(){return"TIMEOUT: "+m})}(this.i,this.A),2!=this.L&&(jm(),Fr(17)),Ic(this),this.s=2,$m(this)):O7(this,this.S-d)};var nMe=class{constructor(d,m){this.g=d,this.map=m}};function F7(d){this.l=d||10,d=a.PerformanceNavigationTiming?0<(d=a.performance.getEntriesByType("navigation")).length&&("hq"==d[0].nextHopProtocol||"h2"==d[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function L7(d){return!!d.h||!!d.g&&d.g.size>=d.j}function V7(d){return d.h?1:d.g?d.g.size:0}function jN(d,m){return d.h?d.h==m:!!d.g&&d.g.has(m)}function HN(d,m){d.g?d.g.add(m):d.h=m}function B7(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}function U7(d){if(null!=d.h)return d.i.concat(d.h.D);if(null!=d.g&&0!==d.g.size){let m=d.i;for(const _ of d.g.values())m=m.concat(_.D);return m}return y(d.i)}function j7(d,m){if(d.forEach&&"function"==typeof d.forEach)d.forEach(m,void 0);else if(l(d)||"string"==typeof d)Array.prototype.forEach.call(d,m,void 0);else for(var _=function iMe(d){if(d.na&&"function"==typeof d.na)return d.na();if(!d.V||"function"!=typeof d.V){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||"string"==typeof d){var m=[];d=d.length;for(var _=0;_<d;_++)m.push(_);return m}m=[],_=0;for(const b in d)m[_++]=b;return m}}}(d),b=function rMe(d){if(d.V&&"function"==typeof d.V)return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if("string"==typeof d)return d.split("");if(l(d)){for(var m=[],_=d.length,b=0;b<_;b++)m.push(d[b]);return m}for(b in m=[],_=0,d)m[_++]=d[b];return m}(d),M=b.length,B=0;B<M;B++)m.call(void 0,b[B],_&&_[B],d)}F7.prototype.cancel=function(){if(this.i=U7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const d of this.g.values())d.cancel();this.g.clear()}};var H7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Cc){this.h=d.h,iw(this,d.j),this.o=d.o,this.g=d.g,ow(this,d.s),this.l=d.l;var m=d.i,_=new Wm;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),z7(this,_),this.m=d.m}else d&&(m=String(d).match(H7))?(this.h=!1,iw(this,m[1]||"",!0),this.o=qm(m[2]||""),this.g=qm(m[3]||"",!0),ow(this,m[4]),this.l=qm(m[5]||"",!0),z7(this,m[6]||"",!0),this.m=qm(m[7]||"")):(this.h=!1,this.i=new Wm(null,this.h))}function ks(d){return new Cc(d)}function iw(d,m,_){d.j=_?qm(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function ow(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function z7(d,m,_){m instanceof Wm?(d.i=m,function dMe(d,m){m&&!d.j&&(za(d),d.i=null,d.g.forEach(function(_,b){var M=b.toLowerCase();b!=M&&(q7(this,b),W7(this,M,_))},d)),d.j=m}(d.i,d.h)):(_||(m=Gm(m,cMe)),d.i=new Wm(m,d.h))}function Vt(d,m,_){d.i.set(m,_)}function sw(d){return Vt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function qm(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Gm(d,m,_){return"string"==typeof d?(d=encodeURI(d).replace(m,sMe),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function sMe(d){return"%"+((d=d.charCodeAt(0))>>4&15).toString(16)+(15&d).toString(16)}Cc.prototype.toString=function(){var d=[],m=this.j;m&&d.push(Gm(m,$7,!0),":");var _=this.g;return(_||"file"==m)&&(d.push("//"),(m=this.o)&&d.push(Gm(m,$7,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(_=this.s)&&d.push(":",String(_))),(_=this.l)&&(this.g&&"/"!=_.charAt(0)&&d.push("/"),d.push(Gm(_,"/"==_.charAt(0)?lMe:aMe,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",Gm(_,uMe)),d.join("")};var $7=/[#\/\?@]/g,aMe=/[#\?:]/g,lMe=/[#\?]/g,cMe=/[#\?@]/g,uMe=/#/g;function Wm(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function za(d){d.g||(d.g=new Map,d.h=0,d.i&&function oMe(d,m){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var b=d[_].indexOf("="),M=null;if(0<=b){var B=d[_].substring(0,b);M=d[_].substring(b+1)}else B=d[_];m(B,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}(d.i,function(m,_){d.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}function q7(d,m){za(d),m=ih(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function G7(d,m){return za(d),m=ih(d,m),d.g.has(m)}function W7(d,m,_){q7(d,m),0<_.length&&(d.i=null,d.g.set(ih(d,m),y(_)),d.h+=_.length)}function ih(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function $a(d,m,_,b,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),b(_)}catch{}}function pMe(){this.g=new Yxe}function mMe(d,m,_){const b=_||"";try{j7(d,function(M,B){let J=M;c(M)&&(J=kN(M)),m.push(b+B+"="+encodeURIComponent(J))})}catch(M){throw m.push(b+"type="+encodeURIComponent("_badmap")),M}}function Km(d){this.l=d.Ub||null,this.j=d.eb||!1}function aw(d,m){yr.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function K7(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}function Qm(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ym(d)}function Ym(d){d.onreadystatechange&&d.onreadystatechange.call(d)}function Q7(d){let m="";return ie(d,function(_,b){m+=b,m+=":",m+=_,m+="\r\n"}),m}function zN(d,m,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Q7(_),"string"==typeof d?null!=_&&encodeURIComponent(String(_)):Vt(d,m,_))}function hn(d){yr.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Wm.prototype).add=function(d,m){za(this),this.i=null,d=ih(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(m),this.h+=1,this},n.forEach=function(d,m){za(this),this.g.forEach(function(_,b){_.forEach(function(M){d.call(m,M,b,this)},this)},this)},n.na=function(){za(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let b=0;b<m.length;b++){const M=d[b];for(let B=0;B<M.length;B++)_.push(m[b])}return _},n.V=function(d){za(this);let m=[];if("string"==typeof d)G7(this,d)&&(m=m.concat(this.g.get(ih(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)m=m.concat(d[_])}return m},n.set=function(d,m){return za(this),this.i=null,G7(this,d=ih(this,d))&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},n.get=function(d,m){return d&&0<(d=this.V(d)).length?String(d[0]):m},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var b=m[_];const B=encodeURIComponent(String(b)),J=this.V(b);for(b=0;b<J.length;b++){var M=B;""!==J[b]&&(M+="="+encodeURIComponent(String(J[b]))),d.push(M)}}return this.i=d.join("&")},g(Km,PN),Km.prototype.g=function(){return new aw(this.l,this.j)},Km.prototype.i=function(d){return function(){return d}}({}),g(aw,yr),(n=aw.prototype).open=function(d,m){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Ym(this)},n.send=function(d){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qm(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ym(this)),this.g&&(this.readyState=3,Ym(this),this.g)))if("arraybuffer"===this.responseType)d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;K7(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?Qm(this):Ym(this),3==this.readyState&&K7(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Qm(this))},n.Qa=function(d){this.g&&(this.response=d,Qm(this))},n.ga=function(){this.g&&Qm(this)},n.setRequestHeader=function(d,m){this.u.append(d,m)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var _=m.next();!_.done;)d.push((_=_.value)[0]+": "+_[1]),_=m.next();return d.join("\r\n")},Object.defineProperty(aw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(d){this.m=d?"include":"same-origin"}}),g(hn,yr);var gMe=/^https?$/i,_Me=["POST","PUT"];function Y7(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,X7(d),lw(d)}function X7(d){d.A||(d.A=!0,Or(d,"complete"),Or(d,"error"))}function Z7(d){if(d.h&&typeof s<"u"&&(!d.v[1]||4!=Ps(d)||2!=d.Z()))if(d.u&&4==Ps(d))b7(d.Ea,0,d);else if(Or(d,"readystatechange"),4==Ps(d)){d.h=!1;try{const J=d.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var b;if(b=0===J){var M=String(d.D).match(H7)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),b=!gMe.test(M?M.toLowerCase():"")}_=b}if(_)Or(d,"complete"),Or(d,"success");else{d.m=6;try{var B=2<Ps(d)?d.g.statusText:""}catch{B=""}d.l=B+" ["+d.Z()+"]",X7(d)}}finally{lw(d)}}}function lw(d,m){if(d.g){J7(d);const _=d.g,b=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||Or(d,"ready");try{_.onreadystatechange=b}catch{}}}function J7(d){d.I&&(a.clearTimeout(d.I),d.I=null)}function Ps(d){return d.g?d.g.readyState:0}function eK(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Xm(d,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||m}function tK(d){this.Aa=0,this.i=[],this.j=new zm,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xm("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xm("baseRetryDelayMs",5e3,d),this.cb=Xm("retryDelaySeedMs",1e4,d),this.Wa=Xm("forwardChannelMaxRetries",2,d),this.wa=Xm("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new F7(d&&d.concurrentRequestLimit),this.Da=new pMe,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $N(d){if(nK(d),3==d.G){var m=d.U++,_=ks(d.I);if(Vt(_,"SID",d.K),Vt(_,"RID",m),Vt(_,"TYPE","terminate"),Zm(d,_),(m=new Ha(d,d.j,m)).L=2,m.v=sw(ks(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&((new Image).src=m.v,_=!0),_||(m.g=dK(m.j,null),m.g.ea(m.v)),m.F=Date.now(),rw(m)}cK(d)}function cw(d){d.g&&(GN(d),d.g.cancel(),d.g=null)}function nK(d){cw(d),d.u&&(a.clearTimeout(d.u),d.u=null),dw(d),d.h.cancel(),d.s&&("number"==typeof d.s&&a.clearTimeout(d.s),d.s=null)}function uw(d){if(!L7(d.h)&&!d.s){d.s=!0;var m=d.Ga;de||bn(),pe||(de(),pe=!0),$e.add(m,d),d.B=0}}function rK(d,m){var _;_=m?m.l:d.U++;const b=ks(d.I);Vt(b,"SID",d.K),Vt(b,"RID",_),Vt(b,"AID",d.T),Zm(d,b),d.m&&d.o&&zN(b,d.m,d.o),_=new Ha(d,d.j,_,d.B+1),null===d.m&&(_.H=d.o),m&&(d.i=m.D.concat(d.i)),m=iK(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),HN(d.h,_),VN(_,b,m)}function Zm(d,m){d.H&&ie(d.H,function(_,b){Vt(m,b,_)}),d.l&&j7({},function(_,b){Vt(m,b,_)})}function iK(d,m,_){_=Math.min(d.i.length,_);var b=d.l?f(d.l.Na,d.l,d):null;e:{var M=d.i;let B=-1;for(;;){const J=["count="+_];-1==B?0<_?(B=M[0].g,J.push("ofs="+B)):B=0:J.push("ofs="+B);let wt=!0;for(let ur=0;ur<_;ur++){let rt=M[ur].g;const vr=M[ur].map;if(rt-=B,0>rt)B=Math.max(0,M[ur].g-100),wt=!1;else try{mMe(vr,J,"req"+rt+"_")}catch{b&&b(vr)}}if(wt){b=J.join("&");break e}}}return d=d.i.splice(0,_),m.D=d,b}function oK(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;de||bn(),pe||(de(),pe=!0),$e.add(m,d),d.v=0}}function qN(d){return!(d.g||d.u||3<=d.v||(d.Y++,d.u=Hm(f(d.Fa,d),lK(d,d.v)),d.v++,0))}function GN(d){null!=d.A&&(a.clearTimeout(d.A),d.A=null)}function sK(d){d.g=new Ha(d,d.j,"rpc",d.Y),null===d.m&&(d.g.H=d.o),d.g.O=0;var m=ks(d.qa);Vt(m,"RID","rpc"),Vt(m,"SID",d.K),Vt(m,"AID",d.T),Vt(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Vt(m,"TO",d.ja),Vt(m,"TYPE","xmlhttp"),Zm(d,m),d.m&&d.o&&zN(m,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=sw(ks(m)),_.m=null,_.P=!0,P7(_,d)}function dw(d){null!=d.C&&(a.clearTimeout(d.C),d.C=null)}function aK(d,m){var _=null;if(d.g==m){dw(d),GN(d),d.g=null;var b=2}else{if(!jN(d.h,m))return;_=m.D,B7(d.h,m),b=1}if(0!=d.G)if(m.o)if(1==b){_=m.m?m.m.length:0,m=Date.now()-m.F;var M=d.B;Or(b=ew(),new R7(b,_)),uw(d)}else oK(d);else if(3==(M=m.s)||0==M&&0<m.X||!(1==b&&function vMe(d,m){return!(V7(d.h)>=d.h.j-(d.s?1:0)||(d.s?(d.i=m.D.concat(d.i),0):1==d.G||2==d.G||d.B>=(d.Va?0:d.Wa)||(d.s=Hm(f(d.Ga,d,m),lK(d,d.B)),d.B++,0)))}(d,m)||2==b&&qN(d)))switch(_&&0<_.length&&(m=d.h,m.i=m.i.concat(_)),M){case 1:Tc(d,5);break;case 4:Tc(d,10);break;case 3:Tc(d,6);break;default:Tc(d,2)}}function lK(d,m){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*m}function Tc(d,m){if(d.j.info("Error code "+m),2==m){var _=f(d.fb,d),b=d.Xa;const M=!b;b=new Cc(b||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||iw(b,"https"),sw(b),M?function hMe(d,m){const _=new zm;if(a.Image){const b=new Image;b.onload=p($a,_,"TestLoadImage: loaded",!0,m,b),b.onerror=p($a,_,"TestLoadImage: error",!1,m,b),b.onabort=p($a,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=p($a,_,"TestLoadImage: timeout",!1,m,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=d}else m(!1)}(b.toString(),_):function fMe(d,m){new zm;const b=new AbortController,M=setTimeout(()=>{b.abort(),$a(0,0,!1,m)},1e4);fetch(d,{signal:b.signal}).then(B=>{clearTimeout(M),$a(0,0,!!B.ok,m)}).catch(()=>{clearTimeout(M),$a(0,0,!1,m)})}(b.toString(),_)}else Fr(2);d.G=0,d.l&&d.l.sa(m),cK(d),nK(d)}function cK(d){if(d.G=0,d.ka=[],d.l){const m=U7(d.h);(0!=m.length||0!=d.i.length)&&(E(d.ka,m),E(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function uK(d,m,_){var b=_ instanceof Cc?ks(_):new Cc(_);if(""!=b.g)m&&(b.g=m+"."+b.g),ow(b,b.s);else{var M=a.location;b=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var B=new Cc(null);b&&iw(B,b),m&&(B.g=m),M&&ow(B,M),_&&(B.l=_),b=B}return m=d.ya,(_=d.D)&&m&&Vt(b,_,m),Vt(b,"VER",d.la),Zm(d,b),b}function dK(d,m,_){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return(m=new hn(d.Ca&&!d.pa?new Km({eb:_}):d.pa)).Ha(d.J),m}function hK(){}function hw(){}function bi(d,m){yr.call(this),this.g=new tK(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!T(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!T(m)&&(this.g.D=m,null!==(d=this.h)&&m in d&&m in(d=this.h)&&delete d[m]),this.j=new oh(this)}function fK(d){NN.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const _ in m){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,m=null!==m&&d in m?m[d]:void 0),this.data=m}else this.data=d}function pK(){ON.call(this),this.status=1}function oh(d){this.g=d}(n=hn.prototype).Ha=function(d){this.J=d},n.ea=function(d,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():FN.g(),this.v=function C7(d){return d.h||(d.h=d.i())}(this.o?this.o:FN),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(B){return void Y7(this,B)}if(d=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var M in b)_.set(M,b[M]);else{if("function"!=typeof b.keys||"function"!=typeof b.get)throw Error("Unknown input type for opt_headers: "+String(b));for(const B of b.keys())_.set(B,b.get(B))}b=Array.from(_.keys()).find(B=>"content-type"==B.toLowerCase()),M=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_Me,m,void 0))||b||M||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of _)this.g.setRequestHeader(B,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{J7(this),this.u=!0,this.g.send(d),this.u=!1}catch(B){Y7(this,B)}},n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Or(this,"complete"),Or(this,"abort"),lw(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lw(this,!0)),hn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Z7(this):this.bb())},n.bb=function(){Z7(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Ps(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&0==m.indexOf(d)&&(m=m.substring(d.length)),Qxe(m)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=tK.prototype).la=8,n.G=1,n.connect=function(d,m,_,b){Fr(0),this.W=d,this.H=m||{},_&&void 0!==b&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=uK(this,null,this.W),uw(this)},n.Ga=function(d){if(this.s)if(this.s=null,1==this.G){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const M=new Ha(this,this.j,d);let B=this.o;if(this.S&&(B?(B=I(B),R(B,this.S)):B=this.S),null!==this.m||this.O||(M.H=B,B=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){var b=this.i[_];if(void 0===(b="__data__"in b.map&&"string"==typeof(b=b.map.__data__)?b.length:void 0))break;if(4096<(m+=b)){m=_;break e}if(4096===m||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=iK(this,M,m),Vt(_=ks(this.I),"RID",d),Vt(_,"CVER",22),this.D&&Vt(_,"X-HTTP-Session-Id",this.D),Zm(this,_),B&&(this.O?m="headers="+encodeURIComponent(String(Q7(B)))+"&"+m:this.m&&zN(_,this.m,B)),HN(this.h,M),this.Ua&&Vt(_,"TYPE","init"),this.P?(Vt(_,"$req",m),Vt(_,"SID","null"),M.T=!0,VN(M,_,null)):VN(M,_,m),this.G=2}}else 3==this.G&&(d?rK(this,d):0==this.i.length||L7(this.h)||rK(this))},n.Fa=function(){if(this.u=null,sK(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Hm(f(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fr(10),cw(this),sK(this))},n.Za=function(){null!=this.C&&(this.C=null,cw(this),qN(this),Fr(19))},n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Fr(2)):(this.j.info("Failed to ping google.com"),Fr(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=hK.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},hw.prototype.g=function(d,m){return new bi(d,m)},g(bi,yr),bi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bi.prototype.close=function(){$N(this.g)},bi.prototype.o=function(d){var m=this.g;if("string"==typeof d){var _={};_.__data__=d,d=_}else this.u&&((_={}).__data__=kN(d),d=_);m.i.push(new nMe(m.Ya++,d)),3==m.G&&uw(m)},bi.prototype.N=function(){this.g.l=null,delete this.j,$N(this.g),delete this.g,bi.aa.N.call(this)},g(fK,NN),g(pK,ON),g(oh,hK),oh.prototype.ua=function(){Or(this.g,"a")},oh.prototype.ta=function(d){Or(this.g,new fK(d))},oh.prototype.sa=function(d){Or(this.g,new pK)},oh.prototype.ra=function(){Or(this.g,"b")},hw.prototype.createWebChannel=hw.prototype.g,bi.prototype.send=bi.prototype.o,bi.prototype.open=bi.prototype.m,bi.prototype.close=bi.prototype.close,c3=ms.createWebChannelTransport=function(){return new hw},l3=ms.getStatEventTarget=function(){return ew()},a3=ms.Event=wc,GR=ms.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tw.NO_ERROR=0,tw.TIMEOUT=8,tw.HTTP_ERROR=6,Fv=ms.ErrorCode=tw,x7.COMPLETE="complete",s3=ms.EventType=x7,T7.EventType=Um,Um.OPEN="a",Um.CLOSE="b",Um.ERROR="c",Um.MESSAGE="d",yr.prototype.listen=yr.prototype.K,Tp=ms.WebChannel=T7,ms.FetchXmlHttpFactory=Km,hn.prototype.listenOnce=hn.prototype.L,hn.prototype.getLastError=hn.prototype.Ka,hn.prototype.getLastErrorCode=hn.prototype.Ba,hn.prototype.getStatus=hn.prototype.Z,hn.prototype.getResponseJson=hn.prototype.Oa,hn.prototype.getResponseText=hn.prototype.oa,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Ha,o3=ms.XhrIo=hn}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});const u3="@firebase/firestore";class Kn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");let td="11.10.0";const ca=new ev("@firebase/firestore");function nd(){return ca.logLevel}function $(n,...e){if(ca.logLevel<=qe.DEBUG){const t=e.map(WR);ca.debug(`Firestore (${td}): ${n}`,...t)}}function yn(n,...e){if(ca.logLevel<=qe.ERROR){const t=e.map(WR);ca.error(`Firestore (${td}): ${n}`,...t)}}function kr(n,...e){if(ca.logLevel<=qe.WARN){const t=e.map(WR);ca.warn(`Firestore (${td}): ${n}`,...t)}}function WR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ne(n,e,t){let r="Unexpected state";"string"==typeof e?r=e:t=e,h3(n,r,t)}function h3(n,e,t){let r=`FIRESTORE (${td}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(void 0!==t)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw yn(r),new Error(r)}function oe(n,e,t,r){let i="Unexpected state";"string"==typeof t?i=t:r=t,n||h3(e,i,r)}function Z(n,e){return n}const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends ss{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class f3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kn.UNAUTHENTICATED))}shutdown(){}}class $ve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qve{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;oe(void 0===this.o,42304);let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(w(function*(){yield c.promise,yield o(r.currentUser)}))},l=c=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe("string"==typeof r.accessToken,31837,{l:r}),new f3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return oe(null===e||"string"==typeof e,2055,{h:e}),new Kn(e)}}class Gve{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Wve{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Gve(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kve{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,to(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){oe(void 0===this.o,3512);const r=o=>{null!=o.error&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new KR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(oe("string"==typeof t.token,44558,{tokenResult:t}),this.m=t.token,new KR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qve(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function QR(){return new TextEncoder}class YR{static newId(){const t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Qve(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function _e(n,e){return n<e?-1:n>e?1:0}function XR(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return _e(r,i);{const o=QR(),s=Yve(o.encode(p3(n,t)),o.encode(p3(e,t)));return 0!==s?s:_e(r,i)}}t+=r>65535?2:1}return _e(n.length,e.length)}function p3(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Yve(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return _e(n[t],e[t]);return _e(n.length,e.length)}function rd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}const ZR="__name__";class xo{constructor(e,t,r){void 0===t?t=0:t>e.length&&ne(637,{offset:t,range:e.length}),void 0===r?r=e.length-t:r>e.length-t&&ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===xo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=xo.compareSegments(e.get(i),t.get(i));if(0!==o)return o}return _e(e.length,t.length)}static compareSegments(e,t){const r=xo.isNumericId(e),i=xo.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?xo.extractNumericId(e).compare(xo.extractNumericId(t)):XR(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return la.fromString(e.substring(4,e.length-2))}}class je extends xo{construct(e,t,r){return new je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new je(t)}static emptyPath(){return new je([])}}const Xve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends xo{construct(e,t,r){return new $t(e,t,r)}static isValidIdentifier(e){return Xve.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ZR}static keyField(){return new $t([ZR])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new H(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new H(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new H(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}class X{constructor(e){this.path=e}static fromPath(e){return new X(je.fromString(e))}static fromName(e){return new X(je.fromString(e).popFirst(5))}static empty(){return new X(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===je.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new je(e.slice()))}}function JR(n,e,t){if(!t)throw new H(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function g3(n){if(!X.isDocumentKey(n))throw new H(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _3(n){if(X.isDocumentKey(n))throw new H(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function y3(n){return"object"==typeof n&&null!==n&&(Object.getPrototypeOf(n)===Object.prototype||null===Object.getPrototypeOf(n))}function Lv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":ne(12329,{type:typeof n})}function ze(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lv(n);throw new H(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function In(n,e){const t={typeString:n};return e&&(t.value=e),t}function jl(n,e){if(!y3(n))throw new H(O.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==o&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new H(O.INVALID_ARGUMENT,t);return!0}const b3=-62135596800;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new st(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<b3)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jl(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){return String(this.seconds-b3).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:In("string",st._jsonSchemaVersion),seconds:In("number"),nanoseconds:In("number")};class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new st(0,0))}static max(){return new ue(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fi(ue.min(),X.empty(),-1)}static max(){return new fi(ue.max(),X.empty(),-1)}}function tx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=X.comparator(n.documentKey,e.documentKey),0!==t?t:_e(n.largestBatchId,e.largestBatchId))}class T3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ua(n){return nx.apply(this,arguments)}function nx(){return(nx=w(function*(n){if(n.code!==O.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==n.message)throw n;$("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new k((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof k?t:k.resolve(t)}catch(t){return k.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):k.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):k.reject(t)}static resolve(e){return new k((t,r)=>{t(e)})}static reject(e){return new k((t,r)=>{r(e)})}static waitFor(e){return new k((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=k.resolve(!1);for(const r of e)t=t.next(i=>i?k.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new k((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new k((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function da(n){return"IndexedDbTransactionError"===n.name}let mi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}return n.ue=-1,n})();function Ap(n){return null==n}function Rp(n){return 0===n&&1/n==-1/0}function obe(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function R3(n){return n+"\x01\x01"}const Mp="mutationQueues",ro="mutations",ld="documentMutations",kp="remoteDocumentGlobal",cd="targets",ud="targetDocuments",Wl="targetGlobal",Pp="collectionParents",dd="clientMetadata",$v="bundles",qv="namedQueries";function H3(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Rt{constructor(e,t){this.comparator=e,this.root=t||lr.EMPTY}insert(e,t){return new Rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wv(this.root,e,this.comparator,!0)}}class Wv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lr{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??lr.RED,this.left=i??lr.EMPTY,this.right=o??lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new lr(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return lr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1,lr.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new lr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ht{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new q3(this.data.getIterator())}getIteratorFrom(e){return new q3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ht(this.comparator);return t.data=e,t}}class q3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yr{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Yr([])}unionWith(e){let t=new ht($t.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class G3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new G3("Invalid base64 string: "+o):o}}(e);return new ln(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const Mbe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(n){if(oe(!!n,39018),"string"==typeof n){let e=0;const t=Mbe.exec(n);if(oe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(n.seconds),nanos:qt(n.nanos)}}function qt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _s(n){return"string"==typeof n?ln.fromBase64String(n):ln.fromUint8Array(n)}const W3="server_timestamp",K3="__type__",Q3="__previous_value__",Y3="__local_write_time__";function Kv(n){var e,t;return(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{})[K3])||void 0===t?void 0:t.stringValue)===W3}function Qv(n){const e=n.mapValue.fields[Q3];return Kv(e)?Qv(e):e}function Fp(n){const e=gs(n.mapValue.fields[Y3].timestampValue);return new st(e.seconds,e.nanos)}class kbe{constructor(e,t,r,i,o,s,a,l,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Lp="(default)";class Kl{constructor(e,t){this.projectId=e,this.database=t||Lp}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===Lp}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}const hx="__type__",X3="__max__",pa_mapValue={fields:{__type__:{stringValue:X3}}},fx="__vector__",fd="value";function ma(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kv(n)?4:n5(n)?9007199254740991:Jv(n)?10:11:ne(28295,{value:n})}function Po(n,e){if(n===e)return!0;const t=ma(n);if(t!==ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fp(n).isEqual(Fp(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=gs(i.timestampValue),a=gs(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,_s(n.bytesValue).isEqual(_s(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return qt(i.geoPointValue.latitude)===qt(o.geoPointValue.latitude)&&qt(i.geoPointValue.longitude)===qt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return qt(i.integerValue)===qt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=qt(i.doubleValue),a=qt(o.doubleValue);return s===a?Rp(s)===Rp(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return rd(n.arrayValue.values||[],e.arrayValue.values||[],Po);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(H3(s)!==H3(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Po(s[l],a[l])))return!1;return!0}(n,e);default:return ne(52216,{left:n})}var o}function Vp(n,e){return void 0!==(n.values||[]).find(t=>Po(t,e))}function ga(n,e){if(n===e)return 0;const t=ma(n),r=ma(e);if(t!==r)return _e(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _e(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=qt(o.integerValue||o.doubleValue),l=qt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Z3(n.timestampValue,e.timestampValue);case 4:return Z3(Fp(n),Fp(e));case 5:return XR(n.stringValue,e.stringValue);case 6:return function(o,s){const a=_s(o),l=_s(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=_e(a[c],l[c]);if(0!==u)return u}return _e(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=_e(qt(o.latitude),qt(s.latitude));return 0!==a?a:_e(qt(o.longitude),qt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return J3(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const p=null===(a=(o.fields||{})[fd])||void 0===a?void 0:a.arrayValue,g=null===(l=(s.fields||{})[fd])||void 0===l?void 0:l.arrayValue,y=_e((null===(c=p?.values)||void 0===c?void 0:c.length)||0,(null===(u=g?.values)||void 0===u?void 0:u.length)||0);return 0!==y?y:J3(p,g)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===pa_mapValue&&s===pa_mapValue)return 0;if(o===pa_mapValue)return 1;if(s===pa_mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=XR(l[h],u[h]);if(0!==f)return f;const p=ga(a[l[h]],c[u[h]]);if(0!==p)return p}return _e(l.length,u.length)}(n.mapValue,e.mapValue);default:throw ne(23264,{le:t})}}function Z3(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return _e(n,e);const t=gs(n),r=gs(e),i=_e(t.seconds,r.seconds);return 0!==i?i:_e(t.nanos,r.nanos)}function J3(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=ga(t[i],r[i]);if(o)return o}return _e(t.length,r.length)}function pd(n){return px(n)}function px(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=gs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_s(n.bytesValue).toBase64():"referenceValue"in n?X.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=px(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${px(t.fields[s])}`;return i+"}"}(n.mapValue):ne(61005,{value:n})}function Xv(n){switch(ma(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qv(n);return e?16+Xv(e):16;case 5:return 2*n.stringValue.length;case 6:return _s(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(n.arrayValue.values||[]).reduce((i,o)=>i+Xv(o),0);case 10:case 11:return function(r){let i=0;return fa(r.fields,(o,s)=>{i+=o.length+Xv(s)}),i}(n.mapValue);default:throw ne(13486,{value:n})}}function Ql(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mx(n){return!!n&&"integerValue"in n}function Bp(n){return!!n&&"arrayValue"in n}function e5(n){return!!n&&"nullValue"in n}function t5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zv(n){return!!n&&"mapValue"in n}function Jv(n){var e,t;return(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{})[hx])||void 0===t?void 0:t.stringValue)===fx}function Up(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Up(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Up(n.arrayValue.values[t]);return e}return Object.assign({},n)}function n5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===X3}class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Up(t)}setAll(e){let t=$t.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Up(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Zv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Po(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Zv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fa(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new cr(Up(this.value))}}function s5(n){const e=[];return fa(n.fields,(t,r)=>{const i=new $t([t]);if(Zv(r)){const o=s5(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Yr(e)}class Nt{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,ue.min(),ue.min(),ue.min(),cr.empty(),0)}static newFoundDocument(e,t,r,i){return new Nt(e,1,t,ue.min(),r,i,0)}static newNoDocument(e,t){return new Nt(e,2,t,ue.min(),ue.min(),cr.empty(),0)}static newUnknownDocument(e,t){return new Nt(e,3,t,ue.min(),ue.min(),cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ue.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _a{constructor(e,t){this.position=e,this.inclusive=t}}function a5(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?X.comparator(X.fromName(s.referenceValue),t.key):ga(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function l5(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Po(n.position[t],e.position[t]))return!1;return!0}class jp{constructor(e,t="asc"){this.field=e,this.dir=t}}function Obe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class c5{}class Ge extends c5{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Fbe(e,t,r):"array-contains"===t?new Bbe(e,r):"in"===t?new m5(e,r):"not-in"===t?new Ube(e,r):"array-contains-any"===t?new jbe(e,r):new Ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Lbe(e,r):new Vbe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ga(t,this.value)):null!==t&&ma(this.value)===ma(t)&&this.matchesComparison(ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ft extends c5{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ft(e,t)}matches(e){return md(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function md(n){return"and"===n.op}function _x(n){return function u5(n){for(const e of n.filters)if(e instanceof ft)return!1;return!0}(n)&&md(n)}function yx(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+pd(n.value);if(_x(n))return n.filters.map(e=>yx(e)).join(",");{const e=n.filters.map(t=>yx(t)).join(",");return`${n.op}(${e})`}}function d5(n,e){return n instanceof Ge?(r=n,(i=e)instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Po(r.value,i.value)):n instanceof ft?function(r,i){return i instanceof ft&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&d5(s,i.filters[a]),!0)}(n,e):void ne(19439);var r,i}function f5(n){return n instanceof Ge?`${(t=n).field.canonicalString()} ${t.op} ${pd(t.value)}`:n instanceof ft?function(t){return t.op.toString()+" {"+t.getFilters().map(f5).join(" ,")+"}"}(n):"Filter";var t}class Fbe extends Ge{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){const t=X.comparator(e.key,this.key);return this.matchesComparison(t)}}class Lbe extends Ge{constructor(e,t){super(e,"in",t),this.keys=p5(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vbe extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=p5(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function p5(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}class Bbe extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bp(t)&&Vp(t.arrayValue,this.value)}}class m5 extends Ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vp(this.value.arrayValue,t)}}class Ube extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Vp(this.value.arrayValue,t)}}class jbe extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vp(this.value.arrayValue,r))}}class Hbe{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}}function vx(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Hbe(n,e,t,r,i,o,s)}function Yl(n){const e=Z(n);if(null===e.Pe){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>yx(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Ap(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>pd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>pd(r)).join(",")),e.Pe=t}return e.Pe}function Hp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Obe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!d5(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!l5(n.startAt,e.startAt)&&l5(n.endAt,e.endAt)}function eb(n){return X.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ys{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null}}function gd(n){return new ys(n)}function v5(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function bx(n){return null!==n.collectionGroup}function _d(n){const e=Z(n);if(null===e.Te){e.Te=[];const t=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ht($t.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new jp(o,r))}),t.has($t.keyField().canonicalString())||e.Te.push(new jp($t.keyField(),r))}return e.Te}function fr(n){const e=Z(n);return e.Ie||(e.Ie=function E5(n,e){if("F"===n.limitType)return vx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new jp(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new _a(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _a(n.startAt.position,n.startAt.inclusive):null;return vx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,_d(n))),e.Ie}function Ex(n,e){const t=n.filters.concat([e]);return new ys(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nb(n,e,t){return new ys(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zp(n,e){return Hp(fr(n),fr(e))&&n.limitType===e.limitType}function w5(n){return`${Yl(fr(n))}|lt:${n.limitType}`}function yd(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>f5(i)).join(", ")}]`),Ap(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>pd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>pd(i)).join(",")),`Target(${r})`}(fr(n))}; limitType=${n.limitType})`}function $p(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of _d(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,l){const c=a5(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,_d(r),i)||r.endAt&&!function(s,a,l){const c=a5(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,_d(r),i)));var r,i}function C5(n){return(e,t)=>{let r=!1;for(const i of _d(n)){const o=zbe(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function zbe(n,e,t){const r=n.field.isKeyField()?X.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?ga(l,c):ne(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:n.dir})}}class vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return $3(this.inner)}size(){return this.innerSize}}const $be=new Rt(X.comparator);function Xr(){return $be}const T5=new Rt(X.comparator);function qp(...n){let e=T5;for(const t of n)e=e.insert(t.key,t);return e}function D5(n){let e=T5;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function No(){return Gp()}function S5(){return Gp()}function Gp(){return new vs(n=>n.toString(),(n,e)=>n.isEqual(e))}const qbe=new Rt(X.comparator),Gbe=new ht(X.comparator);function xe(...n){let e=Gbe;for(const t of n)e=e.add(t);return e}const Wbe=new ht(_e);function Ix(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rp(e)?"-0":e}}function A5(n){return{integerValue:""+n}}function R5(n,e){return function A3(n){return"number"==typeof n&&Number.isInteger(n)&&!Rp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?A5(e):Ix(n,e)}class rb{constructor(){this._=void 0}}function Kbe(n,e,t){return n instanceof vd?function(i,o){const s={fields:{[K3]:{stringValue:W3},[Y3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Kv(o)&&(o=Qv(o)),o&&(s.fields[Q3]=o),{mapValue:s}}(t,e):n instanceof Xl?M5(n,e):n instanceof Zl?k5(n,e):function(i,o){const s=x5(i,o),a=P5(s)+P5(i.Ee);return mx(s)&&mx(i.Ee)?A5(a):Ix(i.serializer,a)}(n,e)}function Qbe(n,e,t){return n instanceof Xl?M5(n,e):n instanceof Zl?k5(n,e):t}function x5(n,e){return n instanceof bd?mx(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class vd extends rb{}class Xl extends rb{constructor(e){super(),this.elements=e}}function M5(n,e){const t=N5(e);for(const r of n.elements)t.some(i=>Po(i,r))||t.push(r);return{arrayValue:{values:t}}}class Zl extends rb{constructor(e){super(),this.elements=e}}function k5(n,e){let t=N5(e);for(const r of n.elements)t=t.filter(i=>!Po(i,r));return{arrayValue:{values:t}}}class bd extends rb{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function P5(n){return qt(n.integerValue||n.doubleValue)}function N5(n){return Bp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xbe{constructor(e,t){this.version=e,this.transformResults=t}}class Gt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gt}static exists(e){return new Gt(void 0,e)}static updateTime(e){return new Gt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ib(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ob{}function O5(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new wd(n.key,Gt.none()):new Ed(n.key,n.data,Gt.none());{const t=n.data,r=cr.empty();let i=new ht($t.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new bs(n.key,r,new Yr(i.toArray()),Gt.none())}}function Zbe(n,e,t){n instanceof Ed?function(i,o,s){const a=i.value.clone(),l=V5(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof bs?function(i,o,s){if(!ib(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=V5(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(L5(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Kp(n,e,t,r){return n instanceof Ed?function(o,s,a,l){if(!ib(o.precondition,s))return a;const c=o.value.clone(),u=B5(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof bs?function(o,s,a,l){if(!ib(o.precondition,s))return a;const c=B5(o.fieldTransforms,l,s),u=s.data;return u.setAll(L5(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(n,e,t,r):(a=t,ib(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Jbe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=x5(r.transform,i||null);null!=o&&(null===t&&(t=cr.empty()),t.set(r.field,o))}return t||null}function F5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&rd(r,i,(o,s)=>function Ybe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Xl&&i instanceof Xl||r instanceof Zl&&i instanceof Zl?rd(r.elements,i.elements,Po):r instanceof bd&&i instanceof bd?Po(r.Ee,i.Ee):r instanceof vd&&i instanceof vd);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Ed extends ob{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bs extends ob{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function L5(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function V5(n,e,t){const r=new Map;oe(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Qbe(s,a,t[i]))}return r}function B5(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,Kbe(o,s,e))}return r}class wd extends ob{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cx extends ob{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Zbe(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Kp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Kp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=S5();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const l=O5(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&rd(this.mutations,e.mutations,(t,r)=>F5(t,r))&&rd(this.baseMutations,e.baseMutations,(t,r)=>F5(t,r))}}class Dx{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){oe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return qbe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Dx(e,t,r,i)}}class Sx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class eEe{constructor(e,t){this.count=e,this.unchangedNames=t}}var Cn,Xe;function H5(n){if(void 0===n)return yn("GRPC error has no .code"),O.UNKNOWN;switch(n){case Cn.OK:return O.OK;case Cn.CANCELLED:return O.CANCELLED;case Cn.UNKNOWN:return O.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return O.INTERNAL;case Cn.UNAVAILABLE:return O.UNAVAILABLE;case Cn.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Cn.NOT_FOUND:return O.NOT_FOUND;case Cn.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Cn.ABORTED:return O.ABORTED;case Cn.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Cn.DATA_LOSS:return O.DATA_LOSS;default:return ne(39323,{code:n})}}(Xe=Cn||(Cn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";const tEe=new la([4294967295,4294967295],0);function z5(n){const e=QR().encode(n),t=new i3;return t.update(e),new Uint8Array(t.digest())}function $5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new la([t,r],0),new la([i,o],0)]}class Ax{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Qp(`Invalid padding: ${t}`);if(r<0)throw new Qp(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Qp(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Qp(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=la.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(la.fromNumber(r)));return 1===i.compare(tEe)&&(i=new la([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=z5(e),[r,i]=$5(t);for(let o=0;o<this.hashCount;o++){const s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ax(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.fe)return;const t=z5(e),[r,i]=$5(t);for(let o=0;o<this.hashCount;o++){const s=this.pe(r,i,o);this.we(s)}}we(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Qp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yp{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Xp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Yp(ue.min(),i,new Rt(_e),Xr(),xe())}}class Xp{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Xp(r,t,xe(),xe(),xe())}}class ab{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}}class q5{constructor(e,t){this.targetId=e,this.De=t}}class G5{constructor(e,t,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class W5{constructor(){this.ve=0,this.Ce=K5(),this.Fe=ln.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=xe(),t=xe(),r=xe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ne(38017,{changeType:o})}}),new Xp(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=K5()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,oe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class nEe{constructor(e){this.We=e,this.Ge=new Map,this.ze=Xr(),this.je=lb(),this.Je=lb(),this.He=new Rt(_e)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){const t=e.targetId,r=e.De.count,i=this.st(t);if(i){const o=i.target;if(eb(o))if(0===r){const s=new X(o.path);this.Xe(t,s,Nt.newNoDocument(s,ue.min()))}else oe(1===r,20013,{expectedCount:r});else{const s=this.ot(t);if(s!==r){const a=this._t(e),l=a?this.ut(a,e,s):1;0!==l&&(this.rt(t),this.He=this.He.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=_s(r).toUint8Array()}catch(l){if(l instanceof G3)return kr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ax(s,i,o)}catch(l){return kr(l instanceof Qp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.fe?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){const t=new Map;this.Ge.forEach((o,s)=>{const a=this.st(s);if(a){if(o.current&&eb(a.target)){const l=new X(a.target.path);this.Tt(l).has(s)||this.It(s,l)||this.Xe(s,l,Nt.newNoDocument(l,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=xe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.st(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));const i=new Yp(e,t,this.He,this.ze,r);return this.ze=Xr(),this.je=lb(),this.Je=lb(),this.He=new Rt(_e),i}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new W5,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ht(_e),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ht(_e),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||$("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new W5),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function lb(){return new Rt(X.comparator)}function K5(){return new Rt(X.comparator)}const rEe={asc:"ASCENDING",desc:"DESCENDING"},iEe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oEe={and:"AND",or:"OR"};class sEe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rx(n,e){return n.useProto3Json||Ap(e)?e:{value:e}}function Id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q5(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aEe(n,e){return Id(n,e.toTimestamp())}function vn(n){return oe(!!n,49232),ue.fromTimestamp(function(t){const r=gs(t);return new st(r.seconds,r.nanos)}(n))}function xx(n,e){return Mx(n,e).canonicalString()}function Mx(n,e){const t=(i=n,new je(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function Y5(n){const e=je.fromString(n);return oe(sq(e),10190,{key:e.toString()}),e}function Zp(n,e){return xx(n.databaseId,e.path)}function Oo(n,e){const t=Y5(e);if(t.get(1)!==n.databaseId.projectId)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(J5(t))}function X5(n,e){return xx(n.databaseId,e)}function kx(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function J5(n){return oe(n.length>4&&"documents"===n.get(4),29091,{key:n.toString()}),n.popFirst(5)}function eq(n,e,t){return{name:Zp(n,e),fields:t.value.mapValue.fields}}function tq(n,e){return{documents:[X5(n,e.path)]}}function ub(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=X5(n,i);const o=function(c){if(0!==c.length)return oq(ft.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:ya((f=u).field),direction:hEe(f.dir)};var f})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=Rx(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:t,parent:i};var c}function rq(n){let e=function Z5(n){const e=Y5(n);return 4===e.length?je.emptyPath():J5(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){oe(1===r,65062);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(h){const f=iq(h);return f instanceof ft&&_x(f)?f.getFilters():[f]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(f=>{return new jp(Cd((g=f).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction));var g}));let a=null;t.limit&&(a=function(h){let f;return f="object"==typeof h?h.value:h,Ap(f)?null:f}(t.limit));let l=null;var h;t.startAt&&(l=new _a((h=t.startAt).values||[],!!h.before));let c=null;return t.endAt&&(c=function(h){return new _a(h.values||[],!h.before)}(t.endAt)),function y5(n,e,t,r,i,o,s,a){return new ys(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",l,c)}function iq(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Cd(t.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cd(t.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cd(t.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Cd(t.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(n):void 0!==n.fieldFilter?Ge.create(Cd((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return ft.create(t.compositeFilter.filters.map(r=>iq(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(t.compositeFilter.op))}(n):ne(30097,{filter:n});var t}function hEe(n){return rEe[n]}function fEe(n){return iEe[n]}function pEe(n){return oEe[n]}function ya(n){return{fieldPath:n.canonicalString()}}function Cd(n){return $t.fromServerFormat(n.fieldPath)}function oq(n){return n instanceof Ge?function(t){if("=="===t.op){if(t5(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NAN"}};if(e5(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(t5(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NOT_NAN"}};if(e5(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(t.field),op:fEe(t.op),value:t.value}}}(n):n instanceof ft?function(t){const r=t.getFilters().map(i=>oq(i));return 1===r.length?r[0]:{compositeFilter:{op:pEe(t.op),filters:r}}}(n):ne(54877,{filter:n})}function mEe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sq(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Es{constructor(e,t,r,i,o=ue.min(),s=ue.min(),a=ln.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aq{constructor(e){this.gt=e}}function hb(n){const e=rq({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?nb(e,e.limit,"L"):e}class nc{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(qt(e.integerValue));else if("doubleValue"in e){const r=qt(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Rp(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),"string"==typeof r&&(r=gs(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(_s(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?n5(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Jv(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ne(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const r=e.fields||{};this.Ct(t,55);for(const i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;const o=e.fields||{};this.Ct(t,53);const s=fd,a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.Ct(t,15),t.Ft(qt(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){const r=e.values||[];this.Ct(t,50);for(const i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),X.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}nc.Ut=new nc;class CEe{constructor(){this.Dn=new Bx}addToCollectionParentIndex(e,t){return this.Dn.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(fi.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}}class Bx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ht(je.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(je.comparator)).toArray()}}new Uint8Array(0);const Cq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pr{static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(41943040,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class ic{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ic(0)}static ur(){return new ic(-1)}}const xq="LruGarbageCollector";function kq([n,e],[t,r]){const i=_e(n,t);return 0===i?_e(e,r):i}class SEe{constructor(e){this.Tr=e,this.buffer=new ht(kq),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();kq(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pq{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){var t=this;$(xq,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,w(function*(){t.Ar=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){da(r)?$(xq,"Ignoring IndexedDB error during garbage collection: ",r):yield ua(r)}yield t.Rr(3e5)}))}}class AEe{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return k.resolve(mi.ue);const r=new SEe(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(Cq)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cq):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,t))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),nd()<=qe.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${h} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}class Oq{constructor(){this.changes=new vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kEe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Uq{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Kp(r.mutation,i,Yr.empty(),st.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=xe()){const i=No();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=qp();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=No();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,xe()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Xr();const s=Gp(),a=Gp();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof bs)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),Kp(u.mutation,c,u.mutation.getFieldMask(),st.now())):s.set(c.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new kEe(u,null!==(h=s.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Gp();let i=new Rt((s,a)=>s-a),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||Yr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||xe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=S5();u.forEach(f=>{if(!o.has(f)){const p=O5(t.get(f),r.get(f));null!==p&&h.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return X.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):bx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(No());let a=-1,l=o;return s.next(c=>k.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(u)?k.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,xe())).next(u=>({batchId:a,changes:D5(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=qp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=qp();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,l=>{const c=(h=t,f=l.child(o),new ys(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,f;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,Nt.newInvalidDocument(u)))});let a=qp();return s.forEach((l,c)=>{const u=o.get(l);void 0!==u&&Kp(u.mutation,c,Yr.empty(),st.now()),$p(t,c)&&(a=a.insert(l,c))}),a})}}class PEe{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return k.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,{id:(i=t).id,version:i.version,createTime:vn(i.createTime)}),k.resolve();var i}getNamedQuery(e,t){return k.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,{name:(i=t).name,query:hb(i.bundledQuery),readTime:vn(i.readTime)}),k.resolve();var i}}class NEe{constructor(){this.overlays=new Rt(X.comparator),this.kr=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){const r=No();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.kr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){const i=No(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Rt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=o.get(c.largestBatchId);null===u&&(u=No(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=No(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return k.resolve(a)}wt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Sx(t,r));let o=this.kr.get(t);void 0===o&&(o=xe(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}}class OEe{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}}class Ux{constructor(){this.qr=new ht(Yn.Qr),this.$r=new ht(Yn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Yn(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Yn(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new X(new je([])),r=new Yn(t,e),i=new Yn(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new X(new je([])),r=new Yn(t,e),i=new Yn(t,e+1);let o=xe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Yn(e,0),r=this.qr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yn{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return X.comparator(e.key,t.key)||_e(e.Hr,t.Hr)}static Ur(e,t){return _e(e.Hr,t.Hr)||X.comparator(e.key,t.key)}}class FEe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ht(Yn.Qr)}checkEmpty(e){return k.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.er;this.er++;const s=new Tx(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.Yr=this.Yr.add(new Yn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Xr(t+1),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(0===this.mutationQueue.length?-1:this.er-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yn(t,0),i=new Yn(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{const a=this.Zr(s.Hr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ht(_e);return t.forEach(i=>{const o=new Yn(i,0),s=new Yn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),k.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;X.isDocumentKey(o)||(o=o.child(""));const s=new Yn(new X(o),0);let a=new ht(_e);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},s),k.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(r=>{const i=this.Zr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){oe(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let r=this.Yr;return k.forEach(t.mutations,i=>{const o=new Yn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new Yn(t,0),i=this.Yr.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return k.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class LEe{constructor(e){this.ni=e,this.docs=new Rt(X.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(t))}getEntries(e,t){let r=Xr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Nt.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Xr();const s=t.path,a=new X(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||tx(new fi((n=u).readTime,n.key,-1),r)<=0||(i.has(u.key)||$p(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}var n;return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ne(9500)}ri(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new VEe(this)}getSize(e){return k.resolve(this.size)}}class VEe extends Oq{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class BEe{constructor(e){this.persistence=e,this.ii=new vs(t=>Yl(t),Hp),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.si=0,this.oi=new Ux,this.targetCount=0,this._i=ic.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),k.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ic(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.hr(t),k.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),k.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.oi.containsKey(t))}}class jx{constructor(e,t){this.ai={},this.overlays={},this.ui=new mi(0),this.ci=!1,this.ci=!0,this.li=new OEe,this.referenceDelegate=e(this),this.hi=new BEe(this),this.indexManager=new CEe,this.remoteDocumentCache=new LEe(r=>this.referenceDelegate.Pi(r)),this.serializer=new aq(t),this.Ti=new PEe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NEe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new FEe(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){$("MemoryPersistence","Starting transaction:",e);const i=new UEe(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return k.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class UEe extends T3{constructor(e){super(),this.currentSequenceNumber=e}}class bb{constructor(e){this.persistence=e,this.Ai=new Ux,this.Ri=null}static Vi(e){return new bb(e)}get mi(){if(this.Ri)return this.Ri;throw ne(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),k.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.mi,r=>{const i=X.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ue.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return k.or([()=>k.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Eb{constructor(e,t){this.persistence=e,this.gi=new vs(r=>function hr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=R3(e)),e=obe(n.get(t),e);return R3(e)}(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=function Nq(n,e){return new AEe(n,e)}(this,t)}static Vi(e,t){return new Eb(e,t)}Ii(){}di(e){return k.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return k.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?k.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ue.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),k.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),k.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xv(e.data.value)),t}Sr(e,t,r){return k.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return k.resolve(void 0!==i&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=xe(),i=xe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Wx(e,t.fromCache,r,i)}}class HEe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zq{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=Xz()?8:function D3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(gn())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new HEe;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(nd()<=qe.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",yd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),k.resolve()):(nd()<=qe.DEBUG&&$("QueryEngine","Query:",yd(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(nd()<=qe.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",yd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(t))):k.resolve())}ps(e,t){if(v5(t))return k.resolve(null);let r=fr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=nb(t,null,"F"),r=fr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=xe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(t,a);return this.Ds(t,c,s,l.readTime)?this.ps(e,nb(t,null,"F")):this.vs(e,c,t,l)}))})))}ys(e,t,r,i){return v5(t)||i.isEqual(ue.min())?k.resolve(null):this.gs.getDocuments(e,r).next(o=>{const s=this.bs(t,o);return this.Ds(t,s,r,i)?k.resolve(null):(nd()<=qe.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yd(t)),this.vs(e,s,t,function w3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(1e9===r?new st(t+1,0):new st(t,r));return new fi(i,X.empty(),e)}(i,-1)).next(a=>a))})}bs(e,t){let r=new ht(C5(e));return t.forEach((i,o)=>{$p(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return nd()<=qe.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",yd(t)),this.gs.getDocumentsMatchingQuery(e,t,fi.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}const Kx="LocalStore";class $Ee{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Rt(_e),this.Ms=new vs(o=>Yl(o),Hp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uq(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function qq(n,e){return Qx.apply(this,arguments)}function Qx(){return(Qx=w(function*(n,e){const t=Z(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=xe();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function Gq(n){const e=Z(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function WEe(n,e){const t=Z(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Md(n,e,t){return Yx.apply(this,arguments)}function Yx(){return(Yx=w(function*(n,e,t){const r=Z(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!da(s))throw s;$(Kx,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})).apply(this,arguments)}function Ib(n,e,t){const r=Z(n);let i=ue.min(),o=xe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const h=Z(l),f=h.Ms.get(u);return void 0!==f?k.resolve(h.Fs.get(f)):h.hi.getTargetData(c,u)}(r,s,fr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ue.min(),t?o:xe())).next(a=>(function Yq(n,e,t){let r=n.xs.get(e)||ue.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}(r,function I5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,qs:o})))}class tM{constructor(){this.activeTargetIds=function wx(){return Wbe}()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nG{constructor(){this.Fo=new tM,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new tM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YEe{xo(e){}shutdown(){}}const rG="ConnectivityMonitor";class iG{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){$(rG,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){$(rG,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Db=null;function rM(){return null===Db?Db=268435456+Math.round(2147483648*Math.random()):Db++,"0x"+Db.toString(16)}const iM="RestConnection",XEe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZEe{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Lp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){const s=rM(),a=this.Go(e,t.toUriEncodedString());$(iM,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,o);const{host:c}=new URL(a),u=qu(c);return this.jo(e,a,l,r,u).then(h=>($(iM,`Received RPC '${e}' ${s}: `,h),h),h=>{throw kr(iM,`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+td,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){return`${this.$o}/v1/${t}:${XEe[e]}`}terminate(){}}class JEe{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const mr="WebChannelConnection";class ewe extends ZEe{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){const s=rM();return new Promise((a,l)=>{const c=new o3;c.setWithCredentials(!0),c.listenOnce(s3.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Fv.NO_ERROR:const h=c.getResponseJson();$(mr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case Fv.TIMEOUT:$(mr,`RPC '${e}' ${s} timed out`),l(new H(O.DEADLINE_EXCEEDED,"Request time out"));break;case Fv.HTTP_ERROR:const f=c.getStatus();if($(mr,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p?.error;if(g&&g.status&&g.message){const y=function(C){const T=C.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(T)>=0?T:O.UNKNOWN}(g.status);l(new H(y,g.message))}else l(new H(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new H(O.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{c_:e,streamId:s,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{$(mr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);$(mr,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)})}P_(e,t,r){const i=rM(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=c3(),a=l3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=o.join("");$(mr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=s.createWebChannel(u,l);this.T_(h);let f=!1,p=!1;const g=new JEe({Ho:E=>{p?$(mr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||($(mr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),$(mr,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Yo:()=>h.close()}),y=(E,C,T)=>{E.listen(C,L=>{try{T(L)}catch(q){setTimeout(()=>{throw q},0)}})};return y(h,Tp.EventType.OPEN,()=>{p||($(mr,`RPC '${e}' stream ${i} transport opened.`),g.s_())}),y(h,Tp.EventType.CLOSE,()=>{p||(p=!0,$(mr,`RPC '${e}' stream ${i} transport closed`),g.__(),this.I_(h))}),y(h,Tp.EventType.ERROR,E=>{p||(p=!0,kr(mr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),g.__(new H(O.UNAVAILABLE,"The operation could not be completed")))}),y(h,Tp.EventType.MESSAGE,E=>{var C;if(!p){const T=E.data[0];oe(!!T,16349);const L=T,q=L?.error||(null===(C=L[0])||void 0===C?void 0:C.error);if(q){$(mr,`RPC '${e}' stream ${i} received error:`,q);const ee=q.status;let ie=function(D){const R=Cn[D];if(void 0!==R)return H5(R)}(ee),A=q.message;void 0===ie&&(ie=O.INTERNAL,A="Unknown error status: "+ee+" with message "+q.message),p=!0,g.__(new H(ie,A)),h.close()}else $(mr,`RPC '${e}' stream ${i} received:`,T),g.a_(T)}}),y(a,a3.STAT_EVENT,E=>{E.stat===GR.PROXY?$(mr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===GR.NOPROXY&&$(mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.o_()},0),g}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Sb(){return typeof document<"u"?document:null}function sc(n){return new sEe(n,!0)}class oM{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const sG="PersistentStream";class aG{constructor(e,t,r,i,o,s,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new oM(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}stop(){var e=this;return w(function*(){e.M_()&&(yield e.close(0))})()}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){var e=this;return w(function*(){if(e.x_())return e.close(0)})()}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){var r=this;return w(function*(){r.q_(),r.Q_(),r.F_.cancel(),r.b_++,4!==e?r.F_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(yn(t.toString()),yn("Using maximum backoff delay to prevent overloading the backend."),r.F_.f_()):t&&t.code===O.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.U_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.n_(t)})()}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{const i=new H(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.C_?this.j_(i):this.onNext(i))})}O_(){var e=this;this.state=5,this.F_.g_(w(function*(){e.state=0,e.start()}))}G_(e){return $(sG,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():($(sG,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class twe extends aG{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function cEe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ne(39313,{state:c}),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(oe(void 0===u||"string"==typeof u,58123),ln.fromBase64String(u||"")):(oe(void 0===u||u instanceof Buffer||u instanceof Uint8Array,16193),ln.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=void 0===c.code?O.UNKNOWN:H5(c.code);return new H(u,c.message||"")}(s);t=new G5(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Oo(n,r.document.name),o=vn(r.document.updateTime),s=r.document.createTime?vn(r.document.createTime):ue.min(),a=new cr({mapValue:{fields:r.document.fields}}),l=Nt.newFoundDocument(i,o,s,a);t=new ab(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Oo(n,r.document),o=r.readTime?vn(r.readTime):ue.min(),s=Nt.newNoDocument(i,o);t=new ab([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Oo(n,r.document);t=new ab([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ne(11601,{At:e});{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new eEe(i,o);t=new q5(r.targetId,s)}}var c;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return ue.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?vn(s.readTime):ue.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=kx(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=eb(l)?{documents:tq(o,l)}:{query:ub(o,l).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Q5(o,s.resumeToken);const c=Rx(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ue.min())>0){a.readTime=Id(o,s.snapshotVersion.toTimestamp());const c=Rx(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function dEe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:i})}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=kx(this.serializer),t.removeTarget=e,this.k_(t)}}class nwe extends aG{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,oe(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function uEe(n,e){return n&&n.length>0?(oe(void 0!==e,14353),n.map(t=>function(i,o){let s=vn(i.updateTime?i.updateTime:o);return s.isEqual(ue.min())&&(s=vn(o)),new Xbe(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=kx(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Jp(n,e){let t;if(e instanceof Ed)t={update:eq(n,e.key,e.value)};else if(e instanceof wd)t={delete:Zp(n,e.key)};else if(e instanceof bs)t={update:eq(n,e.key,e.data),updateMask:mEe(e.fieldMask)};else{if(!(e instanceof Cx))return ne(16599,{Rt:e.type});t={verify:Zp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof vd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bd)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ne(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:aEe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ne(27497)),t;var o}(this.serializer,r))};this.k_(t)}}class rwe{}class iwe extends rwe{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Mx(t,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(O.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Mx(t,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(O.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class owe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(yn(t),this._a=!1):$("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const ac="RemoteStore";class swe{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(a=>{r.enqueueAndForget(w(function*(){var l;Ia(s)&&($(ac,"Restarting streams for network reachability change."),yield(l=w(function*(u){const h=Z(u);h.Ia.add(4),yield kd(h),h.Aa.set("Unknown"),h.Ia.delete(4),yield am(h)}),function c(u){return l.apply(this,arguments)})(s))}))}),this.Aa=new owe(r,i)}}function am(n){return sM.apply(this,arguments)}function sM(){return(sM=w(function*(n){if(Ia(n))for(const e of n.da)yield e(!0)})).apply(this,arguments)}function kd(n){return aM.apply(this,arguments)}function aM(){return(aM=w(function*(n){for(const e of n.da)yield e(!1)})).apply(this,arguments)}function Ab(n,e){const t=Z(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),uM(t)?cM(t):Od(t).x_()&&lM(t,e))}function Pd(n,e){const t=Z(n),r=Od(t);t.Ta.delete(e),r.x_()&&lG(t,e),0===t.Ta.size&&(r.x_()?r.B_():Ia(t)&&t.Aa.set("Unknown"))}function lM(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Od(n).H_(e)}function lG(n,e){n.Ra.$e(e),Od(n).Y_(e)}function cM(n){n.Ra=new nEe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Od(n).start(),n.Aa.aa()}function uM(n){return Ia(n)&&!Od(n).M_()&&n.Ta.size>0}function Ia(n){return 0===Z(n).Ia.size}function cG(n){n.Ra=void 0}function awe(n){return dM.apply(this,arguments)}function dM(){return(dM=w(function*(n){n.Aa.set("Online")})).apply(this,arguments)}function lwe(n){return hM.apply(this,arguments)}function hM(){return(hM=w(function*(n){n.Ta.forEach((e,t)=>{lM(n,e)})})).apply(this,arguments)}function cwe(n,e){return fM.apply(this,arguments)}function fM(){return(fM=w(function*(n,e){cG(n),uM(n)?(n.Aa.la(e),cM(n)):n.Aa.set("Unknown")})).apply(this,arguments)}function uwe(n,e,t){return pM.apply(this,arguments)}function pM(){return pM=w(function*(n,e,t){if(n.Aa.set("Online"),e instanceof G5&&2===e.state&&e.cause)try{yield(r=w(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.Ta.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.Ta.delete(l),o.Ra.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){$(ac,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Rb(n,r)}else if(e instanceof ab?n.Ra.Ye(e):e instanceof q5?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ue.min()))try{const r=yield Gq(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.Ra.Pt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.Ta.get(c);u&&o.Ta.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.Ta.get(l);if(!u)return;o.Ta.set(l,u.withResumeToken(ln.EMPTY_BYTE_STRING,u.snapshotVersion)),lG(o,l);const h=new Es(u.target,l,c,u.sequenceNumber);lM(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){$(ac,"Failed to raise snapshot:",r),yield Rb(n,r)}var r}),pM.apply(this,arguments)}function Rb(n,e,t){return mM.apply(this,arguments)}function mM(){return(mM=w(function*(n,e,t){if(!da(e))throw e;n.Ia.add(1),yield kd(n),n.Aa.set("Offline"),t||(t=()=>Gq(n.localStore)),n.asyncQueue.enqueueRetryable(w(function*(){$(ac,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield am(n)}))})).apply(this,arguments)}function uG(n,e){return e().catch(t=>Rb(n,t,e))}function Nd(n){return gM.apply(this,arguments)}function gM(){return(gM=w(function*(n){const e=Z(n),t=Ca(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:-1;for(;dwe(e);)try{const i=yield WEe(e.localStore,r);if(null===i){0===e.Pa.length&&t.B_();break}r=i.batchId,hwe(e,i)}catch(i){yield Rb(e,i)}dG(e)&&hG(e)})).apply(this,arguments)}function dwe(n){return Ia(n)&&n.Pa.length<10}function hwe(n,e){n.Pa.push(e);const t=Ca(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function dG(n){return Ia(n)&&!Ca(n).M_()&&n.Pa.length>0}function hG(n){Ca(n).start()}function fwe(n){return _M.apply(this,arguments)}function _M(){return(_M=w(function*(n){Ca(n).na()})).apply(this,arguments)}function pwe(n){return yM.apply(this,arguments)}function yM(){return(yM=w(function*(n){const e=Ca(n);for(const t of n.Pa)e.X_(t.mutations)})).apply(this,arguments)}function mwe(n,e,t){return vM.apply(this,arguments)}function vM(){return(vM=w(function*(n,e,t){const r=n.Pa.shift(),i=Dx.from(r,e,t);yield uG(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Nd(n)})).apply(this,arguments)}function gwe(n,e){return bM.apply(this,arguments)}function bM(){return bM=w(function*(n,e){var t;e&&Ca(n).Z_&&(yield(t=w(function*(i,o){if(function j5(n){switch(n){case O.OK:return ne(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return ne(15467,{code:n})}}(a=o.code)&&a!==O.ABORTED){const s=i.Pa.shift();Ca(i).N_(),yield uG(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Nd(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),dG(n)&&hG(n)}),bM.apply(this,arguments)}function fG(n,e){return EM.apply(this,arguments)}function EM(){return(EM=w(function*(n,e){const t=Z(n);t.asyncQueue.verifyOperationInProgress(),$(ac,"RemoteStore received new credentials");const r=Ia(t);t.Ia.add(3),yield kd(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield am(t)})).apply(this,arguments)}function IM(){return(IM=w(function*(n,e){const t=Z(n);e?(t.Ia.delete(2),yield am(t)):e||(t.Ia.add(2),yield kd(t),t.Aa.set("Unknown"))})).apply(this,arguments)}function Od(n){return n.Va||(n.Va=function(t,r,i){const o=Z(t);return o.ia(),new twe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:awe.bind(null,n),e_:lwe.bind(null,n),n_:cwe.bind(null,n),J_:uwe.bind(null,n)}),n.da.push(function(){var e=w(function*(t){t?(n.Va.N_(),uM(n)?cM(n):n.Aa.set("Unknown")):(yield n.Va.stop(),cG(n))});return function(t){return e.apply(this,arguments)}}())),n.Va}function Ca(n){return n.ma||(n.ma=function(t,r,i){const o=Z(t);return o.ia(),new nwe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:fwe.bind(null,n),n_:gwe.bind(null,n),ea:pwe.bind(null,n),ta:mwe.bind(null,n)}),n.da.push(function(){var e=w(function*(t){t?(n.ma.N_(),yield Nd(n)):(yield n.ma.stop(),n.Pa.length>0&&($(ac,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))});return function(t){return e.apply(this,arguments)}}())),n.ma}class CM{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new CM(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new H(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fd(n,e){if(yn("AsyncQueue",`${e}: ${n}`),da(n))return new H(O.UNAVAILABLE,`${e}: ${n}`);throw n}class lc{static emptySet(e){return new lc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=qp(),this.sortedSet=new Rt(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new lc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class pG{constructor(){this.fa=new Rt(X.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?0!==e.type&&3===r.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==r.type?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.fa=this.fa.remove(t):1===e.type&&2===r.type?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ne(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class cc{constructor(e,t,r,i,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new cc(e,t,lc.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class _we{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class ywe{constructor(){this.queries=mG(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(t,r){const i=Z(t),o=i.queries;i.queries=mG(),o.forEach((s,a)=>{for(const l of a.wa)l.onError(r)})}(this,new H(O.ABORTED,"Firestore shutting down"))}}function mG(){return new vs(n=>w5(n),zp)}function DM(){return(DM=w(function*(n,e){const t=Z(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new _we,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){const a=Fd(s,`Initialization of query '${yd(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&RM(t)})).apply(this,arguments)}function AM(){return(AM=w(function*(n,e){const t=Z(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),0===o.wa.length?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function vwe(n,e){const t=Z(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&RM(t)}function bwe(n,e,t){const r=Z(n),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(t);r.queries.delete(e)}function RM(n){n.Da.forEach(e=>{e.next()})}var xM,gG;(gG=xM||(xM={})).Fa="default",gG.Cache="cache";class MM{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){return!e.fromCache||!this.ba()||(!this.options.ka||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}La(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==xM.Cache}}class bG{constructor(e){this.key=e}}class EG{constructor(e){this.key=e}}class wG{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=xe(),this.mutatedKeys=xe(),this.Xa=C5(e),this.eu=new lc(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new pG,i=t?t.eu:this.eu;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),p=$p(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),E=!0):this.iu(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.Xa(p,l)>0||c&&this.Xa(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(s=s.add(p),o=y?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort((u,h)=>function(p,g){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{At:E})}};return y(p)-y(g)}(u.type,h.type)||this.Xa(u.doc,h.doc)),this.su(r),i=null!=i&&i;const a=t&&!i?this.ou():[],l=0===this.Za.size&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,0!==s.length||c?{snapshot:new cc(this.query,e.eu,o,s,e.mutatedKeys,0===l,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new pG,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=xe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new EG(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new bG(r))}),t}uu(e){this.Ha=e.qs,this.Za=xe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return cc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const Ta="SyncEngine";class Ewe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wwe{constructor(e){this.key=e,this.lu=!1}}class Iwe{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new vs(a=>w5(a),zp),this.Tu=new Map,this.Iu=new Set,this.du=new Rt(X.comparator),this.Eu=new Map,this.Au=new Ux,this.Ru={},this.Vu=new Map,this.mu=ic.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}function Cwe(n,e){return PM.apply(this,arguments)}function PM(){return(PM=w(function*(n,e,t=!0){const r=xb(n);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield IG(r,e,t,!0),i})).apply(this,arguments)}function Twe(n,e){return NM.apply(this,arguments)}function NM(){return(NM=w(function*(n,e){const t=xb(n);yield IG(t,e,!0,!1)})).apply(this,arguments)}function IG(n,e,t,r){return OM.apply(this,arguments)}function OM(){return(OM=w(function*(n,e,t,r){const i=yield function xd(n,e){const t=Z(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Es(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Fs.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}(n.localStore,fr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t);let a;return r&&(a=yield function FM(n,e,t,r,i){return LM.apply(this,arguments)}(n,e,o,"current"===s,i.resumeToken)),n.isPrimaryClient&&t&&Ab(n.remoteStore,i),a})).apply(this,arguments)}function LM(){return LM=w(function*(n,e,t,r,i){n.gu=(h,f,p)=>{return(g=w(function*(E,C,T,L){let q=C.view.nu(T);q.Ds&&(q=yield Ib(E.localStore,C.query,!1).then(({documents:I})=>C.view.nu(I,q)));const ee=L&&L.targetChanges.get(C.targetId),ie=L&&null!=L.targetMismatches.get(C.targetId),A=C.view.applyChanges(q,E.isPrimaryClient,ee,ie);return KM(E,C.targetId,A._u),A.snapshot}),function y(E,C,T,L){return g.apply(this,arguments)})(n,h,f,p);var g};const o=yield Ib(n.localStore,e,!0),s=new wG(e,o.qs),a=s.nu(o.documents),l=Xp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,l);KM(n,t,c._u);const u=new Ewe(e,t,s);return n.Pu.set(e,u),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),c.snapshot}),LM.apply(this,arguments)}function Dwe(n,e,t){return VM.apply(this,arguments)}function VM(){return(VM=w(function*(n,e,t){const r=Z(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!zp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Md(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Pd(r.remoteStore,i.targetId),Ld(r,i.targetId)}).catch(ua))):(Ld(r,i.targetId),yield Md(r.localStore,i.targetId,!0))})).apply(this,arguments)}function Swe(n,e){return BM.apply(this,arguments)}function BM(){return(BM=w(function*(n,e){const t=Z(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Pd(t.remoteStore,r.targetId))})).apply(this,arguments)}function UM(){return(UM=w(function*(n,e,t){const r=function ok(n){const e=Z(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xwe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mwe.bind(null,e),e}(n);try{const i=yield function(s,a){const l=Z(s),c=st.now(),u=a.reduce((p,g)=>p.add(g.key),xe());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Xr(),y=xe();return l.Os.getEntries(p,u).next(E=>{g=E,g.forEach((C,T)=>{T.isValidDocument()||(y=y.add(C))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(E=>{h=E;const C=[];for(const T of a){const L=Jbe(T,h.get(T.key).overlayedDocument);null!=L&&C.push(new bs(T.key,L,s5(L.value.mapValue),Gt.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,C,a)}).next(E=>{f=E;const C=E.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(p,E.batchId,C)})}).then(()=>({batchId:f.batchId,changes:D5(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Ru[s.currentUser.toKey()];c||(c=new Rt(_e)),c=c.insert(a,l),s.Ru[s.currentUser.toKey()]=c}(r,i.batchId,t),yield ws(r,i.changes),yield Nd(r.remoteStore)}catch(i){const o=Fd(i,"Failed to persist write");t.reject(o)}})).apply(this,arguments)}function CG(n,e){return jM.apply(this,arguments)}function jM(){return(jM=w(function*(n,e){const t=Z(n);try{const r=yield function GEe(n,e){const t=Z(n),r=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(t.hi.removeMatchingKeys(o,u.removedDocuments,h).next(()=>t.hi.addMatchingKeys(o,u.addedDocuments,h)));let p=f.withSequenceNumber(o.currentSequenceNumber);var y,E,C;null!==e.targetMismatches.get(h)?p=p.withResumeToken(ln.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),E=p,C=u,(0===(y=f).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0)&&a.push(t.hi.updateTargetData(o,p))});let l=Xr(),c=xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function Wq(n,e,t){let r=xe(),i=xe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Xr();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):$(Kx,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:s,ks:i}})}(o,s,e.documentUpdates).next(u=>{l=u.Ls,c=u.ks})),!r.isEqual(ue.min())){const u=t.hi.getLastRemoteSnapshotVersion(o).next(h=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.Fs=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Eu.get(o);s&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?oe(s.lu,14607):i.removedDocuments.size>0&&(oe(s.lu,42227),s.lu=!1))}),yield ws(t,r,e)}catch(r){yield ua(r)}})).apply(this,arguments)}function TG(n,e,t){const r=Z(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Pu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Z(s);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.wa)f.va(a)&&(c=!0)}),c&&RM(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Rwe(n,e,t){return HM.apply(this,arguments)}function HM(){return(HM=w(function*(n,e,t){const r=Z(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Rt(X.comparator);s=s.insert(o,Nt.newNoDocument(o,ue.min()));const a=xe().add(o),l=new Yp(ue.min(),new Map,new Rt(_e),s,a);yield CG(r,l),r.du=r.du.remove(o),r.Eu.delete(e),QM(r)}else yield Md(r.localStore,e,!1).then(()=>Ld(r,e,t)).catch(ua)})).apply(this,arguments)}function xwe(n,e){return zM.apply(this,arguments)}function zM(){return(zM=w(function*(n,e){const t=Z(n),r=e.batch.batchId;try{const i=yield function qEe(n,e){const t=Z(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=k.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{const E=c.docVersions.get(g);oe(null!==E,48541),y.version.compareTo(E)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);WM(t,r,null),GM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ws(t,i)}catch(i){yield ua(i)}})).apply(this,arguments)}function Mwe(n,e,t){return $M.apply(this,arguments)}function $M(){return($M=w(function*(n,e,t){const r=Z(n);try{const i=yield function(s,a){const l=Z(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(oe(null!==h,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);WM(r,e,t),GM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ws(r,i)}catch(i){yield ua(i)}})).apply(this,arguments)}function GM(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function WM(n,e,t){const r=Z(n);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Ld(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||DG(n,r)})}function DG(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);null!==t&&(Pd(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),QM(n))}function KM(n,e,t){for(const r of t)r instanceof bG?(n.Au.addReference(r.key,e),Pwe(n,r)):r instanceof EG?($(Ta,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||DG(n,r.key)):ne(19791,{yu:r})}function Pwe(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||($(Ta,"New document in limbo: "+t),n.Iu.add(r),QM(n))}function QM(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new X(je.fromString(e)),r=n.mu.next();n.Eu.set(r,new wwe(t)),n.du=n.du.insert(t,r),Ab(n.remoteStore,new Es(fr(gd(t.path)),r,"TargetPurposeLimboResolution",mi.ue))}}function ws(n,e,t){return YM.apply(this,arguments)}function YM(){return YM=w(function*(n,e,t){const r=Z(n),i=[],o=[],s=[];var a;r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{s.push(r.gu(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:null===(u=t?.targetChanges.get(l.targetId))||void 0===u?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Wx.Es(l.targetId,c);o.push(h)}}))}),yield Promise.all(s),r.hu.J_(i),yield(a=w(function*(c,u){const h=Z(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>k.forEach(u,p=>k.forEach(p.Is,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>k.forEach(p.ds,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!da(f))throw f;$(Kx,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const g=h.Fs.get(p),E=g.withLastLimboFreeSnapshotVersion(g.snapshotVersion);h.Fs=h.Fs.insert(p,E)}}}),function l(c,u){return a.apply(this,arguments)})(r.localStore,o))}),YM.apply(this,arguments)}function Nwe(n,e){return XM.apply(this,arguments)}function XM(){return(XM=w(function*(n,e){const t=Z(n);if(!t.currentUser.isEqual(e)){$(Ta,"User change. New user:",e.toKey());const r=yield qq(t.localStore,e);t.currentUser=e,(o=t).Vu.forEach(a=>{a.forEach(l=>{l.reject(new H(O.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Vu.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ws(t,r.Bs)}var o})).apply(this,arguments)}function Owe(n,e){const t=Z(n),r=t.Eu.get(e);if(r&&r.lu)return xe().add(r.key);{let i=xe();const o=t.Tu.get(e);if(!o)return i;for(const s of o){const a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function xb(n){const e=Z(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Owe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rwe.bind(null,e),e.hu.J_=vwe.bind(null,e.eventManager),e.hu.pu=bwe.bind(null,e.eventManager),e}let Mb=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var r=this;return w(function*(){r.serializer=sc(t.databaseInfo.databaseId),r.sharedClientState=r.bu(t),r.persistence=r.Du(t),yield r.persistence.start(),r.localStore=r.vu(t),r.gcScheduler=r.Cu(t,r.localStore),r.indexBackfillerScheduler=r.Fu(t,r.localStore)})()}Cu(t,r){return null}Fu(t,r){return null}vu(t){return function $q(n,e,t,r){return new $Ee(n,e,t,r)}(this.persistence,new zq,t.initialUser,this.serializer)}Du(t){return new jx(bb.Vi,this.serializer)}bu(t){return new nG}terminate(){var t=this;return w(function*(){var r,i;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class sk extends Mb{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){return oe(this.persistence.referenceDelegate instanceof Eb,46915),new Pq(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new jx(r=>Eb.Vi(r,t),this.serializer)}}let Vd=(()=>{class n{initialize(t,r){var i=this;return w(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>TG(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Nwe.bind(null,i.syncEngine),yield function wM(n,e){return IM.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new ywe}createDatastore(t){const r=sc(t.databaseInfo.databaseId),i=new ewe(t.databaseInfo);return new iwe(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return i=this.localStore,o=this.datastore,s=t.asyncQueue,a=r=>TG(this.syncEngine,r,0),l=iG.C()?new iG:new YEe,new swe(i,o,s,a,l);var i,o,s,a,l}createSyncEngine(t,r){return function(o,s,a,l,c,u,h){const f=new Iwe(o,s,a,l,c,u);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return w(function*(){var r,i,o;yield(o=w(function*(a){const l=Z(a);$(ac,"RemoteStore shutting down."),l.Ia.add(5),yield kd(l),l.Ea.shutdown(),l.Aa.set("Unknown")}),function s(a){return o.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}return n.provider={build:()=>new n},n})();class kb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):yn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Da="FirestoreClient";class Kwe{constructor(e,t,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Kn.UNAUTHENTICATED,this.clientId=YR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=w(function*(l){$(Da,"Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>($(Da,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(w(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Fd(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function lk(n,e){return ck.apply(this,arguments)}function ck(){return ck=w(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$(Da,"Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=w(function*(o){r.isEqual(o)||(yield qq(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>{kr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{$("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{kr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}),ck.apply(this,arguments)}function MG(n,e){return uk.apply(this,arguments)}function uk(){return(uk=w(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function dk(n){return hk.apply(this,arguments)}(n);$(Da,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>fG(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>fG(e.remoteStore,i)),n._onlineComponents=e})).apply(this,arguments)}function hk(){return(hk=w(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$(Da,"Using user provided OfflineComponentProvider");try{yield lk(n,n._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;kr("Error using user provided cache. Falling back to memory cache: "+e),yield lk(n,new Mb)}}else $(Da,"Using default OfflineComponentProvider"),yield lk(n,new sk(void 0));var i;return n._offlineComponents})).apply(this,arguments)}function Pb(n){return fk.apply(this,arguments)}function fk(){return(fk=w(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?($(Da,"Using user provided OnlineComponentProvider"),yield MG(n,n._uninitializedComponentsProvider._online)):($(Da,"Using default OnlineComponentProvider"),yield MG(n,new Vd))),n._onlineComponents})).apply(this,arguments)}function mk(){return(mk=w(function*(n){const e=yield Pb(n),t=e.eventManager;return t.onListen=Cwe.bind(null,e.syncEngine),t.onUnlisten=Dwe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Twe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Swe.bind(null,e.syncEngine),t})).apply(this,arguments)}function FG(n,e,t={}){const r=new Qn;return n.asyncQueue.enqueueAndForget(w(function*(){return function(o,s,a,l,c){const u=new kb({next:f=>{u.Ou(),s.enqueueAndForget(()=>function SM(n,e){return AM.apply(this,arguments)}(o,h)),f.fromCache&&"server"===l.source?c.reject(new H(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new MM(a,u,{includeMetadataChanges:!0,ka:!0});return function TM(n,e){return DM.apply(this,arguments)}(o,h)}(yield function Ud(n){return mk.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function VG(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const BG=new Map,UG="firestore.googleapis.com";class HG{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new H(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UG,this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new H(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Zve(n,e,t,r){if(!0===e&&!0===r)throw new H(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=VG(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HG({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new H(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HG(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new zve;switch(r.type){case"firstParty":return new Wve(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return w(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=BG.get(t);r&&($("ComponentProvider","Removing Datastore"),BG.delete(t),r.terminate())}(this),Promise.resolve()}}class Xn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xn(this.firestore,e,this._query)}}class _t{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(jl(t,_t._jsonSchema))return new _t(e,r||null,new X(je.fromString(t.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:In("string",_t._jsonSchemaVersion),referencePath:In("string")};class Lo extends Xn{constructor(e,t,r){super(e,t,gd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new X(e))}withConverter(e){return new Lo(this.firestore,e,this._path)}}function aIe(n,e,...t){if(n=sr(n),JR("collection","path",e),n instanceof lm){const r=je.fromString(e,...t);return _3(r),new Lo(n,null,r)}{if(!(n instanceof _t||n instanceof Lo))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(je.fromString(e,...t));return _3(r),new Lo(n.firestore,null,r)}}function zG(n,e,...t){if(n=sr(n),1===arguments.length&&(e=YR.newId()),JR("doc","path",e),n instanceof lm){const r=je.fromString(e,...t);return g3(r),new _t(n,null,new X(r))}{if(!(n instanceof _t||n instanceof Lo))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(je.fromString(e,...t));return g3(r),new _t(n.firestore,n instanceof Lo?n.converter:null,new X(r))}}const qG="AsyncQueue";class GG{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new oM(this,"async_queue_retry"),this.oc=()=>{const r=Sb();r&&$(qG,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Sb();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Sb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Qn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){var e=this;return w(function*(){if(0!==e.Zu.length){try{yield e.Zu[0](),e.Zu.shift(),e.F_.reset()}catch(t){if(!da(t))throw t;$(qG,"Operation failed with retryable error: "+t)}e.Zu.length>0&&e.F_.g_(()=>e.cc())}})()}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,yn("INTERNAL UNHANDLED ERROR: ",WG(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=CM.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ne(47125,{hc:WG(this.tc)})}verifyOperationInProgress(){}Pc(){var e=this;return w(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function WG(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),e}class bt extends lm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new GG,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return w(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new GG(t),e._firestoreClient=void 0,yield t}})()}}function cIe(n,e){const t="object"==typeof n?n:XS(),r="string"==typeof n?n:e||Lp,i=rv(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(()=>{const e=$z("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();o&&function sIe(n,e,t,r={}){var i;n=ze(n,lm);const o=qu(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o&&(Wz(`https://${l}`),Qz("Firestore",!0)),s.host!==UG&&s.host!==l&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!as(c,a)&&(n._setSettings(c),r.mockUserToken)){let u,h;if("string"==typeof r.mockUserToken)u=r.mockUserToken,h=Kn.MOCK_USER;else{u=function rpe(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yy(JSON.stringify({alg:"none",type:"JWT"})),Yy(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new H(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Kn(f)}n._authCredentials=new $ve(new f3(u,h))}}(i,...o)}return i}function Yt(n){if(n._terminated)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||function KG(n){var e,t,r;const i=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new kbe(n._databaseId,l,n._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,VG(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator));var l,u;n._componentsProvider||!(null===(t=i.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Kwe(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}(n),n._firestoreClient}class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(ln.fromBase64String(e))}catch(t){throw new H(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gi(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jl(e,gi._jsonSchema))return gi.fromBase64String(e.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:In("string",gi._jsonSchemaVersion),bytes:In("string")};class uc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new H(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hd{constructor(e){this._methodName=e}}class Vo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vo._jsonSchemaVersion}}static fromJSON(e){if(jl(e,Vo._jsonSchema))return new Vo(e.latitude,e.longitude)}}Vo._jsonSchemaVersion="firestore/geoPoint/1.0",Vo._jsonSchema={type:In("string",Vo._jsonSchemaVersion),latitude:In("number"),longitude:In("number")};class io{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:io._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jl(e,io._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>"number"==typeof t))return new io(e.vectorValues);throw new H(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}io._jsonSchemaVersion="firestore/vectorValue/1.0",io._jsonSchema={type:In("string",io._jsonSchemaVersion),vectorValues:In("object")};const hIe=/^__.*__$/;class fIe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ed(e,this.data,t,this.fieldTransforms)}}function ZG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ec:n})}}class Nb{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Nb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Lb(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(ZG(this.Ec)&&hIe.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class pIe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sc(e)}Dc(e,t,r,i=!1){return new Nb({Ec:e,methodName:t,bc:r,path:$t.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dc(n){const e=n._freezeSettings(),t=sc(n._databaseId);return new pIe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ob(n,e,t,r,i,o={}){const s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);Ik("Data must be an object, but it was:",s,r);const a=t6(r,s);let l,c;if(o.merge)l=new Yr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const h of o.mergeFields){const f=dm(e,h,t);if(!s.contains(f))throw new H(O.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);r6(u,f)||u.push(f)}l=new Yr(u),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new fIe(new cr(a),l,c)}function hc(n,e){if(n6(n=sr(n)))return Ik("Unsupported field value:",e,n),t6(n,e);if(n instanceof Hd)return function(r,i){if(!ZG(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&4!==e.Ec)throw e.wc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=hc(a,i.yc(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=sr(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return R5(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=st.fromDate(r);return{timestampValue:Id(i.serializer,o)}}if(r instanceof st){const o=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(i.serializer,o)}}if(r instanceof Vo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gi)return{bytesValue:Q5(i.serializer,r._byteString)};if(r instanceof _t){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof io)return s=r,a=i,{mapValue:{fields:{[hx]:{stringValue:fx},[fd]:{arrayValue:{values:s.toArray().map(c=>{if("number"!=typeof c)throw a.wc("VectorValues must only contain numeric values.");return Ix(a.serializer,c)})}}}}};var s,a;throw i.wc(`Unsupported field value: ${Lv(r)}`)}(n,e)}function t6(n,e){const t={};return $3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(n,(r,i)=>{const o=hc(i,e.Vc(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function n6(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof st||n instanceof Vo||n instanceof gi||n instanceof _t||n instanceof Hd||n instanceof io)}function Ik(n,e,t){if(!n6(t)||!y3(t)){const r=Lv(t);throw e.wc("an object"===r?n+" a custom object":n+" "+r)}}function dm(n,e,t){if((e=sr(e))instanceof uc)return e._internalPath;if("string"==typeof e)return Fb(n,e);throw Lb("Field path arguments must be of type string or ",n,!1,void 0,t)}const mIe=new RegExp("[~\\*/\\[\\]]");function Fb(n,e,t){if(e.search(mIe)>=0)throw Lb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uc(...e.split("."))._internalPath}catch{throw Lb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lb(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new H(O.INVALID_ARGUMENT,a+n+l)}function r6(n,e){return n.some(t=>t.isEqual(e))}class hm{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gIe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gIe extends hm{data(){return super.data()}}function Vb(n,e){return"string"==typeof e?Fb(n,e):e instanceof uc?e._internalPath:e._delegate._internalPath}class Ck{}class fm extends Ck{}function _Ie(n,e,...t){let r=[];e instanceof Ck&&r.push(e),r=r.concat(t),function(o){const s=o.filter(l=>l instanceof zd).length,a=o.filter(l=>l instanceof pm).length;if(s>1||s>0&&a>0)throw new H(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class pm extends fm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new pm(e,t,r)}_apply(e){const t=this._parse(e);return l6(e._query,t),new Xn(e.firestore,e.converter,Ex(e._query,t))}_parse(e){const t=dc(e.firestore);return function(o,s,a,l,c,u,h){let f;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new H(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){a6(h,u);const g=[];for(const y of h)g.push(s6(l,o,y));f={arrayValue:{values:g}}}else f=s6(l,o,h)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||a6(h,u),f=function e6(n,e,t,r=!1){return hc(t,n.Dc(r?4:3,e))}(a,"where",h,"in"===u||"not-in"===u);return Ge.create(c,u,f)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class zd extends Ck{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zd(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:ft.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)l6(s,l),s=Ex(s,l)}(e._query,t),new Xn(e.firestore,e.converter,Ex(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Tk extends fm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Tk(e,t)}_apply(e){const t=function(i,o,s){if(null!==i.startAt)throw new H(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new H(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jp(o,s)}(e._query,this._field,this._direction);return new Xn(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new ys(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function yIe(n,e="asc"){const t=e,r=Vb("orderBy",n);return Tk._create(r,t)}class Bb extends fm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Bb(e,t,r)}_apply(e){return new Xn(e.firestore,e.converter,nb(e._query,this._limit,this._limitType))}}function vIe(n){return function v3(n,e){if(e<=0)throw new H(O.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),Bb._create("limit",n,"F")}function s6(n,e,t){if("string"==typeof(t=sr(t))){if(""===t)throw new H(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bx(e)&&-1!==t.indexOf("/"))throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(je.fromString(t));if(!X.isDocumentKey(r))throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ql(n,new X(r))}if(t instanceof _t)return Ql(n,t._key);throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lv(t)}.`)}function a6(n,e){if(!Array.isArray(n)||0===n.length)throw new H(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l6(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new H(O.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class u6{convertValue(e,t="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return fa(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t[fd].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>qt(s.doubleValue));return new io(o)}convertGeoPoint(e){return new Vo(qt(e.latitude),qt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fp(e));default:return null}}convertTimestamp(e){const t=gs(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=je.fromString(e);oe(sq(r),9688,{name:e});const i=new Kl(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(t)||yn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Sa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _i extends hm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=_i._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle="NOT SUPPORTED",t):t}}_i._jsonSchemaVersion="firestore/documentSnapshot/1.0",_i._jsonSchema={type:In("string",_i._jsonSchemaVersion),bundleSource:In("string","DocumentSnapshot"),bundleName:In("string"),bundle:In("string")};class zb extends _i{data(e={}){return super.data(e)}}class yi{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Sa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zb(this._firestore,this._userDataWriter,r.key,r,new Sa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new zb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new zb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:EIe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=YR.newId();const t=[],r=[],i=[];return this.docs.forEach(o=>{null!==o._document&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle="NOT SUPPORTED",e}}function EIe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:n})}}yi._jsonSchemaVersion="firestore/querySnapshot/1.0",yi._jsonSchema={type:In("string",yi._jsonSchemaVersion),bundleSource:In("string","QuerySnapshot"),bundleName:In("string"),bundle:In("string")};class Aa extends u6{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}}function wIe(n){n=ze(n,Xn);const e=ze(n.firestore,bt),t=Yt(e),r=new Aa(e);return function i6(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new H(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),FG(t,n._query).then(i=>new yi(e,r,n,i))}function IIe(n,e,t){n=ze(n,_t);const r=ze(n.firestore,bt),i=function Hb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return function mm(n,e){return function(r,i){const o=new Qn;return r.asyncQueue.enqueueAndForget(w(function*(){return function Awe(n,e,t){return UM.apply(this,arguments)}(yield function pk(n){return Pb(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(Yt(n),e)}(r,[Ob(dc(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Gt.none())])}!function(e,t=!0){td=Wu,ra(new ls("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new bt(new qve(r.getProvider("auth-internal")),new Kve(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Mr(u3,"4.8.0",e),Mr(u3,"4.8.0","esm2017")}();class qb{constructor(e){return e}}const g6="firestore",Rk=new j("angularfire2.firestore-instances");function BIe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new qb(r)}}const UIe={provide:class LIe{constructor(){return o0(g6)}},deps:[[new Un,Rk]]},jIe={provide:qb,useFactory:function VIe(n,e){const t=r0(g6,n,e);return t&&new qb(t)},deps:[[new Un,Rk],Qu]},zIe=ki(aIe,!0,2),$Ie=ki(zG,!0,2),qIe=ki(wIe,!0),GIe=ki(cIe,!0),WIe=ki(vIe,!0,2),KIe=ki(yIe,!0,2),QIe=ki(_Ie,!0,2),YIe=ki(IIe,!0,2),XIe={providers:[function Mse(n){const e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=oD({ngZoneFactory:()=>{const i=sD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&zr("NgZone_CoalesceEvent"),new le(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return wi([{provide:xse,useValue:!0},{provide:Ah,useValue:!1},r])}({eventCoalescing:!0}),function qde(n,...e){return wi([{provide:rS,multi:!0,useValue:n},[],{provide:Vu,useFactory:tz,deps:[Hu]},{provide:mf,multi:!0,useFactory:nz},e.map(t=>t.\u0275providers)])}([]),function ehe(n,e={}){return wi([Yde,Xde,{provide:sz,useValue:n},{provide:cS,useValue:e},{provide:Vy,useFactory:Jde,deps:[cS,We]},Gne(Zde)])}("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),function qfe(){return zr("NgEagerAnimations"),[...$fe]}(),function Vve(n,...e){return Mr("angularfire",lv.full,"auth"),wi([Lve,Fve,{provide:qR,useFactory:Ove(n),multi:!0,deps:[le,We,cv,a0,[new Un,x0],...e]}])}(()=>Uve()),function Xme(n,...e){return wi([Kme,Qme,{provide:l0,useFactory:Yme(n),multi:!0,deps:[le,We,cv,...e]}])}(()=>Zme(Jme_firebase)),function HIe(n,...e){return Mr("angularfire",lv.full,"fst"),wi([jIe,UIe,{provide:Rk,useFactory:BIe(n),multi:!0,deps:[le,We,cv,a0,[new Un,t3],[new Un,x0],...e]}])}(()=>GIe())]};var Pr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Pr||{}),Et=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Et||{}),vi=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(vi||{});function Wb(n,e){return Fi(Sr(n)[St.DateFormat],e)}function Kb(n,e){return Fi(Sr(n)[St.TimeFormat],e)}function Qb(n,e){return Fi(Sr(n)[St.DateTimeFormat],e)}function Oi(n,e){const t=Sr(n),r=t[St.NumberSymbols][e];if(typeof r>"u"){if(12===e)return t[St.NumberSymbols][0];if(13===e)return t[St.NumberSymbols][1]}return r}function y6(n){if(!n[St.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[St.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fi(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Mk(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const dCe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yb={},hCe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function fCe(n,e,t,r){let i=function wCe(n){if(E6(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,s=1]=n.split("-").map(a=>+a);return Xb(i,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(dCe))return function ICe(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,l,c),e}(r)}const e=new Date(n);if(!E6(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Is(t,e)||e;let a,s=[];for(;e;){if(a=hCe.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=b6(r,l),i=function ECe(n,e){const i=n.getTimezoneOffset();return function bCe(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,-1*(b6(e,i)-i))}(i,r));let c="";return s.forEach(u=>{const h=function vCe(n){if(Pk[n])return Pk[n];let e;switch(n){case"G":case"GG":case"GGG":e=xt(3,Et.Abbreviated);break;case"GGGG":e=xt(3,Et.Wide);break;case"GGGGG":e=xt(3,Et.Narrow);break;case"y":e=Dn(0,1,0,!1,!0);break;case"yy":e=Dn(0,2,0,!0,!0);break;case"yyy":e=Dn(0,3,0,!1,!0);break;case"yyyy":e=Dn(0,4,0,!1,!0);break;case"Y":e=tE(1);break;case"YY":e=tE(2,!0);break;case"YYY":e=tE(3);break;case"YYYY":e=tE(4);break;case"M":case"L":e=Dn(1,1,1);break;case"MM":case"LL":e=Dn(1,2,1);break;case"MMM":e=xt(2,Et.Abbreviated);break;case"MMMM":e=xt(2,Et.Wide);break;case"MMMMM":e=xt(2,Et.Narrow);break;case"LLL":e=xt(2,Et.Abbreviated,Pr.Standalone);break;case"LLLL":e=xt(2,Et.Wide,Pr.Standalone);break;case"LLLLL":e=xt(2,Et.Narrow,Pr.Standalone);break;case"w":e=kk(1);break;case"ww":e=kk(2);break;case"W":e=kk(1,!0);break;case"d":e=Dn(2,1);break;case"dd":e=Dn(2,2);break;case"c":case"cc":e=Dn(7,1);break;case"ccc":e=xt(1,Et.Abbreviated,Pr.Standalone);break;case"cccc":e=xt(1,Et.Wide,Pr.Standalone);break;case"ccccc":e=xt(1,Et.Narrow,Pr.Standalone);break;case"cccccc":e=xt(1,Et.Short,Pr.Standalone);break;case"E":case"EE":case"EEE":e=xt(1,Et.Abbreviated);break;case"EEEE":e=xt(1,Et.Wide);break;case"EEEEE":e=xt(1,Et.Narrow);break;case"EEEEEE":e=xt(1,Et.Short);break;case"a":case"aa":case"aaa":e=xt(0,Et.Abbreviated);break;case"aaaa":e=xt(0,Et.Wide);break;case"aaaaa":e=xt(0,Et.Narrow);break;case"b":case"bb":case"bbb":e=xt(0,Et.Abbreviated,Pr.Standalone,!0);break;case"bbbb":e=xt(0,Et.Wide,Pr.Standalone,!0);break;case"bbbbb":e=xt(0,Et.Narrow,Pr.Standalone,!0);break;case"B":case"BB":case"BBB":e=xt(0,Et.Abbreviated,Pr.Format,!0);break;case"BBBB":e=xt(0,Et.Wide,Pr.Format,!0);break;case"BBBBB":e=xt(0,Et.Narrow,Pr.Format,!0);break;case"h":e=Dn(3,1,-12);break;case"hh":e=Dn(3,2,-12);break;case"H":e=Dn(3,1);break;case"HH":e=Dn(3,2);break;case"m":e=Dn(4,1);break;case"mm":e=Dn(4,2);break;case"s":e=Dn(5,1);break;case"ss":e=Dn(5,2);break;case"S":e=Dn(6,1);break;case"SS":e=Dn(6,2);break;case"SSS":e=Dn(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Jb(0);break;case"ZZZZZ":e=Jb(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Jb(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Jb(2);break;default:return null}return Pk[n]=e,e}(u);c+=h?h(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Xb(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Is(n,e){const t=function JIe(n){return Sr(n)[St.LocaleId]}(n);if(Yb[t]??={},Yb[t][e])return Yb[t][e];let r="";switch(e){case"shortDate":r=Wb(n,vi.Short);break;case"mediumDate":r=Wb(n,vi.Medium);break;case"longDate":r=Wb(n,vi.Long);break;case"fullDate":r=Wb(n,vi.Full);break;case"shortTime":r=Kb(n,vi.Short);break;case"mediumTime":r=Kb(n,vi.Medium);break;case"longTime":r=Kb(n,vi.Long);break;case"fullTime":r=Kb(n,vi.Full);break;case"short":const i=Is(n,"shortTime"),o=Is(n,"shortDate");r=Zb(Qb(n,vi.Short),[i,o]);break;case"medium":const s=Is(n,"mediumTime"),a=Is(n,"mediumDate");r=Zb(Qb(n,vi.Medium),[s,a]);break;case"long":const l=Is(n,"longTime"),c=Is(n,"longDate");r=Zb(Qb(n,vi.Long),[l,c]);break;case"full":const u=Is(n,"fullTime"),h=Is(n,"fullDate");r=Zb(Qb(n,vi.Full),[u,h])}return r&&(Yb[t][e]=r),r}function Zb(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function oo(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Dn(n,e,t=0,r=!1,i=!1){return function(o,s){let a=function mCe(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),3===n)0===a&&-12===t&&(a=12);else if(6===n)return function pCe(n,e){return oo(n,3).substring(0,e)}(a,e);const l=Oi(s,5);return oo(a,e,l,r,i)}}function xt(n,e,t=Pr.Format,r=!1){return function(i,o){return function gCe(n,e,t,r,i,o){switch(t){case 2:return function nCe(n,e,t){const r=Sr(n),o=Fi([r[St.MonthsFormat],r[St.MonthsStandalone]],e);return Fi(o,t)}(e,i,r)[n.getMonth()];case 1:return function tCe(n,e,t){const r=Sr(n),o=Fi([r[St.DaysFormat],r[St.DaysStandalone]],e);return Fi(o,t)}(e,i,r)[n.getDay()];case 0:const s=n.getHours(),a=n.getMinutes();if(o){const c=function sCe(n){const e=Sr(n);return y6(e),(e[St.ExtraData][2]||[]).map(r=>"string"==typeof r?Mk(r):[Mk(r[0]),Mk(r[1])])}(e),u=function aCe(n,e,t){const r=Sr(n);y6(r);const o=Fi([r[St.ExtraData][0],r[St.ExtraData][1]],e)||[];return Fi(o,t)||[]}(e,i,r),h=c.findIndex(f=>{if(Array.isArray(f)){const[p,g]=f,y=s>=p.hours&&a>=p.minutes,E=s<g.hours||s===g.hours&&a<g.minutes;if(p.hours<g.hours){if(y&&E)return!0}else if(y||E)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(-1!==h)return u[h]}return function eCe(n,e,t){const r=Sr(n),o=Fi([r[St.DayPeriodsFormat],r[St.DayPeriodsStandalone]],e);return Fi(o,t)}(e,i,r)[s<12?0:1];case 3:return function rCe(n,e){return Fi(Sr(n)[St.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function Jb(n){return function(e,t,r){const i=-1*r,o=Oi(t,5),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+oo(s,2,o)+oo(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+oo(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+oo(s,2,o)+":"+oo(Math.abs(i%60),2,o);case 3:return 0===r?"Z":(i>=0?"+":"")+oo(s,2,o)+":"+oo(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const _Ce=0,eE=4;function v6(n){const e=n.getDay(),t=0===e?-3:eE-e;return Xb(n.getFullYear(),n.getMonth(),n.getDate()+t)}function kk(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{const o=v6(t),s=function yCe(n){const e=Xb(n,_Ce,1).getDay();return Xb(n,0,1+(e<=eE?eE:eE+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return oo(i,n,Oi(r,5))}}function tE(n,e=!1){return function(t,r){return oo(v6(t).getFullYear(),n,Oi(r,5),e)}}const Pk={};function b6(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function E6(n){return n instanceof Date&&!isNaN(n.valueOf())}const Bk=/\s+/,T6=[];let D6=(()=>{class n{_ngEl;_renderer;initialClasses=T6;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=null!=t?t.trim().split(Bk):T6}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Bk):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Bk).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(z(Oe),z(ai))};static \u0275dir=Q({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();class FCe{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A6=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new FCe(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),R6(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{R6(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(z(qn),z($n),z(Ys))};static \u0275dir=Q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function R6(n,e){n.context.$implicit=e.item}let xa=(()=>{class n{_viewContainer;_context=new LCe;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){x6(t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){x6(t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(z(qn),z($n))};static \u0275dir=Q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})();class LCe{$implicit=null;ngIf=null}function x6(n,e){if(n&&!n.createEmbeddedView)throw new N(2020,!1)}let Hk=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(z(qn))};static \u0275dir=Q({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Hn]})}return n})();function so(n,e){return new N(2100,!1)}class HCe{createSubscription(e,t){return mn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){mn(()=>e.unsubscribe())}}class zCe{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}}const $Ce=new zCe,qCe=new HCe;let k6=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(pf(t))return $Ce;if(D2(t))return qCe;throw so()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(z(Co,16))};static \u0275pipe=qr({name:"async",type:n,pure:!1})}return n})();const XCe=new j(""),ZCe=new j("");let P6=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(null==t||""===t||t!=t)return null;try{return fCe(t,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw so()}}static \u0275fac=function(r){return new(r||n)(z(Qs,16),z(XCe,24),z(ZCe,24))};static \u0275pipe=qr({name:"date",type:n,pure:!0})}return n})(),Ma=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({})}return n})();var qd=function(n){return n[n.Normal=0]="Normal",n[n.Blocked=1]="Blocked",n[n.Null=2]="Null",n}(qd||{});Object.values(qd).filter(n=>"number"==typeof n);class qk{pos;index;type;symbol;constructor(e,t,r,i){this.pos=e,this.index=t,this.type=r,this.symbol=i}isBlocked(){return this.type===qd.Blocked}hasSymbol(){return!!this.symbol}getSymbolKind(){return this.symbol?.kind}withSymbol(e){return new qk(this.pos,this.index,this.type,e)}isAdjacent(e){const t=this.pos.sub(e.pos).abs();return 1===t.row&&0===t.col||0===t.row&&1===t.col}}var be=function(n){return n.None="none",n.Move="move",n.Clearing="clearing",n.Creating="creating",n.FadeOut="fade-out",n.FadeIn="fade-in",n}(be||{});const lTe=uS("motion",[kl(be.None,sn({transform:"translate(0, 0) scale(1)"})),kl(be.Move,sn({transform:"translate(calc({{x}} * {{tileSizePx}}), calc({{y}} * {{tileSizePx}})) scale(1)"}),{params:{x:"0px",y:"0px",tileSizePx:"64px"}}),kl(be.Creating,sn({transform:"translate(0, 0) scale(1)",opacity:1})),kl(be.FadeOut,sn({opacity:0,transform:"scale(0.8)"})),kl(be.FadeIn,sn({opacity:1,transform:"scale(1)"})),Ri(`${be.None} => ${be.Move}`,Ai("300ms ease-in-out")),Ri(`${be.Move} => ${be.None}`,Ai("0ms")),Ri(`${be.None} => ${be.Creating}`,[sn({opacity:0,transform:"translate(0, 0) scale(0.5)"}),Ai("400ms ease-out",sn({opacity:1,transform:"translate(0, 0) scale(1)",offset:1}))]),Ri(`${be.Creating} => ${be.None}`,Ai("0ms")),Ri(`${be.None} => ${be.FadeOut}`,[Ai("400ms ease-in")]),Ri(`${be.FadeOut} => ${be.None}`,[Ai("0ms")]),Ri(`${be.None} => ${be.FadeIn}`,[sn({opacity:0,transform:"scale(0.8)"}),Ai("400ms ease-out",sn({opacity:1,transform:"scale(1)"}))]),Ri(`${be.FadeIn} => ${be.None}`,Ai("0ms"))]),cTe=uS("clearing",[kl(be.None,sn({opacity:1,filter:"brightness(1)"})),kl(be.Clearing,sn({opacity:0,filter:"brightness(1)"})),Ri(`${be.None} => ${be.Clearing}`,[Ai("400ms ease-out",lz([sn({opacity:1,filter:"brightness(2)",offset:0}),sn({opacity:.7,filter:"brightness(1)",offset:.6}),sn({opacity:0,filter:"brightness(1)",offset:1})]))]),Ri(`${be.Move} => ${be.Clearing}`,[Ai("400ms ease-out",lz([sn({opacity:1,filter:"brightness(2)",offset:0}),sn({opacity:.7,filter:"brightness(1)",offset:.6}),sn({opacity:0,filter:"brightness(1)",offset:1})]))])]),uTe=uS("fade",[Ri(":enter",[sn({opacity:0}),Ai("400ms ease-out",sn({opacity:1}))]),Ri(":leave",[Ai("400ms ease-in",sn({opacity:0}))])]),Gk=["\u{1f36a}","\u{1f30f}","\u{1f525}","\u{1f3a0}","\u2b50","\u{1f608}"],dTe={"\u{1f36a}":"\u26ab","\u{1f30f}":"\u{1f922}","\u{1f525}":"\u{1f9ef}","\u{1f3a0}":"\u26a0\ufe0f","\u2b50":"\u{1f4a5}","\u{1f608}":"\u{1f621}"};function Wk(){return Gk[Math.floor(Math.random()*Gk.length)]}function L6(n){const e=Gk.filter(t=>!n.has(t));return e[Math.floor(Math.random()*e.length)]}var Ae=function(n){return n.HEARING="hearing",n.HEARING_CLEAR="hearing_clear",n.BURN="burn",n.BURN_CLEAR="burn_clear",n.CAROUSEL="carousel",n.CAROUSEL_CLEAR="carousel_clear",n.TWO_PHONES="two_phones",n.TWO_PHONES_CLEAR="two_phones_clear",n.BOMB="bomb",n.BOMB_CLEAR="bomb_clear",n.SHUFFLE="shuffle",n.SHUFFLE_CLEAR="shuffle_clear",n}(Ae||{});const _m={[Ae.HEARING]:{chance:.1,type:Ae.HEARING,durationMs:1e4,notif:"\u{1f442}\u{1f3fb}\u{1f6ab}: What??? I cant hear"},[Ae.BURN]:{chance:.25,type:Ae.BURN,durationMs:1e4,notif:"\u{1f36a}\u{1f525}: MOM THE COOKIES!!!"},[Ae.CAROUSEL]:{chance:.25,type:Ae.CAROUSEL,durationMs:5e3,notif:"\u{1f3a0}\u{1f3b6}: RIDE STARTED!"},[Ae.TWO_PHONES]:{chance:1,type:Ae.TWO_PHONES,durationMs:1e4,notif:"Big Match! 2x Points!"},[Ae.BOMB]:{chance:1,type:Ae.BOMB,durationMs:5e3,notif:"\u{1f4a3} Using Bomb..."},[Ae.SHUFFLE]:{chance:1,type:Ae.SHUFFLE,durationMs:5e3,notif:"\u{1f500} Shuffling..."},[Ae.HEARING_CLEAR]:{chance:1,type:Ae.HEARING_CLEAR,durationMs:0,notif:"\u{1f442}\u{1f3fb}: Hearing restored."},[Ae.BURN_CLEAR]:{chance:1,type:Ae.BURN_CLEAR,durationMs:0,notif:"\u{1f9ef}\u{1f4a8} \u{1f9ef}\u{1f4a8} \u{1f9ef}\u{1f4a8}"},[Ae.CAROUSEL_CLEAR]:{chance:1,type:Ae.CAROUSEL_CLEAR,durationMs:0,notif:"\u{1f3a0}: RIDE OVER"},[Ae.TWO_PHONES_CLEAR]:{chance:1,type:Ae.TWO_PHONES_CLEAR,durationMs:0},[Ae.BOMB_CLEAR]:{chance:1,type:Ae.BOMB_CLEAR,durationMs:0},[Ae.SHUFFLE_CLEAR]:{chance:1,type:Ae.SHUFFLE_CLEAR,durationMs:0}};let V6=(()=>{class n{activeTransaction=null;activeTransactionPromise=null;activeTransactionResolve=null;_symbolAnimation$=new It([]);symbolAnimation$=this._symbolAnimation$.asObservable();_isAnimating$=new It(!1);isAnimating$=this._isAnimating$.asObservable();play(t){var r=this;return w(function*(){return r.activeTransaction&&(yield r.activeTransactionPromise),r._symbolAnimation$.next([]),yield r.nextTick(),r.activeTransaction={id:crypto.randomUUID(),animations:t,completed:new Set},r._isAnimating$.next(!0),r._symbolAnimation$.next(t),r.activeTransactionPromise=new Promise(i=>{r.activeTransactionResolve=i}),r.activeTransactionPromise})()}notifySymbolDone(t){const r=this.activeTransaction;r&&r.animations.some(i=>i.symbolId===t)&&(r.completed.has(t)||(r.completed.add(t),r.completed.size===r.animations.length&&this.finishTransaction()))}finishTransaction(){var t=this;return w(function*(){t.activeTransaction&&(yield new Promise(r=>setTimeout(r,100)),t.activeTransaction=null,t._symbolAnimation$.next([]),t._isAnimating$.next(!1),t.activeTransactionResolve&&t.activeTransactionResolve(),t.activeTransactionResolve=null,t.activeTransactionPromise=null)})()}isAnimating(){return this._isAnimating$.getValue()}nextTick(){return w(function*(){return new Promise(t=>setTimeout(t,10))})()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function B6(n=0,e,t=zme){let r=-1;return null!=e&&(tH(e)?t=e:r=e),new at(i=>{let o=function yTe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}let Kk=(()=>{class n{_dialogText$=new It(null);dialogText$=this._dialogText$.asObservable();_notifications$=new It(null);notifications$=this._notifications$.asObservable();showDialog(t,r=4e3){this._dialogText$.next(t),setTimeout(()=>this.clearDialog(),r)}clearDialog(){this._dialogText$.next(null)}showNotifications(t,r=5e3){this._notifications$.next(t),setTimeout(()=>this.clearNotifications(),r)}clearNotifications(){this._notifications$.next(null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qk=(()=>{class n{dialogService;eventSubject=new he;events$=this.eventSubject.asObservable();activeEvent=null;get isEventActive(){return null!==this.activeEvent}get currentEvent(){return this.activeEvent}constructor(t){this.dialogService=t}emit(t){return t.type.endsWith("_clear")?(console.log(`Ignoring attempt to emit clear event type: ${t.type}`),!1):this.activeEvent?(console.log("Ignoring event",t,"because",this.activeEvent,"isActive"),!1):(console.log("Emitting event",t.type,t),this.activeEvent=t.type,this.eventSubject.next(t),t.notif&&this.dialogService.showNotifications(t.notif,5e3),t.durationMs&&B6(t.durationMs).subscribe(()=>{console.log("Emitting event cleared",t.type,t),this.clearEvent(t.type)}),!0)}clearEvent(t){const r=(n=>n+"_clear")(t);if(!(r in _m))return this.dialogService.showNotifications(`Event ${t} cleared.`,4e3),void(this.activeEvent=null);const i=_m[r];this.eventSubject.next(i),i.notif&&this.dialogService.showNotifications(i.notif,5e3),this.activeEvent=null}static \u0275fac=function(r){return new(r||n)(ae(Kk))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vTe=(n,e)=>({value:n,params:e});function bTe(n,e){if(1&n&&(U(0,"div",3),Dt(1,"div",4)(2,"div",5),F()),2&n){const t=Je();Dr("width",110,"%")("height",110,"%"),te(),Dr("filter","drop-shadow(0 0 "+.08*t.tileSizePx+"px white)"),te(),Dr("filter","drop-shadow(0 0 "+.12*t.tileSizePx+"px orange)")}}let ETe=(()=>{class n{animationService;eventService;symbol;tileSizePx;animationSub;currentAnimation=null;eventSub;displayedSymbol;hearingLoss=!1;burning=!1;two_phones=!1;constructor(t,r){this.animationService=t,this.eventService=r}ngOnInit(){this.animationSub=this.animationService.symbolAnimation$.subscribe(t=>{this.currentAnimation=t.find(r=>r.symbolId===this.symbol.id)??null}),this.displayedSymbol=this.symbol.kind,this.eventSub=this.eventService.events$.subscribe(t=>{switch(t.type){case Ae.HEARING:this.hearingLoss=!0;break;case Ae.HEARING_CLEAR:this.hearingLoss=!1;break;case Ae.BURN:this.burning=!0;break;case Ae.BURN_CLEAR:this.burning=!1;break;case Ae.TWO_PHONES:this.two_phones=!0;break;case Ae.TWO_PHONES_CLEAR:this.two_phones=!1}this.updateDisplaySymbol()})}ngOnDestroy(){this.animationSub?.unsubscribe(),this.eventSub?.unsubscribe()}ngOnChanges(){this.updateDisplaySymbol()}onAnimationDone(){this.currentAnimation&&this.animationService.notifySymbolDone(this.symbol.id)}get motionState(){return this.currentAnimation?this.currentAnimation.renderMode===be.Move?be.Move:this.currentAnimation.renderMode===be.Creating?be.Creating:this.currentAnimation.renderMode===be.FadeIn?be.FadeIn:this.currentAnimation.renderMode===be.FadeOut?be.FadeOut:be.None:be.None}get clearingState(){return this.currentAnimation?.renderMode===be.Clearing?be.Clearing:be.None}get params(){return{...this.currentAnimation?.params,tileSizePx:this.tileSizePx}}updateDisplaySymbol(){this.displayedSymbol=this.burning?dTe[this.symbol.kind]??this.symbol.kind:this.hearingLoss?Wk():this.two_phones?`${this.symbol.kind}${this.symbol.kind}`:this.symbol.kind}AnimationRenderMode=be;randomSymbol=Wk;static \u0275fac=function(r){return new(r||n)(z(V6),z(Qk))};static \u0275cmp=He({type:n,selectors:[["app-symbol"]],inputs:{symbol:"symbol",tileSizePx:"tileSizePx"},features:[Hn],decls:5,vars:13,consts:[[1,"symbol-transform"],[1,"symbol-visual"],["class","flash-overlay-star-wrapper",3,"width","height",4,"ngIf"],[1,"flash-overlay-star-wrapper"],[1,"flash-overlay-star-white"],[1,"flash-overlay-star-gradient"]],template:function(r,i){1&r&&(U(0,"div")(1,"div",0),Le("@motion.done",function(){return i.onAnimationDone()}),U(2,"div",1),Le("@clearing.done",function(){return i.onAnimationDone()}),K(3),Fe(4,bTe,3,8,"div",2),F()()()),2&r&&(te(),Dr("width",i.tileSizePx,"px")("height",i.tileSizePx,"px"),Ue("@motion",function gU(n,e,t,r,i){return yU(V(),Cr(),n,e,t,r,i)}(10,vTe,i.motionState,i.params)),te(),Ye("burning",i.burning),Ue("@clearing",i.clearingState),te(),Wr(" ",i.displayedSymbol," "),te(),Ue("ngIf",i.clearingState===i.AnimationRenderMode.Clearing))},dependencies:[Ma,xa],styles:[".symbol-transform[_ngcontent-%COMP%]{width:100%;height:100%;will-change:transform}.symbol-visual[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;gap:.15em;align-items:center;justify-content:center;position:absolute;z-index:10;font-size:1em}.symbol-visual.burning[_ngcontent-%COMP%]{filter:grayscale(1) brightness(.6);animation:_ngcontent-%COMP%_flicker .4s infinite alternate}@keyframes _ngcontent-%COMP%_flicker{0%{opacity:.85;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.flash-overlay-star-wrapper[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:120%;height:120%;transform:translate(-50%,-50%);pointer-events:none;z-index:10}.flash-overlay-star-white[_ngcontent-%COMP%], .flash-overlay-star-gradient[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:100%;height:100%;transform:translate(-50%,-50%);clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);animation:_ngcontent-%COMP%_flashFade 1.5s ease-in-out}.flash-overlay-star-white[_ngcontent-%COMP%]{background:#fff;opacity:.8;z-index:12}.flash-overlay-star-gradient[_ngcontent-%COMP%]{background:linear-gradient(45deg,orange,red);opacity:.5;animation-delay:0s;z-index:11}@keyframes _ngcontent-%COMP%_flashFade{0%{opacity:.8}to{opacity:0}}"],data:{animation:[lTe,cTe,uTe]}})}return n})();function wTe(n,e){if(1&n&&Dt(0,"app-symbol",2),2&n){const t=Je();Ue("symbol",t.cell.symbol)("tileSizePx",t.tileSizePx)}}let ITe=(()=>{class n{cell;isSelected=!1;tileSizePx;CellType=qd;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["app-cell"]],inputs:{cell:"cell",isSelected:"isSelected",tileSizePx:"tileSizePx"},decls:2,vars:11,consts:[[1,"cell"],[3,"symbol","tileSizePx",4,"ngIf"],[3,"symbol","tileSizePx"]],template:function(r,i){1&r&&(U(0,"div",0),Fe(1,wTe,1,2,"app-symbol",1),F()),2&r&&(Dr("width",i.tileSizePx,"px")("height",i.tileSizePx,"px"),Ye("blocoked",i.cell.type===i.CellType.Blocked)("null",i.cell.type===i.CellType.Null)("selected",i.isSelected),te(),Ue("ngIf",i.cell.symbol))},dependencies:[Ma,xa,ETe],styles:[".cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;overflow:visible;position:relative;width:100%;aspect-ratio:1/1;font-size:80%;border-radius:6px;background-color:#28293d;cursor:pointer}.cell.selected[_ngcontent-%COMP%]{outline:2px solid #ffd700!important;box-shadow:0 0 10px 3px #ffd700b3;z-index:10}.cell.blocked[_ngcontent-%COMP%]{background-color:#11111f;cursor:not-allowed;opacity:.6}.cell.null[_ngcontent-%COMP%]{background-color:transparent;pointer-events:none}app-symbol[_ngcontent-%COMP%]{position:absolute;z-index:10;pointer-events:none}"]})}return n})();function CTe(n,e){if(1&n){const t=ts();U(0,"app-cell",5),Le("click",function(){const i=Mn(t).$implicit;return kn(Je(2).onCellClick(i))}),F()}if(2&n){const t=e.$implicit,r=Je(2);Ue("cell",t)("isSelected",r.isSelected(t))("tileSizePx",r.tileSizePx)}}function TTe(n,e){if(1&n&&(U(0,"div",3),Fe(1,CTe,1,3,"app-cell",4),F()),2&n){const t=Je();Dr("--cols",t.board.cols)("--rows",t.board.rows)("--cell-size",t.tileSizePx,"px"),te(),Ue("ngForOf",t.board.cells)("ngForTrackBy",t.trackByCell)}}let DTe=(()=>{class n{board;tileSizePx;selectedCellIndex=null;cellClick=new ot;onCellClick(t){this.cellClick.emit(t)}isSelected(t){return this.selectedCellIndex===t.index}trackByCell(t,r){return r.index}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["app-board"]],inputs:{board:"board",tileSizePx:"tileSizePx",selectedCellIndex:"selectedCellIndex"},outputs:{cellClick:"cellClick"},decls:3,vars:1,consts:[["boardWrapper",""],[1,"board-wrapper"],["class","board",3,"--cols","--rows","--cell-size",4,"ngIf"],[1,"board"],[3,"cell","isSelected","tileSizePx","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","cell","isSelected","tileSizePx"]],template:function(r,i){1&r&&(U(0,"div",1,0),Fe(2,TTe,2,8,"div",2),F()),2&r&&(te(2),Ue("ngIf",i.board))},dependencies:[Ma,A6,xa,ITe],styles:[".board-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center;overflow:hidden}.board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(var(--cols),var(--cell-size));grid-template-rows:repeat(var(--rows),var(--cell-size));gap:4px;position:relative;max-width:100%;max-height:100%;box-sizing:content-box;width:auto;height:auto}"]})}return n})();const ATe_board={rows:10,cols:8,layout:[]};function U6(n){return En((e,t)=>n<=t)}function xTe(n,e){return n===e}function j6(n){return 0===n.buttons||0===n.detail}function H6(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}let Xk,Jk;function Zk(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Cs(n){return n.composedPath?n.composedPath()[0]:n.target}function Ts(n,e,t,r,i){const o=parseInt(iD.major),s=parseInt(iD.minor);return o>19||19===o&&s>0||0===o&&0===s?n.listen(e,t,r,i):(e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)})}try{Jk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Jk=!1}let ym,Zn=(()=>{class n{_platformId=v(Kc);isBrowser=this._platformId?function nle(n){return n===Sj}(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!Jk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rE(n){return function $Te(){if(null==ym&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ym=!0}))}finally{ym=ym||!1}return ym}()?n:!!n.capture}function iE(n,e=0){return z6(n)?Number(n):2===arguments.length?e:0}function z6(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function ka(n){return n instanceof Oe?n.nativeElement:n}const qTe=new j("cdk-input-modality-detector-options"),GTe={ignoreKeys:[18,17,224,91,16]},eP={passive:!0,capture:!0};let WTe=(()=>{class n{_platform=v(Zn);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new It(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Cs(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(j6(t)?"keyboard":"mouse"),this._mostRecentTarget=Cs(t))};_onTouchstart=t=>{H6(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Cs(t))};constructor(){const t=v(le),r=v(nt),i=v(qTe,{optional:!0});if(this._options={...GTe,...i},this.modalityDetected=this._modality.pipe(U6(1)),this.modalityChanged=this.modalityDetected.pipe(function RTe(n,e=Fs){return n=n??xTe,Jt((t,r)=>{let i,o=!0;t.subscribe(Bt(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),this._platform.isBrowser){const o=v(Di).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[Ts(o,r,"keydown",this._onKeydown,eP),Ts(o,r,"mousedown",this._onMousedown,eP),Ts(o,r,"touchstart",this._onTouchstart,eP)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oE=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(oE||{});const KTe=new j("cdk-focus-monitor-default-options"),sE=rE({passive:!0,capture:!0});let aE=(()=>{class n{_ngZone=v(le);_platform=v(Zn);_inputModalityDetector=v(WTe);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=v(nt,{optional:!0});_stopInputModalityDetector=new he;constructor(){const t=v(KTe,{optional:!0});this._detectionMode=t?.detectionMode||oE.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{for(let i=Cs(t);i;i=i.parentElement)"focus"===t.type?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){const i=ka(t);if(!this._platform.isBrowser||1!==i.nodeType)return fe();const o=function zTe(n){if(function HTe(){if(null==Xk){const n=typeof document<"u"?document.head:null;Xk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Xk}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new he,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=ka(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=ka(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===oE.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,this._detectionMode===oE.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Cs(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,sE),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,sE)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,sE),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,sE),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lE=new WeakMap;let Pa=(()=>{class n{_appRef;_injector=v(We);_environmentInjector=v(tr);load(t){const r=this._appRef=this._appRef||this._injector.get(ir);let i=lE.get(r);i||(i={loaders:new Set,refs:[]},lE.set(r,i),r.onDestroy(()=>{lE.get(r)?.refs.forEach(o=>o.destroy()),lE.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(Ej(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vi=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Vi||{});class QTe{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Vi.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}}const q6=rE({passive:!0,capture:!0});class YTe{_events=new Map;addHandler(e,t,r,i){const o=this._events.get(t);if(o){const s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,q6)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const o=i.get(t);o&&(o.delete(r),0===o.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,q6)))}_delegateEventHandler=e=>{const t=Cs(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}const cE={enterDuration:225,exitDuration:150},G6=rE({passive:!0,capture:!0}),W6=["mousedown","touchstart"],K6=["mouseup","mouseleave","touchend","touchcancel"];let ZTe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}\n"],encapsulation:2,changeDetection:0})}return n})();class uE{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new YTe;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=ka(r)),o&&o.get(Pa).load(ZTe)}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...cE,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=r.radius||function JTe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const h=window.getComputedStyle(u),p=h.transitionDuration,g="none"===h.transitionProperty||"0s"===p||"0s, 0s"===p||0===i.width&&0===i.height,y=new QTe(this,u,r,g);u.style.transform="scale3d(1, 1, 1)",y.state=Vi.FADING_IN,r.persistent||(this._mostRecentTransientRipple=y);let E=null;return!g&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const C=()=>{E&&(E.fallbackTimer=null),clearTimeout(L),this._finishRippleTransition(y)},T=()=>this._destroyRipple(y),L=setTimeout(T,c+100);u.addEventListener("transitionend",C),u.addEventListener("transitioncancel",T),E={onTransitionEnd:C,onTransitionCancel:T,fallbackTimer:L}}),this._activeRipples.set(y,E),(g||!c)&&this._finishRippleTransition(y),y}fadeOutRipple(e){if(e.state===Vi.FADING_OUT||e.state===Vi.HIDDEN)return;const t=e.element,r={...cE,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=Vi.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ka(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,W6.forEach(r=>{uE._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{K6.forEach(t=>{this._triggerElement.addEventListener(t,this,G6)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Vi.FADING_IN?this._startFadeOutTransition(e):e.state===Vi.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Vi.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Vi.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),null!==t.fallbackTimer&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){const t=j6(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!H6(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Vi.VISIBLE||e.config.terminateOnPointerUp&&e.state===Vi.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(W6.forEach(t=>uE._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(K6.forEach(t=>e.removeEventListener(t,this,G6)),this._pointerUpEventsRegistered=!1))}}const eDe=new j("mat-ripple-global-options"),tDe={capture:!0},nDe=["focus","mousedown","mouseenter","touchstart"],tP="mat-ripple-loader-uninitialized",nP="mat-ripple-loader-class-name",Q6="mat-ripple-loader-centered",dE="mat-ripple-loader-disabled";let rDe=(()=>{class n{_document=v(nt);_animationMode=v(go,{optional:!0});_globalRippleOptions=v(eDe,{optional:!0});_platform=v(Zn);_ngZone=v(le);_injector=v(We);_eventCleanups;_hosts=new Map;constructor(){const t=v(Di).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>nDe.map(r=>Ts(t,this._document,r,this._onInteraction,tDe)))}ngOnDestroy(){const t=this._hosts.keys();for(const r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(tP,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(nP))&&t.setAttribute(nP,r.className||""),r.centered&&t.setAttribute(Q6,""),r.disabled&&t.setAttribute(dE,"")}setDisabled(t,r){const i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(dE,""):t.removeAttribute(dE)}_onInteraction=t=>{const r=Cs(t);if(r instanceof HTMLElement){const i=r.closest(`[${tP}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(nP)),t.append(r);const i="NoopAnimations"===this._animationMode,o=this._globalRippleOptions,s=i?0:o?.animation?.enterDuration??cE.enterDuration,a=i?0:o?.animation?.exitDuration??cE.exitDuration,l={rippleDisabled:i||o?.disabled||t.hasAttribute(dE),rippleConfig:{centered:t.hasAttribute(Q6),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},c=new uE(l,this._ngZone,r,this._platform,this._injector),u=!l.rippleDisabled;u&&c.setupTriggerEvents(t),this._hosts.set(t,{target:l,renderer:c,hasSetUpEvents:u}),t.removeAttribute(tP)}destroyRipple(t){const r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Y6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}\n'],encapsulation:2,changeDetection:0})}return n})();const iDe=["mat-icon-button",""],oDe=["*"],sDe=new j("MAT_BUTTON_CONFIG"),aDe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let rP=(()=>{class n{_elementRef=v(Oe);_ngZone=v(le);_animationMode=v(go,{optional:!0});_focusMonitor=v(aE);_rippleLoader=v(rDe);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){v(Pa).load(Y6);const t=v(sDe,{optional:!0}),r=this._elementRef.nativeElement,i=r.classList;this.disabledInteractive=t?.disabledInteractive??!1,this.color=t?.color??null,this._rippleLoader?.configureRipple(r,{className:"mat-mdc-button-ripple"});for(const{attribute:o,mdcClasses:s}of aDe)r.hasAttribute(o)&&i.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Ht],disabled:[2,"disabled","disabled",Ht],ariaDisabled:[2,"aria-disabled","ariaDisabled",Ht],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ht]}})}return n})(),lDe=(()=>{class n extends rP{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(vt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),Ru(i.color?"mat-"+i.color:""),Ye("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[ce],attrs:iDe,ngContentSelectors:oDe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(Io(),Dt(0,"span",0),At(1),Dt(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}\n',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}\n"],encapsulation:2,changeDetection:0})}return n})(),X6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}\n"],encapsulation:2,changeDetection:0})}return n})();function hE(n){return Array.isArray(n)?n:[n]}const J6=new Set;let fc,cDe=(()=>{class n{_platform=v(Zn);_nonce=v(BI,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dDe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function uDe(n,e){if(!J6.has(n))try{fc||(fc=document.createElement("style"),e&&fc.setAttribute("nonce",e),fc.setAttribute("type","text/css"),document.head.appendChild(fc)),fc.sheet&&(fc.sheet.insertRule(`@media ${n} {body{ }}`,0),J6.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dDe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let hDe=(()=>{class n{_mediaMatcher=v(cDe);_zone=v(le);_queries=new Map;_destroySubject=new he;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return eW(hE(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=Ou(eW(hE(t)).map(s=>this._registerQuery(s).observable));return o=yy(o.pipe(Fn(1)),o.pipe(U6(1),function Z6(n,e=av){return Jt((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,r.next(c)}};function l(){const c=s+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(Bt(r,c=>{o=c,s=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe(ve(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new at(s=>{const a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Of(r),ve(({matches:s})=>({query:t,matches:s})),Qt(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eW(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let fDe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({providers:[fDe]})}return n})(),nW=(()=>{class n{_platform=v(Zn);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function mDe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function pDe(n){try{return n.frameElement}catch{return null}}(function IDe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===iW(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=iW(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function EDe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function wDe(n){return!function _De(n){return function vDe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function gDe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function yDe(n){return function bDe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||rW(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rW(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function iW(n){if(!rW(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class oW{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,t,r,i,o=!1,s){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._injector=s,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Us(e,{injector:this._injector}):setTimeout(e)}}let CDe=(()=>{class n{_checker=v(nW);_ngZone=v(le);_document=v(nt);_injector=v(We);constructor(){v(Pa).load(X6)}create(t,r=!1){return new oW(t,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pc=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(pc||{});const sW="cdk-high-contrast-black-on-white",aW="cdk-high-contrast-white-on-black",iP="cdk-high-contrast-active";let lW=(()=>{class n{_platform=v(Zn);_hasCheckedHighContrastMode;_document=v(nt);_breakpointSubscription;constructor(){this._breakpointSubscription=v(hDe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return pc.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return pc.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return pc.BLACK_ON_WHITE}return pc.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(iP,sW,aW),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===pc.BLACK_ON_WHITE?t.add(iP,sW):r===pc.WHITE_ON_BLACK&&t.add(iP,aW)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cW=(()=>{class n{constructor(){v(lW)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({imports:[tW]})}return n})(),vm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({})}return n})(),Jn=(()=>{class n{constructor(){v(lW)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({imports:[vm,vm]})}return n})(),DDe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({imports:[Jn,Jn]})}return n})();const SDe=["mat-button",""],uW=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],dW=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ADe=["mat-mini-fab",""];let bm=(()=>{class n extends rP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275cmp=He({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(vt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),Ru(i.color?"mat-"+i.color:""),Ye("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[ce],attrs:SDe,ngContentSelectors:dW,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(Io(uW),Dt(0,"span",0),At(1),U(2,"span",1),At(3,1),F(),At(4,2),Dt(5,"span",2)(6,"span",3)),2&r&&Ye("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}\n',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}\n"],encapsulation:2,changeDetection:0})}return n})();const xDe=new j("mat-mdc-fab-default-options",{providedIn:"root",factory:hW});function hW(){return{color:"accent"}}const fW=hW();let MDe=(()=>{class n extends rP{_options=v(xDe,{optional:!0});_isFab=!0;constructor(){super(),this._options=this._options||fW,this.color=this._options.color||fW.color}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:14,hostBindings:function(r,i){2&r&&(vt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),Ru(i.color?"mat-"+i.color:""),Ye("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[ce],attrs:ADe,ngContentSelectors:dW,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(Io(uW),Dt(0,"span",0),At(1),U(2,"span",1),At(3,1),F(),At(4,2),Dt(5,"span",2)(6,"span",3)),2&r&&Ye("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display, block)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;height:var(--mdc-extended-fab-container-height, 56px);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-sys-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-sys-label-large-tracking));box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}\n'],encapsulation:2,changeDetection:0})}return n})(),Em=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({imports:[Jn,DDe,Jn]})}return n})();class oP{}class Na{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Na?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Na;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Na?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}addHeaderEntry(e,t){const r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class kDe{encodeKey(e){return pW(e)}encodeValue(e){return pW(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const NDe=/%(\d[a-f0-9])/gi,ODe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pW(n){return encodeURIComponent(n).replace(NDe,(e,t)=>ODe[t]??e)}function fE(n){return`${n}`}class Oa{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new kDe,e.fromString){if(e.fromObject)throw new N(2805,!1);this.map=function PDe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(fE):[fE(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Oa({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(fE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(fE(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class FDe{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function mW(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function gW(n){return typeof Blob<"u"&&n instanceof Blob}function _W(n){return typeof FormData<"u"&&n instanceof FormData}class wm{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){let o;if(this.url=t,this.method=e.toUpperCase(),function LDe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Na,this.context??=new FDe,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Oa,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||mW(this.body)||gW(this.body)||_W(this.body)||function VDe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Oa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_W(this.body)?null:gW(this.body)?this.body.type||null:mW(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,p)=>f.set(p,e.setHeaders[p]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,p)=>f.set(p,e.setParams[p]),u)),new wm(t,r,s,{params:u,headers:c,context:h,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}}var aP=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(aP||{});class lP{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Na,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class cP extends lP{body;constructor(e={}){super(e),this.body=void 0!==e.body?e.body:null}type=aP.Response;clone(e={}){return new cP({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function uP(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let mE,dP=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof wm)o=t;else{let l,c;l=i.headers instanceof Na?i.headers:new Na(i.headers),i.params&&(c=i.params instanceof Oa?i.params:new Oa({fromObject:i.params})),o=new wm(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const s=fe(o).pipe(Ff(l=>this.handler.handle(l)));if(t instanceof wm||"events"===i.observe)return s;const a=s.pipe(En(l=>l instanceof cP));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ve(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new N(2806,!1);return l.body}));case"blob":return a.pipe(ve(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new N(2807,!1);return l.body}));case"text":return a.pipe(ve(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new N(2808,!1);return l.body}));default:return a.pipe(ve(l=>l.body))}case"response":return a;default:throw new N(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Oa).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,uP(i,r))}post(t,r,i={}){return this.request("POST",t,uP(i,r))}put(t,r,i={}){return this.request("PUT",t,uP(i,r))}static \u0275fac=function(r){return new(r||n)(ae(oP))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function AW(...n){const e=nH(n),{args:t,keys:r}=rH(n),i=new at(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let h=!1;Kr(t[u]).subscribe(Bt(o,f=>{h||(h=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(r?oH(r,a):a),o.complete())}))}});return e?i.pipe(iH(e)):i}function RW(n={}){const{connector:e=()=>new he,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,h=!1;const f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),s=l=void 0,u=h=!1},g=()=>{const y=s;p(),y?.unsubscribe()};return Jt((y,E)=>{c++,!h&&!u&&f();const C=l=l??e();E.add(()=>{c--,0===c&&!h&&!u&&(a=pP(g,i))}),C.subscribe(E),!s&&c>0&&(s=new Rc({next:T=>C.next(T),error:T=>{h=!0,f(),a=pP(p,t,T),C.error(T)},complete:()=>{u=!0,f(),a=pP(p,r),C.complete()}}),Kr(y).subscribe(s))})(o)}}function pP(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Rc({next:()=>{r.unsubscribe(),n()}});return Kr(e(...t)).subscribe(r)}function Im(n){return function rSe(){if(void 0===mE&&(mE=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(mE=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return mE}()?.createHTML(n)||n}function xW(n){return Error(`Unable to find icon with the name "${n}"`)}function MW(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function kW(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class gc{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let gE=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new gc(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const s=this._sanitizer.sanitize(rr.HTML,i);if(!s)throw kW(i);const a=Im(s);return this._addSvgIconConfig(t,r,new gc("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new gc(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(rr.HTML,r);if(!o)throw kW(r);const s=Im(o);return this._addSvgIconSetConfig(t,new gc("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(rr.RESOURCE_URL,t);if(!r)throw MW(t);const i=this._cachedIconsByUrl.get(r);return i?fe(_E(i)):this._loadSvgIconFromConfig(new gc(t,null)).pipe(Ln(o=>this._cachedIconsByUrl.set(r,o)),ve(o=>_E(o)))}getNamedSvgIcon(t,r=""){const i=PW(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):Nf(xW(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?fe(_E(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ve(r=>_E(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?fe(i):AW(r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Dl(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(rr.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),fe(null)})))).pipe(ve(()=>{const s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw xW(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ln(r=>t.svgText=r),ve(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?fe(null):this._fetchIcon(t).pipe(Ln(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,i);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),i);const a=this._svgElementFromString(Im("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Im("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:s,value:a}=i[o];"id"!==s&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw function iSe(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const s=this._sanitizer.sanitize(rr.RESOURCE_URL,r);if(!s)throw MW(r);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(ve(c=>Im(c)),Ey(()=>this._inProgressUrlFetches.delete(s)),RW());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(PW(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return sSe(o)?new gc(o.url,null,o.options):new gc(o,null)}}static \u0275fac=function(r){return new(r||n)(ae(dP,8),ae(ND),ae(nt,8),ae(Ur))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _E(n){return n.cloneNode(!0)}function PW(n,e){return n+":"+e}function sSe(n){return!(!n.url||!n.options)}const aSe=["*"],lSe=new j("MAT_ICON_DEFAULT_OPTIONS"),cSe=new j("mat-icon-location",{providedIn:"root",factory:function uSe(){const n=v(nt),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),NW=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],dSe=NW.map(n=>`[${n}]`).join(", "),hSe=/^url\(['"]?#(.*?)['"]?\)$/;let OW=(()=>{class n{_elementRef=v(Oe);_iconRegistry=v(gE);_location=v(cSe);_errorHandler=v(Ur);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Zt.EMPTY;constructor(){const t=v(new k1("aria-hidden"),{optional:!0}),r=v(lSe,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(dSe),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)NW.forEach(s=>{const a=r[o],l=a.getAttribute(s),c=l?l.match(hSe):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Fn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){2&r&&(vt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Ru(i.color?"mat-"+i.color:""),Ye("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:[2,"inline","inline",Ht],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:aSe,decls:1,vars:0,template:function(r,i){1&r&&(Io(),At(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0})}return n})(),FW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({imports:[Jn,Jn]})}return n})();class mP{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class yE extends mP{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=o}}class LW extends mP{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class fSe extends mP{element;constructor(e){super(),this.element=e instanceof Oe?e.nativeElement:e}}class gP{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof yE?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof LW?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof fSe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class pSe extends gP{outletElement;_appRef;_defaultInjector;_document;constructor(e,t,r,i,o){super(),this.outletElement=e,this._appRef=r,this._defaultInjector=i,this._document=o}attachComponentPortal(e){let t;if(e.viewContainerRef){const r=e.injector||e.viewContainerRef.injector,i=r.get(es,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{const r=this._appRef,i=e.injector||this._defaultInjector||We.NULL,o=i.get(tr,r.injector);t=Ej(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{const t=e.element,r=this._document.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let _P=(()=>{class n extends gP{_moduleRef=v(es,{optional:!0});_document=v(nt);_viewContainerRef=v(qn);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new ot;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{const r=t.element,i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ce]})}return n})(),vE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({})}return n})();function VW(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Gd(...n){const e=kf(n),t=function pce(n,e){return"number"==typeof xD(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Kr(r[0]):_y(t)(or(r,e)):li}function Sn(n){return null==n?"":"string"==typeof n?n:`${n}px`}const Cm={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Cm;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new Zt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Cm;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Cm;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class gSe extends sv{flush(e){let t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class mSe extends ov{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Cm.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&t===e._scheduled&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(Cm.cancelAnimationFrame(t),e._scheduled=void 0)}});let yP,ySe=1;const bE={};function BW(n){return n in bE&&(delete bE[n],!0)}const vSe={setImmediate(n){const e=ySe++;return bE[e]=!0,yP||(yP=Promise.resolve()),yP.then(()=>BW(e)&&n()),e},clearImmediate(n){BW(n)}},{setImmediate:bSe,clearImmediate:ESe}=vSe,EE={setImmediate(...n){const{delegate:e}=EE;return(e?.setImmediate||bSe)(...n)},clearImmediate(n){const{delegate:e}=EE;return(e?.clearImmediate||ESe)(n)},delegate:void 0};new class ISe extends sv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class wSe extends ov{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=EE.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(EE.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function UW(n,e=av){return function TSe(n){return Jt((e,t)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const c=i;i=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(Bt(t,c=>{r=!0,i=c,o||Kr(n(c)).subscribe(o=Bt(t,a,l))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>B6(n,e))}const DSe=new j("cdk-dir-doc",{providedIn:"root",factory:function SSe(){return v(nt)}}),ASe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _c=(()=>{class n{value="ltr";change=new ot;constructor(){const t=v(DSe,{optional:!0});t&&(this.value=function RSe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?ASe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bo=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Bo||{});let wE,yc;function jW(){if(null==yc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return yc=!1,yc;if("scrollBehavior"in document.documentElement.style)yc=!0;else{const n=Element.prototype.scrollTo;yc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return yc}function Tm(){if("object"!=typeof document||!document)return Bo.NORMAL;if(null==wE){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),wE=Bo.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,wE=0===n.scrollLeft?Bo.NEGATED:Bo.INVERTED),n.remove()}return wE}let vP=(()=>{class n{_ngZone=v(le);_platform=v(Zn);_renderer=v(Di).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new he;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new at(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const i=t>0?this._scrolled.pipe(UW(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):fe()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(En(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=ka(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MSe=(()=>{class n{elementRef=v(Oe);scrollDispatcher=v(vP);ngZone=v(le);dir=v(_c,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new he;_renderer=v(ai);_cleanupScroll;_elementScrolled=new he;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&Tm()!=Bo.NORMAL?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),Tm()==Bo.INVERTED?t.left=t.right:Tm()==Bo.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;jW()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?i:r:"end"==t&&(t=s?r:i),s&&Tm()==Bo.INVERTED?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&Tm()==Bo.NEGATED?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),bP=(()=>{class n{_platform=v(Zn);_listeners;_viewportSize;_change=new he;_document=v(nt,{optional:!0});constructor(){const t=v(le),r=v(Di).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){const i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(UW(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({})}return n})(),wP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({imports:[vm,EP,vm,EP]})}return n})();const IP={};let La=(()=>{class n{_appId=v(Wi);getId(t){return"ng"!==this._appId&&(t+=this._appId),IP.hasOwnProperty(t)||(IP[t]=0),`${t}${IP[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const HW=jW();class PSe{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Sn(-this._previousScrollPosition.left),e.style.top=Sn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),HW&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),HW&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class NSe{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(En(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}class zW{enable(){}disable(){}attach(){}}function CP(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function $W(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class OSe{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();CP(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let FSe=(()=>{class n{_scrollDispatcher=v(vP);_viewportRuler=v(bP);_ngZone=v(le);_document=v(nt);constructor(){}noop=()=>new zW;close=t=>new NSe(this._scrollDispatcher,this._ngZone,this._viewportRuler,t);block=()=>new PSe(this._viewportRuler,this._document);reposition=t=>new OSe(this._scrollDispatcher,this._viewportRuler,this._ngZone,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class qW{positionStrategy;scrollStrategy=new zW;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class LSe{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let GW=(()=>{class n{_attachedOverlays=[];_document=v(nt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VSe=(()=>{class n extends GW{_ngZone=v(le);_renderer=v(Di).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{const r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BSe=(()=>{class n extends GW{_platform=v(Zn);_ngZone=v(le);_renderer=v(Di).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){const r=this._document.body,i={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Ts(this._renderer,r,"pointerdown",this._pointerDownListener,i),Ts(this._renderer,r,"click",this._clickListener,i),Ts(this._renderer,r,"auxclick",this._clickListener,i),Ts(this._renderer,r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Cs(t)};_clickListener=t=>{const r=Cs(t),i="click"===t.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;const o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){const a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(WW(a.overlayElement,r)||WW(a.overlayElement,i))break;const l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(t)):l.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WW(n,e){const t=typeof ShadowRoot<"u"&&ShadowRoot;let r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}let KW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}\n"],encapsulation:2,changeDetection:0})}return n})(),TP=(()=>{class n{_platform=v(Zn);_containerElement;_document=v(nt);_styleLoader=v(Pa);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||VW()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),VW()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(KW)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class USe{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{const e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}}class DP{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new he;_attachments=new he;_detachments=new he;_positionStrategy;_scrollStrategy;_locationChanges=Zt.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new he;_outsidePointerEvents=new he;_renders=new he;_afterRenderRef;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,l,c,u=!1,h,f){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=h,this._renderer=f,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=mn(()=>r_(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Us(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Sn(this._config.width),e.height=Sn(this._config.height),e.minWidth=Sn(this._config.minWidth),e.minHeight=Sn(this._config.minHeight),e.maxWidth=Sn(this._config.maxWidth),e.maxHeight=Sn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new USe(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){const i=hE(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const e=this._renders.pipe(Qt(Gd(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e?.disable(),e?.detach?.()}}const QW="cdk-overlay-connected-position-bounding-box",jSe=/([A-Za-z%]+)$/;class HSe{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new he;_resizeSubscription=Zt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(QW),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&vc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(QW),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?s:a}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=XW(t);let{x:s,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(s+=l),c&&(a+=c);let f=0-a,p=a+o.height-r.height,g=this._subtractOverflows(o.width,0-s,s+o.width-r.width),y=this._subtractOverflows(o.height,f,p),E=g*y;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:y===o.height,fitsInViewportHorizontally:g==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,s=YW(this._overlayRef.getConfig().minHeight),a=YW(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=XW(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),l=Math.max(o.top-r.top-e.y,0),c=Math.max(o.left-r.left-e.x,0);let u=0,h=0;return u=i.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-r.left-e.x:0,h=i.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:u,y:h},{x:e.x+u,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function zSe(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new LSe(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,s,a,u,h,f;if("top"===t.overlayY)s=e.y,o=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const p=Math.min(r.bottom-e.y+r.top,e.y),g=this._lastBoundingBoxSize.height;o=2*p,s=e.y-p,o>g&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-g/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)f=r.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)h=e.x,u=r.right-e.x;else{const p=Math.min(r.right-e.x+r.left,e.x),g=this._lastBoundingBoxSize.width;u=2*p,h=e.x-p,u>g&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-g/2)}return{top:s,left:h,bottom:a,right:f,width:u,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Sn(r.height),i.top=Sn(r.top),i.bottom=Sn(r.bottom),i.width=Sn(r.width),i.left=Sn(r.left),i.right=Sn(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Sn(o)),s&&(i.maxWidth=Sn(s))}this._lastBoundingBoxSize=r,vc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){vc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){vc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();vc(r,this._getExactOverlayY(t,e,u)),vc(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Sn(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Sn(s.maxWidth):o&&(r.maxWidth="")),vc(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Sn(o.y),i}_getExactOverlayX(e,t,r){let s,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Sn(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$W(e,r),isOriginOutsideView:CP(e,r),isOverlayClipped:$W(t,r),isOverlayOutsideView:CP(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&hE(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Oe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function vc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function YW(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(jSe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function XW(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const ZW="cdk-global-overlay-wrapper";class $Se{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(ZW),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,h=this._xOffset,f="rtl"===this._overlayRef.getConfig().direction;let p="",g="",y="";l?y="flex-start":"center"===u?(y="center",f?g=h:p=h):f?"left"===u||"end"===u?(y="flex-end",p=h):("right"===u||"start"===u)&&(y="flex-start",g=h):"left"===u||"start"===u?(y="flex-start",p=h):("right"===u||"end"===u)&&(y="flex-end",g=h),e.position=this._cssPosition,e.marginLeft=l?"0":p,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":g,t.justifyContent=y,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(ZW),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let qSe=(()=>{class n{_viewportRuler=v(bP);_document=v(nt);_platform=v(Zn);_overlayContainer=v(TP);constructor(){}global(){return new $Se}flexibleConnectedTo(t){return new HSe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bi=(()=>{class n{scrollStrategies=v(FSe);_overlayContainer=v(TP);_positionBuilder=v(qSe);_keyboardDispatcher=v(VSe);_injector=v(We);_ngZone=v(le);_document=v(nt);_directionality=v(_c);_location=v(Nu);_outsideClickDispatcher=v(BSe);_animationsModuleType=v(go,{optional:!0});_idGenerator=v(La);_renderer=v(Di).createRenderer(null,null);_appRef;_styleLoader=v(Pa);constructor(){}create(t){this._styleLoader.load(KW);const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new qW(t);return s.direction=s.direction||this._directionality.value,new DP(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(tr),this._renderer)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id=this._idGenerator.getId("cdk-overlay-"),r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ir)),new pSe(t,null,this._appRef,this._injector,this._document)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const KSe={provide:new j("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=v(Bi);return()=>n.scrollStrategies.reposition()}}),deps:[Bi],useFactory:function WSe(n){return()=>n.scrollStrategies.reposition()}};let SP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({providers:[Bi,KSe],imports:[vm,vE,wP,wP]})}return n})();function AP(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function QSe(n,e){}class Dm{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext}let JW=(()=>{class n extends gP{_elementRef=v(Oe);_focusTrapFactory=v(CDe);_config;_interactivityChecker=v(nW);_ngZone=v(le);_overlayRef=v(DP);_focusMonitor=v(aE);_renderer=v(ai);_changeDetectorRef=v(Co);_injector=v(We);_platform=v(Zn);_document=v(nt,{optional:!0});_portalOutlet;_focusTrapped=new he;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=v(Dm,{optional:!0})||new Dm,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const r=this._ariaLabelledByQueue.indexOf(t);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}attachDomPortal=t=>{this._portalOutlet.hasAttached();const r=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),r};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{o(),s(),t.removeAttribute("tabindex")},o=this._renderer.listen(t,"blur",i),s=this._renderer.listen(t,"mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(t){this._isDestroyed||Us(()=>{const r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus(t);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(t)||this._focusDialogContainer(t);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',t);break;default:this._focusByCssSelector(this._config.autoFocus,t)}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=Zk(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(t){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(t)}_containsFocus(){const t=this._elementRef.nativeElement,r=Zk();return t===r||t.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Zk()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(1&r&&Gn(_P,7),2&r){let o;et(o=tt())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){2&r&&vt("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[ce],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){1&r&&Fe(0,QSe,0,0,"ng-template",0)},dependencies:[_P],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}\n"],encapsulation:2})}return n})();class RP{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new he;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(e,t){this.overlayRef=e,this.config=t,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!AP(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const e8=new j("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=v(Bi);return()=>n.scrollStrategies.block()}}),YSe=new j("DialogData"),XSe=new j("DefaultDialogConfig");let t8=(()=>{class n{_overlay=v(Bi);_injector=v(We);_defaultOptions=v(XSe,{optional:!0});_parentDialog=v(n,{optional:!0,skipSelf:!0});_overlayContainer=v(TP);_idGenerator=v(La);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new he;_afterOpenedAtThisLevel=new he;_ariaHiddenElements=new Map;_scrollStrategy=v(e8);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=vy(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Of(void 0)));constructor(){}open(t,r){(r={...this._defaultOptions||new Dm,...r}).id=r.id||this._idGenerator.getId("cdk-dialog-"),r.id&&this.getDialogById(r.id);const o=this._getOverlayConfig(r),s=this._overlay.create(o),a=new RP(s,r),l=this._attachContainer(s,a,r);if(a.containerInstance=l,!this.openDialogs.length){const c=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(Fn(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(c)}):this._hideNonDialogContentFromAssistiveTechnology(c)}return this._attachDialogContent(t,a,l,r),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){xP(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){xP(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),xP(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new qW({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const o=i.injector||i.viewContainerRef?.injector,s=[{provide:Dm,useValue:i},{provide:RP,useValue:r},{provide:DP,useValue:t}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,s.push(...i.container.providers(i))):a=JW;const l=new yE(a,i.viewContainerRef,We.create({parent:o||this._injector,providers:s}));return t.attach(l).instance}_attachDialogContent(t,r,i,o){if(t instanceof $n){const s=this._createInjector(o,r,i,void 0);let a={$implicit:o.data,dialogRef:r};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),i.attachTemplatePortal(new LW(t,null,a,s))}else{const s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new yE(t,o.viewContainerRef,s));r.componentRef=a,r.componentInstance=a.instance}}_createInjector(t,r,i,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:YSe,useValue:t.data},{provide:RP,useValue:r}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!s||!s.get(_c,null,{optional:!0}))&&a.push({provide:_c,useValue:{value:t.direction,change:fe()}}),We.create({parent:s||o,providers:a})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(t){if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const o=r[i];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xP(n,e){let t=n.length;for(;t--;)e(n[t])}let JSe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({providers:[t8],imports:[SP,vE,cW,vE]})}return n})();function e0e(n,e){}class n8{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration}const MP="mdc-dialog--open",r8="mdc-dialog--opening",i8="mdc-dialog--closing";let o8=(()=>{class n extends JW{_animationMode=v(go,{optional:!0});_animationStateChanged=new ot;_animationsEnabled="NoopAnimations"!==this._animationMode;_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?a8(this._config.enterAnimationDuration)??150:0;_exitAnimationDuration=this._animationsEnabled?a8(this._config.exitAnimationDuration)??75:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(s8,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(r8,MP)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(MP),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(MP),this._animationsEnabled?(this._hostElement.style.setProperty(s8,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(i8)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(r8,i8)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const r=super.attachComponentPortal(t);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275cmp=He({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,i){2&r&&(El("id",i._config.id),vt("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Ye("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},features:[ce],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(U(0,"div",0)(1,"div",1),Fe(2,e0e,0,0,"ng-template",2),F()())},dependencies:[_P],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}\n'],encapsulation:2})}return n})();const s8="--mat-dialog-transition-duration";function a8(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?iE(n.substring(0,n.length-2)):n.endsWith("s")?1e3*iE(n.substring(0,n.length-1)):"0"===n?0:null}var IE=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(IE||{});class Wd{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new he;_beforeClosed=new he;_result;_closeFallbackTimeout;_state=IE.OPEN;_closeInteractionType;constructor(e,t,r){this._ref=e,this._containerInstance=r,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(En(i=>"opened"===i.state),Fn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(En(i=>"closed"===i.state),Fn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Gd(this.backdropClick(),this.keydownEvents().pipe(En(i=>27===i.keyCode&&!this.disableClose&&!AP(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),l8(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(En(t=>"closing"===t.state),Fn(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=IE.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=IE.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function l8(n,e,t){return n._closeInteractionType=e,n.close(t)}const r0e=new j("MatMdcDialogData"),i0e=new j("mat-mdc-dialog-default-options"),c8=new j("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=v(Bi);return()=>n.scrollStrategies.block()}});let Sm=(()=>{class n{_overlay=v(Bi);_defaultOptions=v(i0e,{optional:!0});_scrollStrategy=v(c8);_parentDialog=v(n,{optional:!0,skipSelf:!0});_idGenerator=v(La);_dialog=v(t8);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new he;_afterOpenedAtThisLevel=new he;dialogConfigClass=n8;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=vy(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Of(void 0)));constructor(){this._dialogRefConstructor=Wd,this._dialogContainerType=o8,this._dialogDataToken=r0e}open(t,r){let i;(r={...this._defaultOptions||new n8,...r}).id=r.id||this._idGenerator.getId("mat-mdc-dialog-"),r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Dm,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(s,a,l)=>(i=new this._dialogRefConstructor(s,r,l),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentRef=o.componentRef,i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),u8=(()=>{class n{dialogRef=v(Wd,{optional:!0});_elementRef=v(Oe);_dialog=v(Sm);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=m8(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){l8(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(r,i){1&r&&Le("click",function(s){return i._onButtonClick(s)}),2&r&&vt("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Hn]})}return n})(),d8=(()=>{class n{_dialogRef=v(Wd,{optional:!0});_elementRef=v(Oe);_dialog=v(Sm);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=m8(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n})}return n})(),h8=(()=>{class n extends d8{id=v(La).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(r,i){2&r&&El("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[ce]})}return n})(),f8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[o2([MSe])]})}return n})(),p8=(()=>{class n extends d8{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(r,i){2&r&&Ye("mat-mdc-dialog-actions-align-start","start"===i.align)("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"},features:[ce]})}return n})();function m8(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let CE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({providers:[Sm],imports:[JSe,SP,vE,Jn,Jn]})}return n})();class g8{}function kP(n){return n&&"function"==typeof n.connect&&!(n instanceof kD)}var Ds=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(Ds||{});const Am=new j("_ViewRepeater");class y8{applyChanges(e,t,r,i,o){e.forEachOperation((s,a,l)=>{let c,u;if(null==s.previousIndex){const h=r(s,a,l);c=t.createEmbeddedView(h.templateRef,h.context,h.index),u=Ds.INSERTED}else null==l?(t.remove(a),u=Ds.REMOVED):(c=t.get(a),t.move(c,l),u=Ds.MOVED);o&&o({context:c?.context,operation:u,record:s})})}detach(){}}const s0e=[[["caption"]],[["colgroup"],["col"]],"*"],a0e=["caption","colgroup, col","*"];function l0e(n,e){1&n&&At(0,2)}function c0e(n,e){1&n&&(U(0,"thead",0),On(1,1),F(),U(2,"tbody",0),On(3,2)(4,3),F(),U(5,"tfoot",0),On(6,4),F())}function u0e(n,e){1&n&&On(0,1)(1,2)(2,3)(3,4)}const Uo=new j("CDK_TABLE");let Kd=(()=>{class n{template=v($n);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","cdkCellDef",""]]})}return n})(),Qd=(()=>{class n{template=v($n);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","cdkHeaderCellDef",""]]})}return n})(),TE=(()=>{class n{template=v($n);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","cdkFooterCellDef",""]]})}return n})(),Ss=(()=>{class n{_table=v(Uo,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(t){this._setNameInput(t)}_name;get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(r,i,o){if(1&r&&(Ar(o,Kd,5),Ar(o,Qd,5),Ar(o,TE,5)),2&r){let s;et(s=tt())&&(i.cell=s.first),et(s=tt())&&(i.headerCell=s.first),et(s=tt())&&(i.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",Ht],stickyEnd:[2,"stickyEnd","stickyEnd",Ht]},features:[Se([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}])]})}return n})();class PP{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let NP=(()=>{class n extends PP{constructor(){super(v(Ss),v(Oe))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[ce]})}return n})(),OP=(()=>{class n extends PP{constructor(){const t=v(Ss),r=v(Oe);super(t,r);const i=t._table?._getCellRole();i&&r.nativeElement.setAttribute("role",i)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[ce]})}return n})();class b8{tasks=[];endTasks=[]}const FP=new j("_COALESCED_STYLE_SCHEDULER");let E8=(()=>{class n{_currentSchedule=null;_ngZone=v(le);constructor(){}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new b8,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new b8;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),LP=(()=>{class n{template=v($n);_differs=v(Ys);columns;_columnsDiffer;constructor(){}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Rm?t.headerCell.template:this instanceof xm?t.footerCell.template:t.cell.template}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,features:[Hn]})}return n})(),Rm=(()=>{class n extends LP{_table=v(Uo,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(v($n),v(Ys))}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",Ht]},features:[ce,Hn]})}return n})(),xm=(()=>{class n extends LP{_table=v(Uo,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(v($n),v(Ys))}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",Ht]},features:[ce,Hn]})}return n})(),DE=(()=>{class n extends LP{_table=v(Uo,{optional:!0});when;constructor(){super(v($n),v(Ys))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[ce]})}return n})(),As=(()=>{class n{_viewContainer=v(qn);cells;context;static mostRecentCellOutlet=null;constructor(){n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","cdkCellOutlet",""]]})}return n})(),VP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){1&r&&On(0,0)},dependencies:[As],encapsulation:2})}return n})(),UP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){1&r&&On(0,0)},dependencies:[As],encapsulation:2})}return n})(),SE=(()=>{class n{templateRef=v($n);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["ng-template","cdkNoDataRow",""]]})}return n})();const w8=["top","bottom","left","right"];class p0e{_isNativeHtmlTable;_stickCellCss;direction;_coalescedStyleScheduler;_isBrowser;_needsPositionStickyOnElement;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(e=>this._updateCachedSizes(e)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(e,t,r,i,o=!0,s=!0,a,l){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=a,this._tableInjector=l,this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){(t.includes("left")||t.includes("right"))&&this._removeFromStickyColumnReplayQueue(e);const r=[];for(const i of e)i.nodeType===i.ELEMENT_NODE&&r.push(i,...Array.from(i.children));this._afterNextRender({write:()=>{for(const i of r)this._removeStickyStyle(i,t)}})}updateStickyColumns(e,t,r,i=!0,o=!0){if(!e.length||!this._isBrowser||!t.some(E=>E)&&!r.some(E=>E))return this._positionListener?.stickyColumnsUpdated({sizes:[]}),void this._positionListener?.stickyEndColumnsUpdated({sizes:[]});const s=e[0],a=s.children.length,l="rtl"===this.direction,c=l?"right":"left",u=l?"left":"right",h=t.lastIndexOf(!0),f=r.indexOf(!0);let p,g,y;o&&this._updateStickyColumnReplayQueue({rows:[...e],stickyStartStates:[...t],stickyEndStates:[...r]}),this._afterNextRender({earlyRead:()=>{p=this._getCellWidths(s,i),g=this._getStickyStartColumnPositions(p,t),y=this._getStickyEndColumnPositions(p,r)},write:()=>{for(const E of e)for(let C=0;C<a;C++){const T=E.children[C];t[C]&&this._addStickyStyle(T,c,g[C],C===h),r[C]&&this._addStickyStyle(T,u,y[C],C===f)}this._positionListener&&p.some(E=>!!E)&&(this._positionListener.stickyColumnsUpdated({sizes:-1===h?[]:p.slice(0,h+1).map((E,C)=>t[C]?E:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===f?[]:p.slice(f).map((E,C)=>r[C+f]?E:null).reverse()}))}})}stickRows(e,t,r){if(!this._isBrowser)return;const i="bottom"===r?e.slice().reverse():e,o="bottom"===r?t.slice().reverse():t,s=[],a=[],l=[];this._afterNextRender({earlyRead:()=>{for(let c=0,u=0;c<i.length;c++){if(!o[c])continue;s[c]=u;const h=i[c];l[c]=this._isNativeHtmlTable?Array.from(h.children):[h];const f=this._retrieveElementSize(h).height;u+=f,a[c]=f}},write:()=>{const c=o.lastIndexOf(!0);for(let u=0;u<i.length;u++){if(!o[u])continue;const h=s[u],f=u===c;for(const p of l[u])this._addStickyStyle(p,r,h,f)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:l})}})}updateStickyFooterContainer(e,t){this._isNativeHtmlTable&&this._afterNextRender({write:()=>{const r=e.querySelector("tfoot");r&&(t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1))}})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(e,t){if(e.classList.contains(this._stickCellCss)){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);w8.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of w8)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let o=0;o<i.length;o++)r.push(this._retrieveElementSize(i[o]).width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let o=0;o<e.length;o++)t[o]&&(r[o]=i,i+=e[o]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let o=e.length;o>0;o--)t[o]&&(r[o]=i,i+=e[o]);return r}_retrieveElementSize(e){const t=this._elemSizeCache.get(e);if(t)return t;const r=e.getBoundingClientRect(),i={width:r.width,height:r.height};return this._resizeObserver&&(this._elemSizeCache.set(e,i),this._resizeObserver.observe(e,{box:"border-box"})),i}_updateStickyColumnReplayQueue(e){this._removeFromStickyColumnReplayQueue(e.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(e)}_removeFromStickyColumnReplayQueue(e){const t=new Set(e);for(const r of this._updatedStickyColumnsParamsToReplay)r.rows=r.rows.filter(i=>!t.has(i));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(r=>!!r.rows.length)}_updateCachedSizes(e){let t=!1;for(const r of e){const i=r.borderBoxSize?.length?{width:r.borderBoxSize[0].inlineSize,height:r.borderBoxSize[0].blockSize}:{width:r.contentRect.width,height:r.contentRect.height};i.width!==this._elemSizeCache.get(r.target)?.width&&m0e(r.target)&&(t=!0),this._elemSizeCache.set(r.target,i)}t&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(const r of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(r.rows,r.stickyStartStates,r.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}_afterNextRender(e){this._tableInjector?Us(e,{injector:this._tableInjector}):this._coalescedStyleScheduler.schedule(()=>{e.earlyRead?.(),e.write()})}}function m0e(n){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(e=>n.classList.contains(e))}const jP=new j("CDK_SPL");let HP=(()=>{class n{viewContainer=v(qn);elementRef=v(Oe);constructor(){const t=v(Uo);t._rowOutlet=this,t._outletAssigned()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","rowOutlet",""]]})}return n})(),zP=(()=>{class n{viewContainer=v(qn);elementRef=v(Oe);constructor(){const t=v(Uo);t._headerRowOutlet=this,t._outletAssigned()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","headerRowOutlet",""]]})}return n})(),$P=(()=>{class n{viewContainer=v(qn);elementRef=v(Oe);constructor(){const t=v(Uo);t._footerRowOutlet=this,t._outletAssigned()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","footerRowOutlet",""]]})}return n})(),qP=(()=>{class n{viewContainer=v(qn);elementRef=v(Oe);constructor(){const t=v(Uo);t._noDataRowOutlet=this,t._outletAssigned()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","noDataRowOutlet",""]]})}return n})(),AE=(()=>{class n{_differs=v(Ys);_changeDetectorRef=v(Co);_elementRef=v(Oe);_dir=v(_c,{optional:!0});_platform=v(Zn);_viewRepeater=v(Am);_coalescedStyleScheduler=v(FP);_viewportRuler=v(bP);_stickyPositioningListener=v(jP,{optional:!0,skipSelf:!0});_document=v(nt);_data;_onDestroy=new he;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(void 0===this._cellRoleInternal){const t=this._elementRef.nativeElement.getAttribute("role");return"grid"===t||"treegrid"===t?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}_trackByFn;get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new ot;viewChange=new It({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=v(We);constructor(){v(new k1("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName,this._dataDiffer=this._differs.find([]).create((r,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe(Qt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),kP(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,o,s)=>this._getEmbeddedViewArgs(i.item,s),i=>i.item.data,i=>{i.operation===Ds.INSERTED&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const i=I8(this._headerRowOutlet,"thead");i&&(i.style.display=t.length?"":"none")}const r=this._headerRowDefs.map(i=>i.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,r,"top"),this._headerRowDefs.forEach(i=>i.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const i=I8(this._footerRowOutlet,"tfoot");i&&(i.style.display=t.length?"":"none")}const r=this._footerRowDefs.map(i=>i.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(i=>i.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{const s=[];for(let a=0;a<r.length;a++)this._renderRows[a].rowDef===o&&s.push(r[a]);this._addStickyColumnStyles(s,o)}),i.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return t;for(let i=0;i<this._data.length;i++){let o=this._data[i];const s=this._getRenderRowsForData(o,i,r.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let a=0;a<s.length;a++){let l=s[a];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),t.push(l)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(s=>{const a=i&&i.has(s)?i.get(s):[];if(a.length){const l=a.shift();return l.dataIndex=r,l}return{data:t,rowDef:s,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),RE(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=RE(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=RE(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=RE(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(s,a)=>{const l=!!a.getColumnsDiff();return s||l},r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),r||i||o}_switchDataSource(t){this._data=[],kP(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;kP(this.dataSource)?t=this.dataSource.connect(this):Mf(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=fe(this.dataSource)),this._renderChangeSubscription=t.pipe(Qt(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r?.columns||[]).map(a=>this._columnDefsByName.get(a)),o=i.map(a=>a.sticky),s=i.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const o=t.viewContainer.get(i);r.push(o.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(o=>!o.when||o.when(r,t));else{let o=this._rowDefs.find(s=>s.when&&s.when(r,t))||this._defaultRowDef;o&&i.push(o)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,o={}){const s=t.viewContainer.createEmbeddedView(r.template,o,i);return this._renderCellTemplateForItem(r,o),s}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))As.mostRecentCellOutlet&&As.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const s=t.get(r).context;s.count=i,s.first=0===r,s.last=r===i-1,s.even=r%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[r].dataIndex,s.renderIndex=r):s.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new p0e(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:fe()).pipe(Qt(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const o=i.createEmbeddedView(t.templateRef),s=o.rootNodes[0];1===o.rootNodes.length&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(t._contentClassName))}else i.clear();this._isShowingNoDataRow=r,this._changeDetectorRef.markForCheck()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(r,i,o){if(1&r&&(Ar(o,SE,5),Ar(o,Ss,5),Ar(o,DE,5),Ar(o,Rm,5),Ar(o,xm,5)),2&r){let s;et(s=tt())&&(i._noDataRow=s.first),et(s=tt())&&(i._contentColumnDefs=s),et(s=tt())&&(i._contentRowDefs=s),et(s=tt())&&(i._contentHeaderRowDefs=s),et(s=tt())&&(i._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(r,i){2&r&&Ye("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",Ht],fixedLayout:[2,"fixedLayout","fixedLayout",Ht]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Se([{provide:Uo,useExisting:n},{provide:Am,useClass:y8},{provide:FP,useClass:E8},{provide:jP,useValue:null}])],ngContentSelectors:a0e,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,i){1&r&&(Io(s0e),At(0),At(1,1),Fe(2,l0e,1,0)(3,c0e,7,0)(4,u0e,4,0)),2&r&&(te(2),Nn(i._isServer?2:-1),te(),Nn(i._isNativeHtmlTable?3:4))},dependencies:[zP,HP,qP,$P],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2})}return n})();function RE(n,e){return n.concat(Array.from(e))}function I8(n,e){const t=e.toUpperCase();let r=n.viewContainer.element.nativeElement;for(;r;){const i=1===r.nodeType?r.nodeName:null;if(i===t)return r;if("TABLE"===i)break;r=r.parentNode}return null}let _0e=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({imports:[wP]})}return n})();const y0e=[[["caption"]],[["colgroup"],["col"]],"*"],v0e=["caption","colgroup, col","*"];function b0e(n,e){1&n&&At(0,2)}function E0e(n,e){1&n&&(U(0,"thead",0),On(1,1),F(),U(2,"tbody",2),On(3,3)(4,4),F(),U(5,"tfoot",0),On(6,5),F())}function w0e(n,e){1&n&&On(0,1)(1,3)(2,4)(3,5)}let T8=(()=>{class n extends AE{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275cmp=He({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(r,i){2&r&&Ye("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[Se([{provide:AE,useExisting:n},{provide:Uo,useExisting:n},{provide:FP,useClass:E8},{provide:Am,useClass:y8},{provide:jP,useValue:null}]),ce],ngContentSelectors:v0e,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,i){1&r&&(Io(y0e),At(0),At(1,1),Fe(2,b0e,1,0)(3,E0e,7,0)(4,w0e,4,0)),2&r&&(te(2),Nn(i._isServer?2:-1),te(),Nn(i._isNativeHtmlTable?3:4))},dependencies:[zP,HP,qP,$P],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}\n"],encapsulation:2})}return n})(),GP=(()=>{class n extends Kd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["","matCellDef",""]],features:[Se([{provide:Kd,useExisting:n}]),ce]})}return n})(),WP=(()=>{class n extends Qd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["","matHeaderCellDef",""]],features:[Se([{provide:Qd,useExisting:n}]),ce]})}return n})(),KP=(()=>{class n extends Ss{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[Se([{provide:Ss,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),ce]})}return n})(),QP=(()=>{class n extends NP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[ce]})}return n})(),YP=(()=>{class n extends OP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[ce]})}return n})(),D8=(()=>{class n extends Rm{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",Ht]},features:[Se([{provide:Rm,useExisting:n}]),ce]})}return n})(),S8=(()=>{class n extends DE{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[Se([{provide:DE,useExisting:n}]),ce]})}return n})(),A8=(()=>{class n extends VP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275cmp=He({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[Se([{provide:VP,useExisting:n}]),ce],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){1&r&&On(0,0)},dependencies:[As],encapsulation:2})}return n})(),R8=(()=>{class n extends UP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275cmp=He({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[Se([{provide:UP,useExisting:n}]),ce],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){1&r&&On(0,0)},dependencies:[As],encapsulation:2})}return n})(),x0e=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({imports:[Jn,_0e,Jn]})}return n})();class k0e extends g8{_data;_renderData=new It([]);_filter=new It("");_internalPageChanges=new he;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(e){e=Array.isArray(e)?e:[],this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(e,t)=>{const r=e[t];if(z6(r)){const i=Number(r);return i<9007199254740991?i:r}return r};sortData=(e,t)=>{const r=t.active,i=t.direction;return r&&""!=i?e.sort((o,s)=>{let a=this.sortingDataAccessor(o,r),l=this.sortingDataAccessor(s,r);const c=typeof a,u=typeof l;c!==u&&("number"===c&&(a+=""),"number"===u&&(l+=""));let h=0;return null!=a&&null!=l?a>l?h=1:a<l&&(h=-1):null!=a?h=1:null!=l&&(h=-1),h*("asc"==i?1:-1)}):e};filterPredicate=(e,t)=>{const r=t.trim().toLowerCase();return Object.values(e).some(i=>`${i}`.toLowerCase().includes(r))};constructor(e=[]){super(),this._data=new It(e),this._updateChangeSubscription()}_updateChangeSubscription(){const e=this._sort?Gd(this._sort.sortChange,this._sort.initialized):fe(null),t=this._paginator?Gd(this._paginator.page,this._internalPageChanges,this._paginator.initialized):fe(null),i=Ou([this._data,this._filter]).pipe(ve(([a])=>this._filterData(a))),o=Ou([i,e]).pipe(ve(([a])=>this._orderData(a))),s=Ou([o,t]).pipe(ve(([a])=>this._pageData(a)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(a=>this._renderData.next(a))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=e,t.pageIndex>0)){const r=Math.ceil(t.length/t.pageSize)-1||0,i=Math.min(t.pageIndex,r);i!==t.pageIndex&&(t.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}const P0e=["determinateSpinner"];function N0e(n,e){if(1&n&&(Vg(),U(0,"svg",11),Dt(1,"circle",12),F()),2&n){const t=Je();vt("viewBox",t._viewBox()),te(),Dr("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),vt("r",t._circleRadius())}}const O0e=new j("mat-progress-spinner-default-options",{providedIn:"root",factory:function F0e(){return{diameter:x8}}}),x8=100;let V0e=(()=>{class n{_elementRef=v(Oe);_noopAnimations;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";_determinateCircle;constructor(){const t=v(go,{optional:!0}),r=v(O0e);this._noopAnimations="NoopAnimations"===t&&!!r&&!r._forceAnimations,this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}mode;get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}_value=0;get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}_diameter=x8;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_strokeWidth;_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,i){if(1&r&&Gn(P0e,5),2&r){let o;et(o=tt())&&(i._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,i){2&r&&(vt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),Ru("mat-"+i.color),Dr("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),Ye("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",fD],diameter:[2,"diameter","diameter",fD],strokeWidth:[2,"strokeWidth","strokeWidth",fD]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,i){if(1&r&&(Fe(0,N0e,2,8,"ng-template",null,0,JT),U(2,"div",2,1),Vg(),U(4,"svg",3),Dt(5,"circle",4),F()(),function l1(){!function ZQ(){Ce.lFrame.currentNamespace=null}()}(),U(6,"div",5)(7,"div",6)(8,"div",7),On(9,8),F(),U(10,"div",9),On(11,8),F(),U(12,"div",10),On(13,8),F()()()),2&r){const o=Z_(1);te(4),vt("viewBox",i._viewBox()),te(),Dr("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),vt("r",i._circleRadius()),te(4),Ue("ngTemplateOutlet",o),te(2),Ue("ngTemplateOutlet",o),te(2),Ue("ngTemplateOutlet",o)}},dependencies:[Hk],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}\n"],encapsulation:2,changeDetection:0})}return n})(),B0e=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({imports:[Jn]})}return n})();function xE(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}const O8="cdk-describedby-message",ME="cdk-describedby-host";let XP=0,F8=(()=>{class n{_platform=v(Zn);_document=v(nt);_messageRegistry=new Map;_messagesContainer=null;_id=""+XP++;constructor(){v(Pa).load(X6),this._id=v(Wi)+"-"+XP++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const o=ZP(r,i);"string"!=typeof r?(L8(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const o=ZP(r,i);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof r){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${ME}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(ME);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");L8(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(ZP(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=xE(t,"aria-describedby").filter(i=>0!=i.indexOf(O8));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function z0e(n,e,t){const r=xE(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(ME,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function $0e(n,e,t){const r=xE(n,e);t=t.trim();const i=r.filter(o=>o!==t);i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(ME)}_isElementDescribedByMessage(t,r){const i=xE(t,"aria-describedby"),o=this._messageRegistry.get(r),s=o&&o.messageElement.id;return!!s&&-1!=i.indexOf(s)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=t.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZP(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function L8(n,e){n.id||(n.id=`${O8}-${e}-${XP++}`)}class V8 extends he{constructor(e=1/0,t=1/0,r=n0){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=t.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}const W0e=["mat-sort-header",""],K0e=["*"];function Q0e(n,e){1&n&&(U(0,"div",2),Vg(),U(1,"svg",3),Dt(2,"path",4),F()())}const B8=new j("MAT_SORT_DEFAULT_OPTIONS");let JP=(()=>{class n{_defaultOptions;_initializedStream=new V8(1);sortables=new Map;_stateChanges=new he;active;start="asc";get direction(){return this._direction}set direction(t){this._direction=t}_direction="";disableClear;disabled=!1;sortChange=new ot;initialized=this._initializedStream;constructor(t){this._defaultOptions=t}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let i=function Y0e(n,e){let t=["asc","desc"];return"desc"==n&&t.reverse(),e||t.push(""),t}(t.start||this.start,t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),o=i.indexOf(this.direction)+1;return o>=i.length&&(o=0),i[o]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(r){return new(r||n)(z(B8,8))};static \u0275dir=Q({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Ht],disabled:[2,"matSortDisabled","disabled",Ht]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[Hn]})}return n})(),kE=(()=>{class n{changes=new he;static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Z0e={provide:kE,deps:[[new Un,new mh,kE]],useFactory:function X0e(n){return n||new kE}};let J0e=(()=>{class n{_intl=v(kE);_sort=v(JP,{optional:!0});_columnDef=v("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=v(Co);_focusMonitor=v(aE);_elementRef=v(Oe);_ariaDescriber=v(F8,{optional:!0});_renderChanges;_animationModule=v(go,{optional:!0});_recentlyCleared=Gi(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}_sortActionDescription="Sort";disableClear;constructor(){v(Pa).load(Y6);const t=v(B8,{optional:!0});t?.arrowPosition&&(this.arrowPosition=t?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=Gd(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>this._recentlyCleared.set(null))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){const t=this._isSorted(),r=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(t&&!this._isSorted()?r:null)}}_handleKeydown(t){(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(r,i){1&r&&Le("click",function(){return i._toggleOnInteraction()})("keydown",function(s){return i._handleKeydown(s)})("mouseleave",function(){return i._recentlyCleared.set(null)}),2&r&&(vt("aria-sort",i._getAriaSortAttribute()),Ye("mat-sort-header-disabled",i._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",Ht],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",Ht]},exportAs:["matSortHeader"],attrs:W0e,ngContentSelectors:K0e,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(r,i){1&r&&(Io(),U(0,"div",0)(1,"div",1),At(2),F(),Fe(3,Q0e,3,0,"div",2),F()),2&r&&(Ye("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"===i.arrowPosition)("mat-sort-header-descending","desc"===i._sort.direction)("mat-sort-header-ascending","asc"===i._sort.direction)("mat-sort-header-recently-cleared-ascending","asc"===i._recentlyCleared())("mat-sort-header-recently-cleared-descending","desc"===i._recentlyCleared())("mat-sort-header-animations-disabled","NoopAnimations"===i._animationModule),vt("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),te(3),Nn(i._renderArrow()?3:-1))},styles:[".mat-sort-header{cursor:pointer}.mat-sort-header-disabled{cursor:default}.mat-sort-header-container{display:flex;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header.cdk-keyboard-focused .mat-sort-header-arrow,.mat-sort-header.cdk-program-focused .mat-sort-header-arrow,.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow svg{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}\n"],encapsulation:2,changeDetection:0})}return n})(),eAe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({providers:[Z0e],imports:[Jn]})}return n})();function Yd(n){return null!=n&&"false"!=`${n}`}const tAe=["tooltip"],j8=new j("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=v(Bi);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),rAe={provide:j8,deps:[Bi],useFactory:function nAe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},oAe=new j("mat-tooltip-default-options",{providedIn:"root",factory:function iAe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),H8="tooltip-panel",z8=rE({passive:!0});let uAe=(()=>{class n{_elementRef=v(Oe);_ngZone=v(le);_platform=v(Zn);_ariaDescriber=v(F8);_focusMonitor=v(aE);_dir=v(_c);_injector=v(We);_viewContainerRef=v(qn);_defaultOptions=v(oAe,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=dAe;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=Yd(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){const r=Yd(t);this._disabled!==r&&(this._disabled=r,r?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=iE(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=iE(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){const r=this._message;this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(r)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new he;_isDestroyed=!1;constructor(){const t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Qt(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{t.removeEventListener(r,i,z8)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay(r);this._detach(),this._portal=this._portal||new yE(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Qt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(t):(r._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof Oe)return this._overlayRef;this._detach()}const r=this._injector.get(vP).getAncestorScrollContainers(this._elementRef),i=this._injector.get(Bi),o=i.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return o.positionChanges.pipe(Qt(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=i.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${H8}`,scrollStrategy:this._injector.get(j8)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Qt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Qt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Qt(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!AP(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Qt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const r=t.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...o.main}),this._addOffset({...i.fallback,...o.fallback})])}_addOffset(t){const i=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=i?-8:8:"end"===t.originX&&(t.offsetX=i?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Us(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){const{overlayY:r,originX:i,originY:o}=t;let s;if(s="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${H8}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let r;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(r=t),this.show(void 0,r)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const r=t.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,i)},this._defaultOptions?.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,z8)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const r=this._injector.get(nt).elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const r=this._elementRef.nativeElement,i=r.style;("on"===t||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===t||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||Us({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,i){2&r&&Ye("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),dAe=(()=>{class n{_changeDetectorRef=v(Co);_elementRef=v(Oe);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new he;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){const t=v(go,{optional:!0});this._animationsDisabled="NoopAnimations"===t}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(t?o:i),r.classList.add(t?i:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(r);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(r,i){if(1&r&&Gn(tAe,7),2&r){let o;et(o=tt())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(r,i){1&r&&Le("mouseleave",function(s){return i._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(r,i){if(1&r){const o=ts();U(0,"div",1,0),Le("animationend",function(a){return Mn(o),kn(i._handleAnimationEnd(a))}),U(2,"div",2),K(3),F()()}2&r&&(Ye("mdc-tooltip--multiline",i._isMultiline),Ue("ngClass",i.tooltipClass),te(3),Mu(i.message))},dependencies:[D6],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}\n'],encapsulation:2,changeDetection:0})}return n})(),hAe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({providers:[rAe],imports:[cW,SP,Jn,Jn,EP]})}return n})();let $8=(()=>{class n{auth;constructor(t){this.auth=t}init(){var t=this;return w(function*(){console.log("Logging in..."),(yield function fAe(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const o=new Rc({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Pf)}});n.subscribe(o)})}(Bve(t.auth)))||(yield jve(t.auth)),console.log("Logged in!",+(t.uid||"null"))})()}get uid(){return this.auth.currentUser?.uid??null}static \u0275fac=function(r){return new(r||n)(ae(Nv))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pAe=(()=>{class n{firestore;collectionName="leaderboard";constructor(t){this.firestore=t}submitScore(t){var r=this;return w(function*(){const o=$Ie(r.firestore,r.collectionName,`${t.uid}-${t.sessionId}`);yield YIe(o,{uid:t.uid,name:t.name,score:t.score,date:st.fromMillis(t.date)},{merge:!0})})()}getTopScores(){var t=this;return w(function*(){const r=zIe(t.firestore,t.collectionName),i=QIe(r,KIe("score","desc"),WIe(10));return(yield qIe(i)).docs.map(s=>{const a=s.data(),[l,c]=s.id.split("-",2);return{sessionId:c,uid:l,name:a.name,score:a.score,date:a.date instanceof st?a.date.toDate():new Date(a.date)}})})()}static \u0275fac=function(r){return new(r||n)(ae(qb))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mm=(()=>{class n{authService;globalLeaderboard;constructor(t,r){this.authService=t,this.globalLeaderboard=r}getEntryKey(t){return`${t.uid??"unknown"}-${t.sessionId??"no-session"}`}getPlayerName(){let t=localStorage.getItem("momXmasSwap_playerName");return t&&t.trim()?t:null}setPlayerName(t){localStorage.setItem("momXmasSwap_playerName",t.trim())}getPlayerUid(){return this.authService.uid}getLeaderboard(){const t=localStorage.getItem("momXmasSwap_leaderboard");let r=t?JSON.parse(t):[];return r=r.map(i=>({uid:i.uid||this.getPlayerUid()||"local-"+(i.sessionId||crypto.randomUUID()),name:i.name||"Anonymous",score:i.score,date:i.date,sessionId:i.sessionId})),r.sort((i,o)=>o.score-i.score)}getLeaderboardMerged(){var t=this;return w(function*(){const r=t.getLeaderboard(),i=yield t.globalLeaderboard.getTopScores(),o=new Map;return[...r,...i].forEach(s=>{const a=t.getEntryKey(s),l=o.get(a);(!l||s.score>l.score||s.date>l.date)&&o.set(a,s)}),Array.from(o.values()).sort((s,a)=>a.score-s.score)})()}addScore(t,r){if(!t||t<=0)return;const i=this.getPlayerUid(),o=this.getPlayerName();if(!i)return void console.warn("No UID, cannot submit score globally");if(!o)return void console.warn("No player name set");const s=this.getLeaderboard(),a={uid:i,name:o,score:t,date:Date.now(),sessionId:r},l=this.getEntryKey(a),c=s.findIndex(h=>this.getEntryKey(h)===l);-1!==c?t>s[c].score&&(s[c].score=t,s[c].date=a.date):s.push(a),s.sort((h,f)=>f.score-h.score);const u=s.slice(0,10);localStorage.setItem("momXmasSwap_leaderboard",JSON.stringify(u)),this.globalLeaderboard.submitScore(a).catch(()=>{})}syncLocalToGlobal(){var t=this;return w(function*(){const i=t.getLeaderboard().map(o=>t.globalLeaderboard.submitScore(o).catch(()=>{}));yield Promise.all(i)})()}static \u0275fac=function(r){return new(r||n)(ae($8),ae(pAe))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mAe(n,e){1&n&&(U(0,"div",4),Dt(1,"mat-spinner"),F())}function gAe(n,e){1&n&&(U(0,"th",15),K(1," Name "),F())}function _Ae(n,e){1&n&&(U(0,"span"),K(1,"\u{1f947}"),F())}function yAe(n,e){1&n&&(U(0,"span"),K(1,"\u{1f948}"),F())}function vAe(n,e){1&n&&(U(0,"span"),K(1,"\u{1f949}"),F())}function bAe(n,e){if(1&n&&(U(0,"td",16),Fe(1,_Ae,2,0,"span",17)(2,yAe,2,0,"span",17)(3,vAe,2,0,"span",17),K(4),F()),2&n){const t=e.$implicit;te(),Ue("ngIf",1===t.rank),te(),Ue("ngIf",2===t.rank),te(),Ue("ngIf",3===t.rank),te(),Wr(" ",t.name," ")}}function EAe(n,e){1&n&&(U(0,"th",15),K(1," Score "),F())}function wAe(n,e){if(1&n&&(U(0,"td",16),K(1),F()),2&n){const t=e.$implicit;te(),Wr(" ",t.score," ")}}function IAe(n,e){1&n&&(U(0,"th",15),K(1," Date "),F())}function CAe(n,e){if(1&n&&(U(0,"td",18),Cf(1,"date"),K(2),Cf(3,"date"),F()),2&n){const t=e.$implicit;X_("matTooltip","Exact time: ",ZT(1,3,t.date,"medium"),""),te(2),Wr(" ",ZT(3,6,t.date,"shortDate")," ")}}function TAe(n,e){1&n&&Dt(0,"tr",19)}function DAe(n,e){if(1&n&&Dt(0,"tr",20),2&n){const t=e.$implicit;Ye("first-place",1===t.rank)("second-place",2===t.rank)("third-place",3===t.rank)}}function SAe(n,e){if(1&n&&(U(0,"div",5)(1,"table",6),Ws(2,7),Fe(3,gAe,2,0,"th",8)(4,bAe,5,4,"td",9),Ks(),Ws(5,10),Fe(6,EAe,2,0,"th",8)(7,wAe,2,1,"td",9),Ks(),Ws(8,11),Fe(9,IAe,2,0,"th",8)(10,CAe,4,9,"td",12),Ks(),Fe(11,TAe,1,0,"tr",13)(12,DAe,1,6,"tr",14),F()()),2&n){const t=Je();te(),Ue("dataSource",t.leaderboard),te(10),Ue("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),te(),Ue("matRowDefColumns",t.displayedColumns)}}let q8=(()=>{class n{dialogRef;playerService;set matSort(t){this._sort=t,this._sort&&(this.leaderboard.sort=this._sort)}_sort;displayedColumns=["name","score","date"];leaderboard=new k0e;loading=!0;constructor(t,r){this.dialogRef=t,this.playerService=r}ngOnInit(){var t=this;return w(function*(){t.loading=!0;const r=yield t.playerService.getLeaderboardMerged();r.sort((i,o)=>o.score-i.score),r.forEach((i,o)=>{i.rank=0===o?1:1===o?2:2===o?3:void 0}),console.log(r),t.leaderboard.data=r,t.loading=!1})()}close(){this.dialogRef.close()}static \u0275fac=function(r){return new(r||n)(z(Wd),z(Mm))};static \u0275cmp=He({type:n,selectors:[["app-leaderboard"]],viewQuery:function(r,i){if(1&r&&Gn(JP,5),2&r){let o;et(o=tt())&&(i.matSort=o.first)}},decls:7,vars:2,consts:[[1,"leaderboard-dialog"],["class","spinner-container",4,"ngIf"],["class","table-container mat-elevation-z8",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"spinner-container"],[1,"table-container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","score"],["matColumnDef","date"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"first-place","second-place","third-place",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["mat-cell","",3,"matTooltip"],["mat-header-row",""],["mat-row",""]],template:function(r,i){1&r&&(U(0,"div",0)(1,"h2"),K(2,"Leaderboard"),F(),Fe(3,mAe,2,0,"div",1)(4,SAe,13,4,"div",2),U(5,"button",3),Le("click",function(){return i.close()}),K(6," Close "),F()()),2&r&&(te(3),Ue("ngIf",i.loading),te(),Ue("ngIf",!i.loading))},dependencies:[Ma,xa,P6,CE,Em,bm,x0e,T8,WP,D8,KP,GP,S8,QP,YP,A8,R8,B0e,V0e,eAe,JP,J0e,hAe,uAe],styles:[".leaderboard-dialog[_ngcontent-%COMP%]{height:70vh;max-height:700px;min-height:400px;padding:16px;box-sizing:border-box;display:flex;flex-direction:column}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px;flex-shrink:0}h2[_ngcontent-%COMP%]{flex-shrink:0;margin:0 0 12px}.table-container[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;margin-bottom:12px;min-height:0}table[_ngcontent-%COMP%]{width:100%;min-width:300px;border-collapse:collapse}.first-place[_ngcontent-%COMP%]{background-color:#fff9c4;animation:_ngcontent-%COMP%_glow 2s infinite alternate}.second-place[_ngcontent-%COMP%]{background-color:#e0e0e0}.third-place[_ngcontent-%COMP%]{background-color:#ffe0b2}@keyframes _ngcontent-%COMP%_glow{0%{box-shadow:0 0 8px 2px gold}to{box-shadow:0 0 16px 4px gold}}button[_ngcontent-%COMP%]{flex-shrink:0;align-self:flex-end}"]})}return n})(),G8=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(z(ai),z(Oe))};static \u0275dir=Q({type:n})}return n})(),bc=(()=>{class n extends G8{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275dir=Q({type:n,features:[ce]})}return n})();const jo=new j(""),RAe={provide:jo,useExisting:Ct(()=>NE),multi:!0},MAe=new j("");let NE=(()=>{class n extends G8{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,null==this._compositionMode&&(this._compositionMode=!function xAe(){const n=Xs()?Xs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(z(ai),z(Oe),z(MAe,8))};static \u0275dir=Q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Se([RAe]),ce]})}return n})();function eN(n){return null==n||0===tN(n)}function tN(n){return null==n?null:Array.isArray(n)||"string"==typeof n?n.length:n instanceof Set?n.size:null}const gr=new j(""),Va=new j(""),kAe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class PAe{static min(e){return function K8(n){return e=>{if(null==e.value||null==n)return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Q8(n){return e=>{if(null==e.value||null==n)return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Y8(e)}static requiredTrue(e){return function X8(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Z8(n){return eN(n.value)||kAe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function J8(n){return e=>{const t=e.value?.length??tN(e.value);return null===t||0===t?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}(e)}static maxLength(e){return function e9(n){return e=>{const t=e.value?.length??tN(e.value);return null!==t&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}(e)}static pattern(e){return function t9(n){if(!n)return OE;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(eN(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return a9(e)}static composeAsync(e){return l9(e)}}function Y8(n){return eN(n.value)?{required:!0}:null}function OE(n){return null}function n9(n){return null!=n}function r9(n){return pf(n)?or(n):n}function i9(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function o9(n,e){return e.map(t=>t(n))}function s9(n){return n.map(e=>function NAe(n){return!n.validate}(e)?e:t=>e.validate(t))}function a9(n){if(!n)return null;const e=n.filter(n9);return 0==e.length?null:function(t){return i9(o9(t,e))}}function nN(n){return null!=n?a9(s9(n)):null}function l9(n){if(!n)return null;const e=n.filter(n9);return 0==e.length?null:function(t){return AW(o9(t,e).map(r9)).pipe(ve(i9))}}function rN(n){return null!=n?l9(s9(n)):null}function c9(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function u9(n){return n._rawValidators}function d9(n){return n._rawAsyncValidators}function iN(n){return n?Array.isArray(n)?n:[n]:[]}function FE(n,e){return Array.isArray(n)?n.includes(e):n===e}function h9(n,e){const t=iN(e);return iN(n).forEach(i=>{FE(t,i)||t.push(i)}),t}function f9(n,e){return iN(e).filter(t=>!FE(n,t))}class p9{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Nr extends p9{name;get formDirective(){return null}get path(){return null}}class Rs extends p9{_parent=null;name=null;valueAccessor=null}class m9{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let g9=(()=>{class n extends m9{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(z(Rs,2))};static \u0275dir=Q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ye("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ce]})}return n})(),_9=(()=>{class n extends m9{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(z(Nr,10))};static \u0275dir=Q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ye("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[ce]})}return n})();const km="VALID",VE="INVALID",Xd="PENDING",Pm="DISABLED";class Zd{}class v9 extends Zd{value;source;constructor(e,t){super(),this.value=e,this.source=t}}class aN extends Zd{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}}class lN extends Zd{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}}class BE extends Zd{status;source;constructor(e,t){super(),this.status=e,this.source=t}}class b9 extends Zd{source;constructor(e){super(),this.source=e}}class E9 extends Zd{source;constructor(e){super(),this.source=e}}function cN(n){return(UE(n)?n.validators:n)||null}function uN(n,e){return(UE(e)?e.asyncValidators:n)||null}function UE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class dN{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return mn(this.statusReactive)}set status(e){mn(()=>this.statusReactive.set(e))}_status=Xi(()=>this.statusReactive());statusReactive=Gi(void 0);get valid(){return this.status===km}get invalid(){return this.status===VE}get pending(){return this.status==Xd}get disabled(){return this.status===Pm}get enabled(){return this.status!==Pm}errors;get pristine(){return mn(this.pristineReactive)}set pristine(e){mn(()=>this.pristineReactive.set(e))}_pristine=Xi(()=>this.pristineReactive());pristineReactive=Gi(!0);get dirty(){return!this.pristine}get touched(){return mn(this.touchedReactive)}set touched(e){mn(()=>this.touchedReactive.set(e))}_touched=Xi(()=>this.touchedReactive());touchedReactive=Gi(!1);get untouched(){return!this.touched}_events=new he;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(h9(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(h9(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(f9(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(f9(e,this._rawAsyncValidators))}hasValidator(e){return FE(this._rawValidators,e)}hasAsyncValidator(e){return FE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const t=!1===this.touched;this.touched=!0;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:r}),t&&!1!==e.emitEvent&&this._events.next(new lN(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&!1!==e.emitEvent&&this._events.next(new lN(!1,r))}markAsDirty(e={}){const t=!0===this.pristine;this.pristine=!1;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:r}),t&&!1!==e.emitEvent&&this._events.next(new aN(!1,r))}markAsPristine(e={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&!1!==e.emitEvent&&this._events.next(new aN(!0,r))}markAsPending(e={}){this.status=Xd;const t=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new BE(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:t})}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pm,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue();const r=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new v9(this.value,r)),this._events.next(new BE(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t},this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=km,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===km||this.status===Xd)&&this._runAsyncValidator(r,e.emitEvent)}const t=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new v9(this.value,t)),this._events.next(new BE(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:t})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pm:km}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Xd,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const r=r9(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new BE(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?Pm:this.errors?VE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xd)?Xd:this._anyControlsHaveStatus(VE)?VE:km}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new aN(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new lN(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){UE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function jAe(n){return Array.isArray(n)?nN(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function HAe(n){return Array.isArray(n)?rN(n):n||null}(this._rawAsyncValidators)}}class hN extends dN{constructor(e,t,r){super(cN(t),uN(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function I9(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new N(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function w9(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new N(1e3,"");if(!r[t])throw new N(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Jd=new j("",{providedIn:"root",factory:()=>jE}),jE="always";function Nm(n,e,t=jE){fN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function qAe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&C9(n,e)})}(n,e),function WAe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function GAe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&C9(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function $Ae(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zE(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qE(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function $E(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fN(n,e){const t=u9(n);null!==e.validator?n.setValidators(c9(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=d9(n);null!==e.asyncValidator?n.setAsyncValidators(c9(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();$E(e._rawValidators,i),$E(e._rawAsyncValidators,i)}function qE(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=u9(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=d9(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return $E(e._rawValidators,r),$E(e._rawAsyncValidators,r),t}function C9(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function T9(n,e){fN(n,e)}function D9(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const ZAe={provide:Nr,useExisting:Ct(()=>eh)},Om=Promise.resolve();let eh=(()=>{class n extends Nr{callSetDisabledState;get submitted(){return mn(this.submittedReactive)}_submitted=Xi(()=>this.submittedReactive());submittedReactive=Gi(!1);_directives=new Set;form;ngSubmit=new ot;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new hN({},nN(t),rN(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Om.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Nm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Om.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Om.then(()=>{const r=this._findContainer(t.path),i=new hN({});T9(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Om.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Om.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),D9(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new b9(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new E9(this.form))}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(z(gr,10),z(Va,10),z(Jd,8))};static \u0275dir=Q({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Se([ZAe]),ce]})}return n})();function S9(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function A9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const R9=class extends dN{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(cN(t),uN(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),UE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=A9(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){S9(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){S9(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){A9(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},rRe={provide:Rs,useExisting:Ct(()=>_N)},x9=Promise.resolve();let _N=(()=>{class n extends Rs{_changeDetectorRef;callSetDisabledState;control=new R9;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ot;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function gN(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===NE?t=o:function YAe(n){return Object.getPrototypeOf(n.constructor)===bc}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function mN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){x9.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Ht(r);x9.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function HE(n,e){return[...e.path,n]}(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(z(Nr,9),z(gr,10),z(Va,10),z(jo,10),z(Co,8),z(Jd,8))};static \u0275dir=Q({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Se([rRe]),ce,Hn]})}return n})(),M9=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();const cRe={provide:Nr,useExisting:Ct(()=>Fm)};let Fm=(()=>{class n extends Nr{callSetDisabledState;get submitted(){return mn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Xi(()=>this._submittedReactive());_submittedReactive=Gi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ot;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Nm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zE(t.control||null,t,!1),function XAe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),D9(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new b9(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new E9(this.form))}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(zE(r||null,t),(n=>n instanceof R9)(i)&&(Nm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);T9(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function KAe(n,e){return qE(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fN(this.form,this),this._oldForm&&qE(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(z(gr,10),z(Va,10),z(Jd,8))};static \u0275dir=Q({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Se([cRe]),ce,Hn]})}return n})(),Ec=(()=>{class n{_validator=OE;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):OE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,features:[Hn]})}return n})();const ERe={provide:gr,useExisting:Ct(()=>QE),multi:!0};let th,QE=(()=>{class n extends Ec{required;inputName="required";normalizeInput=Ht;createValidator=t=>Y8;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ne(n)))(i||n)}})();static \u0275dir=Q({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&vt("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Se([ERe]),ce]})}return n})(),SRe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({})}return n})(),RRe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Jd,useValue:t.callSetDisabledState??jE}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({imports:[SRe]})}return n})(),bN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({imports:[Jn,tW,Jn]})}return n})();const Y9=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function X9(){if(th)return th;if("object"!=typeof document||!document)return th=new Set(Y9),th;let n=document.createElement("input");return th=new Set(Y9.filter(e=>(n.setAttribute("type",e),n.type===e))),th}let xRe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}\n"],encapsulation:2,changeDetection:0})}return n})();const MRe={passive:!0};let kRe=(()=>{class n{_platform=v(Zn);_ngZone=v(le);_renderer=v(Di).createRenderer(null,null);_styleLoader=v(Pa);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return li;this._styleLoader.load(xRe);const r=ka(t),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new he,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||r.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(r.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))},l=this._ngZone.runOutsideAngular(()=>(r.classList.add("cdk-text-field-autofill-monitored"),Ts(this._renderer,r,"animationstart",a,MRe)));return this._monitoredElements.set(r,{subject:o,unlisten:l}),o}stopMonitoring(t){const r=ka(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PRe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({})}return n})();const NRe=new j("MAT_INPUT_VALUE_ACCESSOR");class LRe{_box;_destroyed=new he;_resizeSubject=new he;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new at(t=>{const r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(En(t=>t.some(r=>r.target===e)),function FRe(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,RW({connector:()=>new V8(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}),Qt(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let VRe=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=v(le);constructor(){}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,r){const i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new LRe(i)),this._observers.get(i).observe(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const BRe=["notch"],URe=["matFormFieldNotchedOutline",""],jRe=["*"],HRe=["textField"],zRe=["iconPrefixContainer"],$Re=["textPrefixContainer"],qRe=["iconSuffixContainer"],GRe=["textSuffixContainer"],WRe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],KRe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function QRe(n,e){1&n&&Dt(0,"span",20)}function YRe(n,e){if(1&n&&(U(0,"label",19),At(1,1),Fe(2,QRe,1,0,"span",20),F()),2&n){const t=Je(2);Ue("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),vt("for",t._control.disableAutomaticLabeling?null:t._control.id),te(2),Nn(!t.hideRequiredMarker&&t._control.required?2:-1)}}function XRe(n,e){1&n&&Fe(0,YRe,3,5,"label",19),2&n&&Nn(Je()._hasFloatingLabel()?0:-1)}function ZRe(n,e){1&n&&Dt(0,"div",7)}function JRe(n,e){}function exe(n,e){1&n&&Fe(0,JRe,0,0,"ng-template",13),2&n&&(Je(2),Ue("ngTemplateOutlet",Z_(1)))}function txe(n,e){if(1&n&&(U(0,"div",9),Fe(1,exe,1,1,null,13),F()),2&n){const t=Je();Ue("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),te(),Nn(t._forceDisplayInfixLabel()?-1:1)}}function nxe(n,e){1&n&&(U(0,"div",10,2),At(2,2),F())}function rxe(n,e){1&n&&(U(0,"div",11,3),At(2,3),F())}function ixe(n,e){}function oxe(n,e){1&n&&Fe(0,ixe,0,0,"ng-template",13),2&n&&(Je(),Ue("ngTemplateOutlet",Z_(1)))}function sxe(n,e){1&n&&(U(0,"div",14,4),At(2,4),F())}function axe(n,e){1&n&&(U(0,"div",15,5),At(2,5),F())}function lxe(n,e){1&n&&Dt(0,"div",16)}function cxe(n,e){1&n&&At(0,6)}function uxe(n,e){if(1&n&&(U(0,"mat-hint",21),K(1),F()),2&n){const t=Je(2);Ue("id",t._hintLabelId),te(),Mu(t.hintLabel)}}function dxe(n,e){1&n&&(Fe(0,uxe,2,2,"mat-hint",21),At(1,7),Dt(2,"div",22),At(3,8)),2&n&&Nn(Je().hintLabel?0:-1)}let EN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["mat-label"]]})}return n})();const Z9=new j("MatError");let hxe=(()=>{class n{id=v(La).getId("mat-mdc-error-");constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:[1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,i){2&r&&El("id",i.id)},inputs:{id:"id"},features:[Se([{provide:Z9,useExisting:n}])]})}return n})(),J9=(()=>{class n{align="start";id=v(La).getId("mat-mdc-hint-");static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){2&r&&(El("id",i.id),vt("align",null),Ye("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}})}return n})();const fxe=new j("MatPrefix"),e7=new j("MatSuffix");let pxe=(()=>{class n{set _isTextSelector(t){this._isText=!0}_isText=!1;static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[Se([{provide:e7,useExisting:n}])]})}return n})();const t7=new j("FloatingLabelParent");let n7=(()=>{class n{_elementRef=v(Oe);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=v(VRe);_ngZone=v(le);_parent=v(t7);_resizeSubscription=new Zt;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function mxe(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const r=t.scrollWidth;return t.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){2&r&&Ye("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const r7="mdc-line-ripple--active",YE="mdc-line-ripple--deactivating";let i7=(()=>{class n{_elementRef=v(Oe);_cleanupTransitionEnd;constructor(){const t=v(le),r=v(ai);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=r.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(YE),t.add(r7)}deactivate(){this._elementRef.nativeElement.classList.add(YE)}_handleTransitionEnd=t=>{const r=this._elementRef.nativeElement.classList,i=r.contains(YE);"opacity"===t.propertyName&&i&&r.remove(r7,YE)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),o7=(()=>{class n{_elementRef=v(Oe);_ngZone=v(le);open=!1;_notch;constructor(){}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(1&r&&Gn(BRe,5),2&r){let o;et(o=tt())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){2&r&&Ye("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:URe,ngContentSelectors:jRe,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){1&r&&(Io(),Dt(0,"div",1),U(1,"div",2,0),At(3),F(),Dt(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),s7=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n})}return n})();const a7=new j("MatFormField"),gxe=new j("MAT_FORM_FIELD_DEFAULT_OPTIONS");let vxe=(()=>{class n{_elementRef=v(Oe);_changeDetectorRef=v(Co);_dir=v(_c);_platform=v(Zn);_idGenerator=v(La);_ngZone=v(le);_injector=v(We);_defaults=v(gxe,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=_te(EN);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Yd(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance="fill";get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new he;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){const t=this._defaults;t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),this._animationsDisabled="NoopAnimations"===v(go,{optional:!0})}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Xi(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){const r=this._control,i="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(i+t.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(i+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=r.stateChanges.pipe(Of([void 0,void 0]),ve(()=>[r.errorState,r.userAriaDescribedBy]),function ORe(){return Jt((n,e)=>{let t,r=!1;n.subscribe(Bt(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}(),En(([[o,s],[a,l]])=>o!==a||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(Qt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Gd(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),r_(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Qt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Xi(()=>!!this._labelChild());_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getSubscriptMessageType()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=r?.getBoundingClientRect().width??0,l=i?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,u=s?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`,this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${a+l+c+u}px)`)}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,o){if(1&r&&(GB(o,i._labelChild,EN,5),Ar(o,s7,5),Ar(o,fxe,5),Ar(o,e7,5),Ar(o,Z9,5),Ar(o,J9,5)),2&r){let s;(function WB(n=1){Lg(fI()+n)})(),et(s=tt())&&(i._formFieldControl=s.first),et(s=tt())&&(i._prefixChildren=s),et(s=tt())&&(i._suffixChildren=s),et(s=tt())&&(i._errorChildren=s),et(s=tt())&&(i._hintChildren=s)}},viewQuery:function(r,i){if(1&r&&(Gn(HRe,5),Gn(zRe,5),Gn($Re,5),Gn(qRe,5),Gn(GRe,5),Gn(n7,5),Gn(o7,5),Gn(i7,5)),2&r){let o;et(o=tt())&&(i._textField=o.first),et(o=tt())&&(i._iconPrefixContainer=o.first),et(o=tt())&&(i._textPrefixContainer=o.first),et(o=tt())&&(i._iconSuffixContainer=o.first),et(o=tt())&&(i._textSuffixContainer=o.first),et(o=tt())&&(i._floatingLabel=o.first),et(o=tt())&&(i._notchedOutline=o.first),et(o=tt())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(r,i){2&r&&Ye("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Se([{provide:a7,useExisting:n},{provide:t7,useExisting:n}])],ngContentSelectors:KRe,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(1&r){const o=ts();Io(WRe),Fe(0,XRe,1,1,"ng-template",null,0,JT),U(2,"div",6,1),Le("click",function(a){return Mn(o),kn(i._control.onContainerClick(a))}),Fe(4,ZRe,1,0,"div",7),U(5,"div",8),Fe(6,txe,2,2,"div",9)(7,nxe,3,0,"div",10)(8,rxe,3,0,"div",11),U(9,"div",12),Fe(10,oxe,1,1,null,13),At(11),F(),Fe(12,sxe,3,0,"div",14)(13,axe,3,0,"div",15),F(),Fe(14,lxe,1,0,"div",16),F(),U(15,"div",17),GT(16),U(17,"div",18),Fe(18,cxe,1,0)(19,dxe,4,1),F()()}if(2&r){let o;te(2),Ye("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),te(2),Nn(i._hasOutline()||i._control.disabled?-1:4),te(2),Nn(i._hasOutline()?6:-1),te(),Nn(i._hasIconPrefix?7:-1),te(),Nn(i._hasTextPrefix?8:-1),te(2),Nn(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),te(2),Nn(i._hasTextSuffix?12:-1),te(),Nn(i._hasIconSuffix?13:-1),te(),Nn(i._hasOutline()?-1:14),te(),Ye("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing);const s=i._getSubscriptMessageType();te(2),Ye("mat-mdc-form-field-error-wrapper","error"===s)("mat-mdc-form-field-hint-wrapper","hint"===s),te(),Nn("error"===(o=s)?18:"hint"===o?19:-1)}},dependencies:[n7,o7,Hk,i7,J9],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}\n'],encapsulation:2,changeDetection:0})}return n})(),bxe=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Exe{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,r,i,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=o}updateErrorState(){const e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=r?.isErrorState(i,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}}const wxe=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Ixe=new j("MAT_INPUT_CONFIG");let Cxe=(()=>{class n{_elementRef=v(Oe);_platform=v(Zn);ngControl=v(Rs,{optional:!0,self:!0});_autofillMonitor=v(kRe);_ngZone=v(le);_formField=v(a7,{optional:!0});_renderer=v(ai);_uid=v(La).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=v(Ixe,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new he;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=Yd(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(PAe.required)??!1}set required(t){this._required=Yd(t)}_required;get type(){return this._type}set type(t){const r=this._type;this._type=t||"text",this._validateType(),!this._isTextarea&&X9().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==r&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Yd(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>X9().has(t));constructor(){const t=v(eh,{optional:!0}),r=v(Fm,{optional:!0}),i=v(bxe),o=v(NRe,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?MI(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Exe(i,this.ngControl,r,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===a,this._isTextarea="textarea"===a,this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&function pD(n,e){!e?.injector&&el();const t=e?.injector??v(We);let i,r=!0!==e?.manualCleanup?t.get(po):null;const o=t.get(n_,null,{optional:!0}),s=t.get(Yo);return null===o||e?.forceRoot?i=function Nae(n,e,t){const r=Object.create(Mae);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}(n,t.get(T2),s):(i=function Pae(n,e,t){const r=Object.create(kae);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[23]??=new Set,n[23].add(r),r.consumerMarkedDirty(r),r}(o.view,s,n),r instanceof N1&&r._lView===o.view&&(r=null)),i.injector=t,null!==r&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new xae(i)}(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){const r=this._elementRef.nativeElement;"number"===r.type?(r.type="text",r.setSelectionRange(0,0),r.type="number"):r.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){wxe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused&&!this.disabled||!this.empty}setDescribedByIds(t){const r=this._elementRef.nativeElement,i=r.getAttribute("aria-describedby");let o;if(i){const s=this._formFieldDescribedBy||t;o=t.concat(i.split(" ").filter(a=>a&&!s.includes(a)))}else o=t;this._formFieldDescribedBy=t,o.length?r.setAttribute("aria-describedby",o.join(" ")):r.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{const r=t.target;!r.value&&0===r.selectionStart&&0===r.selectionEnd&&(r.setSelectionRange(1,1),r.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Q({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(r,i){1&r&&Le("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&r&&(El("id",i.id)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),vt("name",i.name||null)("readonly",i._getReadonlyAttribute())("aria-disabled",i.disabled&&i.disabledInteractive?"true":null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Ye("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mat-mdc-input-disabled-interactive",i.disabledInteractive)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ht]},exportAs:["matInput"],features:[Se([{provide:s7,useExisting:n}]),Hn]})}return n})(),Txe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=yt({imports:[Jn,bN,bN,PRe,Jn]})}return n})();function Dxe(n,e){if(1&n){const t=ts();U(0,"button",7),Le("click",function(){return Mn(t),kn(Je().playerName="")}),U(1,"mat-icon"),K(2,"close"),F()()}}function Sxe(n,e){1&n&&(U(0,"mat-error"),K(1," Name cannot be empty. "),F())}let u7=(()=>{class n{dialogRef;playerService;playerName="";constructor(t,r){this.dialogRef=t,this.playerService=r,this.playerName=this.playerService.getPlayerName()||""}get isNameValid(){return this.playerName.trim().length>0}save(){this.isNameValid&&(this.playerService.setPlayerName(this.playerName.trim()),this.dialogRef.close(!0))}static \u0275fac=function(r){return new(r||n)(z(Wd),z(Mm))};static \u0275cmp=He({type:n,selectors:[["app-settings"]],decls:12,vars:3,consts:[[3,"ngSubmit"],["appearance","fill",2,"width","100%"],["matInput","","name","playerName","required","",3,"ngModelChange","ngModel"],["mat-icon-button","","matSuffix","","aria-label","Clear","tabindex","-1","type","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"dialog-buttons"],["mat-raised-button","","color","primary","type","submit"],["mat-icon-button","","matSuffix","","aria-label","Clear","tabindex","-1","type","button",3,"click"]],template:function(r,i){1&r&&(U(0,"h2"),K(1,"Settings"),F(),U(2,"form",0),Le("ngSubmit",function(){return i.save()}),U(3,"mat-form-field",1)(4,"mat-label"),K(5,"Player Name"),F(),U(6,"input",2),qT("ngModelChange",function(s){return function hU(n,e){const t=$1(n);return t&&n.set(e),t}(i.playerName,s)||(i.playerName=s),s}),F(),Fe(7,Dxe,3,0,"button",3)(8,Sxe,2,0,"mat-error",4),F(),U(9,"div",5)(10,"button",6),K(11,"Save"),F()()()),2&r&&(te(6),$T("ngModel",i.playerName),te(),Ue("ngIf",i.playerName),te(),Ue("ngIf",!i.isNameValid&&""!==i.playerName))},dependencies:[Ma,xa,CE,Em,bm,lDe,FW,OW,Txe,Cxe,vxe,EN,hxe,pxe,bN,RRe,M9,NE,g9,_9,QE,_N,eh],styles:["h2[_ngcontent-%COMP%]{margin-bottom:16px;font-weight:600;font-size:1.5rem;color:#3f51b5;text-align:center}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;max-width:360px;margin:0 auto}.dialog-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}button[type=submit][_ngcontent-%COMP%]{min-width:100px}"]})}return n})(),d7=(()=>{class n{dialogRef;constructor(t){this.dialogRef=t}static \u0275fac=function(r){return new(r||n)(z(Wd))};static \u0275cmp=He({type:n,selectors:[["app-cheat-sheet"]],decls:132,vars:0,consts:[["mat-dialog-title",""],[1,"cheat-sheet"],[1,"cheat-section"],[1,"detail"],[1,"how"],[1,"effect"],[1,"does"],["align","end"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(r,i){1&r&&(U(0,"h2",0),K(1,"\u{1f384} Combos & Events"),F(),U(2,"mat-dialog-content",1)(3,"section",2)(4,"h3"),K(5,"\u{1f517} Combos"),F(),U(6,"ul")(7,"li")(8,"strong"),K(9,"Bad Combo (1x)"),F(),U(10,"div",3)(11,"span",4),K(12,"How:"),F(),K(13," Only one match in a chain "),F(),U(14,"div",5)(15,"span",6),K(16,"Effect:"),F(),K(17," Hearing gets worse \u{1f442}(Symbols are swapped out for bad ones) "),F()(),U(18,"li")(19,"strong"),K(20,"3x+ Combos"),F(),U(21,"div",3)(22,"span",4),K(23,"How:"),F(),K(24," Get a combo chain of at least 3x "),F(),U(25,"div",5)(26,"span",6),K(27,"Effect:"),F(),K(28," Bonus point multiplier equal to combo chain (3x combo chain awards 3x points) "),F()(),U(29,"li")(30,"strong"),K(31,"5x+ Combo"),F(),U(32,"div",3)(33,"span",4),K(34,"How:"),F(),K(35," 5 or more matches in one chain "),F(),U(36,"div",5)(37,"span",6),K(38,"Effect:"),F(),K(39," Extra Shuffle added \u{1f500} "),F()()()(),U(40,"section",2)(41,"h3"),K(42,"\u{1f4cf} Big Matches"),F(),U(43,"ul")(44,"li")(45,"strong"),K(46,"Big Match"),F(),U(47,"div",3)(48,"span",4),K(49,"How:"),F(),K(50," Match 5+ connected symbols "),F(),U(51,"div",5)(52,"span",6),K(53,"Effect:"),F(),K(54," Both Mom\u2019s phones ring, duplicating symbols for double points "),F()()()(),U(55,"section",2)(56,"h3"),K(57,"\u{1f525} Special Events"),F(),U(58,"ul")(59,"li")(60,"strong"),K(61,"Hearing Loss"),F(),U(62,"div",3)(63,"span",4),K(64,"How:"),F(),K(65," Bad combo (1x) "),F(),U(66,"div",5)(67,"span",6),K(68,"Effect:"),F(),K(69," Mom can't hear the tiles which causes them to swap symbols "),F()(),U(70,"li")(71,"strong"),K(72,"Burning"),F(),U(73,"div",3)(74,"span",4),K(75,"How:"),F(),K(76," Match \u{1f36a} symbols "),F(),U(77,"div",5)(78,"span",6),K(79,"Effect:"),F(),K(80," Cookies get burnt and the board is set on fire "),F()(),U(81,"li")(82,"strong"),K(83,"Carousel"),F(),U(84,"div",3)(85,"span",4),K(86,"How:"),F(),K(87," Match \u{1f3a0} symbols "),F(),U(88,"div",5)(89,"span",6),K(90,"Effect:"),F(),K(91," Starts the ride on the carousel, causing the board to spin the rows and realign the tiles "),F()(),U(92,"li")(93,"strong"),K(94,"Two Phones \u{1f4f1}\u{1f4f1}"),F(),U(95,"div",3)(96,"span",4),K(97,"How:"),F(),K(98," Big match (5+ connected) "),F(),U(99,"div",5)(100,"span",6),K(101,"Effect:"),F(),K(102," All symbols are duplicated, doubling all points "),F()()()(),U(103,"section",2)(104,"h3"),K(105,"\u{1f4a3} Power-Ups"),F(),U(106,"ul")(107,"li")(108,"strong"),K(109,"Bomb"),F(),U(110,"div",3)(111,"span",4),K(112,"How:"),F(),K(113," Earned by matching \u2b50 "),F(),U(114,"div",5)(115,"span",6),K(116,"Effect:"),F(),K(117," Clears a random 3x3 area "),F()(),U(118,"li")(119,"strong"),K(120,"Shuffle"),F(),U(121,"div",3)(122,"span",4),K(123,"How:"),F(),K(124," 5x combo or higher "),F(),U(125,"div",5)(126,"span",6),K(127,"Effect:"),F(),K(128," Randomizes the board "),F()()()()(),U(129,"mat-dialog-actions",7)(130,"button",8),K(131," Got it! "),F()())},dependencies:[CE,u8,h8,p8,f8,Em,bm],styles:[".cheat-sheet[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.cheat-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.05rem;letter-spacing:.3px}.cheat-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.cheat-section[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid rgba(255,255,255,.12)}.cheat-section[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.cheat-section[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:1rem;margin-bottom:4px}.detail[_ngcontent-%COMP%], .effect[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.4;opacity:.85}.detail[_ngcontent-%COMP%]{margin-bottom:4px}.how[_ngcontent-%COMP%]{font-weight:600;color:#8fd3ff;margin-right:4px}.does[_ngcontent-%COMP%]{font-weight:600;color:#ffd27d;margin-right:4px}mat-dialog-content[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto}mat-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}mat-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff40;border-radius:3px}"]})}return n})();var Me=function(n){return n.Uninitialized="Uninitialized",n.Idle="Idle",n.Swapping="Swapping",n.ResolvingMatches="ResolvingMatches",n.ResolvingDrop="ResolvingDrop",n.Filling="Filling",n.Shuffling="Shuffling",n.Bomb="Bomb",n}(Me||{});const Axe={[Me.Uninitialized]:[Me.Uninitialized,Me.Idle],[Me.Idle]:[Me.Idle,Me.Swapping,Me.ResolvingMatches,Me.Shuffling,Me.Bomb,Me.Uninitialized],[Me.Swapping]:[Me.ResolvingMatches,Me.Idle],[Me.ResolvingMatches]:[Me.ResolvingDrop,Me.Idle],[Me.ResolvingDrop]:[Me.Filling],[Me.Filling]:[Me.ResolvingMatches,Me.Idle],[Me.Shuffling]:[Me.ResolvingMatches,Me.Idle],[Me.Bomb]:[Me.ResolvingMatches,Me.Idle]},xxe={"\u{1f36a}":["\u{1f36a}: Burnt Cookies &%#@!"],"\u{1f30f}":["\u{1f30f}: My Team Lost... Again :("],"\u{1f525}":["\u{1f468}\u{1f3fc}\u200d\u{1f373}: Your a Doughnut!","\u{1f468}\u{1f3fc}\u200d\u{1f373}: Idiot Sandwich","\u{1f468}\u{1f3fc}\u200d\u{1f373}: ITS RAW","\u{1f468}\u{1f3fc}\u200d\u{1f373}: Scalaps are undercooked","\u{1f468}\u{1f3fc}\u200d\u{1f373}: ITS STILL MOOING","\u{1f468}\u{1f3fc}\u200d\u{1f373}: Where`s the lamb sauce?","\u{1f468}\u{1f3fc}\u200d\u{1f373}: Seasoned beautifully"],"\u{1f3a0}":["\u{1f3a0}: Lets Ride the Carousel!"],"\u2b50":["\u2b50: NO, I am your MOTHER!","\u2b50: Use the force!","\u2b50: Its a trap!","\u2b50: Lack of combos is Disturbing"],"\u{1f608}":["\u{1f608}: Go GeT YoUr LaUnDrY!!!","\u{1f608}: Do ThE DiShEs!!!","\u{1f608}: GoInG tO tHe CaR!!!"]};class _r{row;col;constructor(e,t){this.row=e,this.col=t}add(e){return new _r(this.row+e.row,this.col+e.col)}sub(e){return new _r(this.row-e.row,this.col-e.col)}multiply(e){return new _r(this.row*e,this.col*e)}abs(){return new _r(Math.abs(this.row),Math.abs(this.col))}equals(e){return this.row===e.row&&this.col===e.col}isValid(e,t){return this.row>=0&&this.row<e&&this.col>=0&&this.col<t}clone(){return new _r(this.row,this.col)}}var Xt=function(n){return n.UP="UP",n.DOWN="DOWN",n.LEFT="LEFT",n.RIGHT="RIGHT",n}(Xt||{});class XE{name;delta;opposite;constructor(e,t,r){this.name=e,this.delta=t,this.opposite=r}static fromName(e){return Vm[e]}addTo(e,t=1){return e.add(this.delta.multiply(t))}}const Vm={[Xt.UP]:new XE(Xt.UP,new _r(-1,0),Xt.DOWN),[Xt.DOWN]:new XE(Xt.DOWN,new _r(1,0),Xt.UP),[Xt.LEFT]:new XE(Xt.LEFT,new _r(0,-1),Xt.RIGHT),[Xt.RIGHT]:new XE(Xt.RIGHT,new _r(0,1),Xt.LEFT)};function ZE(n){return Vm[n].delta}function h7(n){if(n)return{x:`${n.delta.col}px`,y:`${n.delta.row}px`}}function f7(n,e){const t=new _r(e.row-n.row,e.col-n.col);for(const r of Object.values(Vm))if(r.delta.equals(t))return r}function kxe(n,e,t){return t?.[n]?.[e]??qd.Normal}class nh{rows;cols;cells;constructor(e,t,r){this.rows=e,this.cols=t,this.cells=r}getIndex(e,t){return e instanceof _r?e.row*this.cols+e.col:"number"==typeof e&&"number"==typeof t?e*this.cols+t:void 0}getCell(e,t){if(e instanceof _r)return this.getCell(e.row,e.col);if("number"==typeof e&&"number"==typeof t){if(!new _r(e,t).isValid(this.rows,this.cols))return;const i=this.getIndex(e,t);return void 0===i?void 0:this.cells[i]}}getColumn(e){const t=[];for(let r=0;r<this.rows;r++){const i=this.getCell(r,e);i&&t.push(i)}return t}getRow(e){const t=[];for(let r=0;r<this.cols;r++){const i=this.getCell(e,r);i&&t.push(i)}return t}getRunLength(e,t){const r=this.getCell(e);if(!r?.symbol)return 0;const i=r.symbol.kind;let o=1,s=e.add(t);for(;this.isValidPosition(s);){const a=this.getCell(s);if(!a?.symbol||a.symbol.kind!==i)break;o++,s=s.add(t)}return o}updateCells(e){const t=this.cells.map(r=>e.find(o=>o.pos.equals(r.pos))??r);return new nh(this.rows,this.cols,t)}isValidPosition(e){return e.row>=0&&e.row<this.rows&&e.col>=0&&e.col<this.cols}}function wN(n){return{id:crypto.randomUUID(),kind:n??L6(new Set)}}let p7=(()=>{class n{animationService;_board$=new It(null);board$=this._board$.asObservable();constructor(t){this.animationService=t}get board(){return this._board$.getValue()}updateBoard(t){this._board$.next(t)}initBoard(t){const r=this.createNewBoard(t);this.updateBoard(this.seedBoard(r))}createNewBoard({rows:t,cols:r,layout:i}){const o=[];for(let s of function*Pxe(n,e){for(let t=0;t<n;t++)for(let r=0;r<e;r++)yield new _r(t,r)}(t,r))o.push(new qk(s,s.row*r+s.col,kxe(s.row,s.col,i)));return new nh(t,r,o)}seedBoard(t){let r=t;for(let i=0;i<t.cols;i++)r=this.fillColumn(r,i);return r}fillColumn(t,r){let i=t;const o=t.getColumn(r).filter(s=>s.type===qd.Normal);for(const s of o){let a,c=0;do{a=Wk(),c++}while(this.causesMatch(i,s,a)&&c<10);const u=s.withSymbol(wN(a));i=i.updateCells([u])}return i}swapCells(t,r,i){const o=t.cells.map(s=>s.pos.equals(r.pos)?s.withSymbol(i.symbol):s.pos.equals(i.pos)?s.withSymbol(r.symbol):s);return new nh(t.rows,t.cols,o)}clearCells(t,r){const i=t.cells.map(o=>r.some(s=>s.pos.equals(o.pos))?o.withSymbol(void 0):o);return new nh(t.rows,t.cols,i)}rotateRow(t,r,i){const o=t.getRow(r),s=o.map(c=>c.symbol),a=i===Xt.LEFT?[...s.slice(1),s[0]]:[s[s.length-1],...s.slice(0,-1)],l=o.map((c,u)=>c.withSymbol(a[u]));return t.updateCells(l)}shuffleBoard(t){if(!t)return t;const r=t.cells.filter(o=>o.symbol).map(o=>o.symbol);for(let o=r.length-1;o>0;o--){const s=Math.floor(Math.random()*(o+1));[r[o],r[s]]=[r[s],r[o]]}const i=t.cells.map(o=>{if(o.symbol){const s=r.pop();return o.withSymbol(s)}return o});return new nh(t.rows,t.cols,i)}getBomb(t){const r=this.getRandomInt(1,t.rows-2),i=this.getRandomInt(1,t.cols-2),o=[];for(let s=r-1;s<=r+1;s++)for(let a=i-1;a<=i+1;a++){const l=t.getCell(new _r(s,a));l&&l.symbol&&o.push(l)}return o}animateSwap(t,r){var i=this;return w(function*(){if(!t.symbol||!r.symbol||!f7(t.pos,r.pos))return!1;const s=f7(t.pos,r.pos),a=function Mxe(n){if(n)return Vm[n.opposite]}(s),l=h7(s),c=h7(a);return yield i.animationService.play([{symbolId:t.symbol.id,renderMode:be.Move,params:{x:l?.x??"0px",y:l?.y??"0px"}},{symbolId:r.symbol.id,renderMode:be.Move,params:{x:c?.x??"0px",y:c?.y??"0px"}}]),!0})()}animateClear(t){var r=this;return w(function*(){const i=t.filter(o=>o.symbol);0!==i.length&&(yield r.animationService.play(i.map(o=>({symbolId:o.symbol.id,renderMode:be.Clearing}))))})()}animateDrop(t,r){var i=this;return w(function*(){const o=Array.from({length:t.cols}).flatMap((s,a)=>{const l=t.getColumn(a),c=r.getColumn(a);return l.map((u,h)=>{if(!u.symbol)return null;const f=c.findIndex(y=>y.symbol?.id===u.symbol.id);if(-1===f)return null;const p=f-h;return p<=0?null:{symbolId:u.symbol.id,renderMode:be.Move,params:{x:"0px",y:`${p}px`}}}).filter(u=>null!==u)});0!==o.length&&(yield i.animationService.play(o))})()}animateCreate(t){var r=this;return w(function*(){const i=t.map(o=>({symbolId:o.symbol.id,renderMode:be.Creating,params:{}}));0!==i.length&&(yield r.animationService.play(i))})()}animateCarousel(t){var r=this;return w(function*(){const i=[];for(let o=0;o<t.rows;o++){const s=o%2==0?Xt.RIGHT:Xt.LEFT,a=t.getRow(o).filter(l=>l.symbol);i.push(...a.map(l=>({symbolId:l.symbol.id,renderMode:be.Move,params:{x:s===Xt.LEFT?"-1px":"1px",y:"0px"}})))}yield r.animationService.play(i)})()}animateFadeOut(t){var r=this;return w(function*(){const i=t.cells.filter(o=>o.symbol);0!==i.length&&(yield r.animationService.play(i.map(o=>({symbolId:o.symbol.id,renderMode:be.FadeOut}))))})()}animateFadeIn(t){var r=this;return w(function*(){const i=t.cells.filter(o=>o.symbol);0!==i.length&&(yield r.animationService.play(i.map(o=>({symbolId:o.symbol.id,renderMode:be.FadeIn}))))})()}pickSymbolForCell(t,r){const i=new Set,o=this.checkMatchInDirection(t,r,ZE(Xt.LEFT));o&&i.add(o);const s=this.checkMatchInDirection(t,r,ZE(Xt.UP));return s&&i.add(s),L6(i)}checkMatchInDirection(t,r,i,o=2){return r.symbol&&t.getRunLength(r.pos,i)>=o+1?r.symbol.kind:null}detectMatches(t=this.board){if(!t)return[];const r=this.scanMatchesInDirection(t,ZE(Xt.RIGHT)),i=this.scanMatchesInDirection(t,ZE(Xt.DOWN)),o=new Set([...r,...i]);return Array.from(o)}scanMatchesInDirection(t,r){if(!t||!t.cells)return new Set;const i=new Set;for(const o of t.cells){if(!o.symbol)continue;const s=o.pos.add(r.multiply(-1));if(t.getCell(s)?.getSymbolKind()===o.symbol.kind)continue;const l=t.getRunLength(o.pos,r);if(l>=3)for(let c=0;c<l;c++){const u=o.pos.add(r.multiply(c)),h=t.getCell(u);h&&i.add(h)}}return i}applyGravity(t){let r=t;for(let i=0;i<t.cols;i++){const o=t.getColumn(i),s=o.filter(h=>h.symbol).map(h=>h.symbol),c=[...Array.from({length:o.length-s.length},()=>wN()),...s],u=o.map((h,f)=>h.withSymbol(c[f]));r=r.updateCells(u)}return r}detectNewSymbols(t,r){const i=new Set;for(const o of t.cells)o.symbol&&i.add(o.symbol.id);return r.cells.filter(o=>o.symbol&&!i.has(o.symbol.id))}causesMatch(t,r,i){const o=r.withSymbol(wN(i)),s=t.updateCells([o]);return this.detectMatches(s).some(l=>l.pos.equals(r.pos))}getRandomInt(t,r){return Math.floor(Math.random()*(r-t+1))+t}static \u0275fac=function(r){return new(r||n)(ae(V6))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nxe=(()=>{class n{playerService;boardService;eventService;dialogService;_phase$=new It(Me.Uninitialized);phase$=this._phase$.asObservable();_score$=new It(0);score$=this._score$.asObservable();canInteract$=this.phase$.pipe(ve(t=>t===Me.Idle));_shuffleCount$=new It(1);shuffleCount$=this._shuffleCount$.asObservable();_bombCount$=new It(1);bombCount$=this._bombCount$.asObservable();setShuffleCount(t){this._shuffleCount$.next(t)}setBombCount(t){this._bombCount$.next(t)}eventSub;twoPhones=!1;constructor(t,r,i,o){this.playerService=t,this.boardService=r,this.eventService=i,this.dialogService=o,this.eventSub=this.eventService.events$.subscribe(s=>{switch(s.type){case Ae.TWO_PHONES:this.twoPhones=!0;break;case Ae.TWO_PHONES_CLEAR:this.twoPhones=!1}})}setPhase(t){const r=this._phase$.getValue();if(!function Rxe(n,e){return Axe[n]?.includes(e)??!1}(r,t))throw new Error(`Invalid phase transition: ${r} \u2192 ${t}`);console.log("Changing phase",t),this._phase$.next(t)}get score(){return this._score$.getValue()}set score(t){this._score$.next(t)}addScore(t,r){this.score=this.score+10*t.length*r*(this.twoPhones?2:1)}startGame(t){var r=this;return w(function*(){r.setPhase(Me.Uninitialized),r.boardService.initBoard(t),r.score=0,r.setPhase(Me.Idle),yield r.resolveMatches()})()}playerSwap(t,r){var i=this;return w(function*(){if(i._phase$.getValue()!==Me.Idle)return!1;const o=i.boardService.board;if(!o)return!1;if(i.setPhase(Me.Swapping),!(yield i.boardService.animateSwap(t,r)))return i.boardService.updateBoard(o),i.setPhase(Me.Idle),!1;const a=i.boardService.swapCells(o,t,r);return i.boardService.updateBoard(a),0===i.boardService.detectMatches(a).length?(i.dialogService.showDialog("Bite Me!",4e3),i.dialogService.showNotifications("No matches.",5e3),yield i.boardService.animateSwap(a.getCell(t.pos),a.getCell(r.pos)),i.boardService.updateBoard(o),i.setPhase(Me.Idle),!1):(yield i.resolveMatches(),!0)})()}resolveMatches(t){var r=this;return w(function*(){let i=t??r.boardService.detectMatches(),o=0;for(;i.length>0;){o+=1,r.setPhase(Me.ResolvingMatches),yield r.boardService.animateClear(i);const s=r.boardService.clearCells(r.boardService.board,i);r.boardService.updateBoard(s),r.addScore(i,o),r.setPhase(Me.ResolvingDrop);const a=r.boardService.applyGravity(s);yield r.boardService.animateDrop(s,a),r.boardService.updateBoard(a),r.setPhase(Me.Filling);const l=r.boardService.detectNewSymbols(s,a);yield r.boardService.animateCreate(l),Math.random()<.25&&r.triggerDialogForMatches(i),Math.random()<.1&&(r.containsSymbol(i,"\u{1f36a}")&&r.tryTriggerEvent(Ae.BURN),r.containsSymbol(i,"\u{1f3a0}")&&r.tryTriggerEvent(Ae.CAROUSEL)&&(yield r.triggerCarousel()),r.containsSymbol(i,"\u2b50")&&(r.dialogService.showNotifications("Awarded \u{1f4a3}",5e3),r.setBombCount(r._bombCount$.getValue()+1))),r.checkComboEvents(o,i),i=r.boardService.detectMatches(r.boardService.board)}r.setPhase(Me.Idle)})()}triggerDialogForMatches(t){if(0===t.length)return;const r=t.reduce((a,l)=>{const c=l.getSymbolKind();return c&&(a[c]=(a[c]||0)+1),a},{}),[i]=Object.entries(r).sort((a,l)=>l[1]-a[1])[0]??[];if(!i)return;const o=xxe[i];if(!o?.length)return;const s=o[Math.floor(Math.random()*o.length)];this.dialogService.showDialog(s,4e3)}checkComboEvents(t,r){if(1!==t||!this.tryTriggerEvent(Ae.HEARING)){if(3===t)this.dialogService.showNotifications("Combo x3! Nice streak!",4e3);else if(4===t)this.dialogService.showNotifications("Combo x4! Crushing it!",4e3);else if(t>=5)return this.dialogService.showNotifications("Combo x5! Legendary! Awarded \u{1f500}",4e3),void this.setShuffleCount(this._shuffleCount$.getValue()+1);this.groupMatchesByClusters(r).filter(s=>s.length>=5).length>0&&(this.dialogService.showNotifications("Big Match!! Wow!!!",4e3),this.tryTriggerEvent(Ae.TWO_PHONES)&&this.dialogService.showDialog("\u{1f4de}\u{1f4de}\u{1f3b6}: Mom has 2 phones",4e3))}}groupMatchesByClusters(t){const r=[],i=new Set,o=a=>`${a.pos.row},${a.pos.col}`,s=(a,l)=>a.isAdjacent(l)&&a.getSymbolKind()===l.getSymbolKind();for(const a of t){if(i.has(o(a)))continue;const l=[],c=[a];for(i.add(o(a));c.length>0;){const u=c.pop();l.push(u);for(const h of t)!i.has(o(h))&&s(u,h)&&(i.add(o(h)),c.push(h))}r.push(l)}return r}triggerCarousel(){var t=this;return w(function*(){for(;t.eventService.currentEvent===Ae.CAROUSEL;){const r=t.boardService.board;if(!r)return;yield t.boardService.animateCarousel(r);let i=r;for(let o=0;o<r.rows;o++)i=t.boardService.rotateRow(i,o,o%2==0?Xt.RIGHT:Xt.LEFT);t.boardService.updateBoard(i),yield new Promise(o=>setTimeout(o,10))}})()}containsSymbol(t,r){return t.some(i=>i.getSymbolKind()===r)}shuffleBoard(){var t=this;return w(function*(){const r=t.boardService.board;if(!r)return;if(t._shuffleCount$.getValue()<=0)return t.dialogService.showDialog("Aw, FART",4e3),t.dialogService.showNotifications("No shuffles available!",5e3),void t.setPhase(Me.Idle);if(!t.eventService.emit(_m[Ae.SHUFFLE]))return void t.dialogService.showNotifications("Not Right Now",5e3);t.setPhase(Me.Shuffling),t.dialogService.showDialog("\u{1f4de}: Can I get a Board Refund?",4e3),t.setShuffleCount(t._shuffleCount$.getValue()-1),yield t.boardService.animateFadeOut(r);const i=t.boardService.shuffleBoard(r);t.boardService.updateBoard(i),yield t.boardService.animateFadeIn(i),yield t.resolveMatches()})()}useBomb(){var t=this;return w(function*(){const r=t.boardService.board;if(!r)return!1;if(t._bombCount$.getValue()<=0)return t.dialogService.showDialog("Aw, FART",4e3),t.dialogService.showNotifications("No bombs available!",5e3),!1;if(!t.eventService.emit(_m[Ae.BOMB]))return t.dialogService.showNotifications("Not Right Now",5e3),!1;t.setPhase(Me.Bomb),t.dialogService.showDialog("\u26a1\ufe0f: UNLIMITED MOM POWER!!",4e3),t.setBombCount(t._bombCount$.getValue()-1);const i=t.boardService.getBomb(r);return yield t.resolveMatches(i),!0})()}tryTriggerEvent(t){const r=_m[t];return!(!r||Math.random()>r.chance)&&this.eventService.emit(r)}static \u0275fac=function(r){return new(r||n)(ae(Mm),ae(p7),ae(Qk),ae(Kk))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Oxe=["boardArea"];function Fxe(n,e){1&n&&Dt(0,"img",20)}function Lxe(n,e){if(1&n&&(U(0,"div",21),K(1),F()),2&n){const t=Je();te(),Wr(" ",t.dialogMessage," ")}}function Vxe(n,e){if(1&n&&(U(0,"div",22),K(1),F()),2&n){const t=Je();te(),Wr(" ",t.notification," ")}}function Bxe(n,e){if(1&n&&(U(0,"span",23),K(1),F()),2&n){const t=e.ngIf;te(),Mu(t)}}function Uxe(n,e){if(1&n&&(U(0,"span",23),K(1),F()),2&n){const t=e.ngIf;te(),Mu(t)}}function jxe(n,e){if(1&n){const t=ts();U(0,"div",24)(1,"h2"),K(2,"Game Paused"),F(),U(3,"button",25),Le("click",function(){return Mn(t),kn(Je().resumeGame())}),K(4,"Resume"),F(),U(5,"button",26),Le("click",function(){return Mn(t),kn(Je().openLeaderboard())}),K(6,"Leaderboard"),F(),U(7,"button",26),Le("click",function(){return Mn(t),kn(Je().cheatSheet())}),K(8,"Cheat Sheet"),F(),U(9,"button",27),Le("click",function(){return Mn(t),kn(Je().openSettings())}),K(10,"Settings"),F(),U(11,"button",28),Le("click",function(){return Mn(t),kn(Je().quitGame())}),K(12,"Return to Home"),F()()}}let Hxe=(()=>{class n{authService;playerService;gameService;boardService;dialogService;eventService;dialog;boardArea;quit=new ot;currentGameSessionId="";tileSizePx=32;GAP_PX=4;board=null;selectedCell=null;canInteract=!1;isPaused=!1;score=0;lastSaveTs=0;dialogMessage=null;notification=null;isHearing=!0;isBurning=!1;bombActive=!1;get isTalking(){return!!this.dialogMessage}destroy$=new he;constructor(t,r,i,o,s,a,l){this.authService=t,this.playerService=r,this.gameService=i,this.boardService=o,this.dialogService=s,this.eventService=a,this.dialog=l}ngOnInit(){var t=this;return w(function*(){t.boardService.board$.pipe(Qt(t.destroy$)).subscribe(r=>{t.board=r}),t.gameService.score$.pipe(Qt(t.destroy$)).subscribe(r=>{t.score=r}),t.gameService.canInteract$.pipe(Qt(t.destroy$)).subscribe(r=>{t.canInteract=r}),t.dialogService.dialogText$.pipe(Qt(t.destroy$)).subscribe(r=>{t.dialogMessage=r}),t.dialogService.notifications$.pipe(Qt(t.destroy$)).subscribe(r=>{t.notification=r}),t.eventService.events$.pipe(Qt(t.destroy$)).subscribe(r=>{switch(r.type){case Ae.BURN:t.isBurning=!0;break;case Ae.BURN_CLEAR:t.isBurning=!1;break;case Ae.HEARING:t.isHearing=!1;break;case Ae.HEARING_CLEAR:t.isHearing=!0}}),yield t.authService.init(),yield t.playerService.syncLocalToGlobal(),t.playerService.getPlayerName()?t.startGame():t.promptSettingsAndStartGame(),window.addEventListener("beforeunload",t.saveHighScoreOnExit)})()}ngOnDestroy(){window.removeEventListener("beforeunload",this.saveHighScoreOnExit),this.destroy$.next(),this.destroy$.complete()}startGame(){this.currentGameSessionId=Date.now().toString(),this.gameService.startGame(ATe_board),this.calculateTileSize()}promptSettingsAndStartGame(){this.openSettings().afterClosed().subscribe(()=>{this.handleSettingsClosed()})}saveHighScoreOnExit=()=>{this.currentGameSessionId&&(this.playerService.addScore(this.score,this.currentGameSessionId),this.playerService.syncLocalToGlobal())};onResize(){this.calculateTileSize()}calculateTileSize(){if(!this.boardArea||!this.board)return;const t=this.boardArea.nativeElement,o=this.board.cols,s=this.board.rows;this.tileSizePx=Math.floor(Math.min((t.clientWidth-(o-1)*this.GAP_PX)/o,(t.clientHeight-(s-1)*this.GAP_PX)/s))}onCellClick(t){var r=this;return w(function*(){if(r.canInteract){if(!r.selectedCell)return void(r.selectedCell=t);if(r.selectedCell.index===t.index)return void(r.selectedCell=null);if(!r.selectedCell.isAdjacent(t))return void(r.selectedCell=t);yield r.gameService.playerSwap(r.selectedCell,t),r.saveScoreIfNeeded(),r.selectedCell=null}})()}onShuffleClick(){var t=this;return w(function*(){t.canInteract&&(yield t.gameService.shuffleBoard(),t.saveScoreIfNeeded())})()}onBombClick(){var t=this;return w(function*(){t.canInteract&&(t.bombActive=!0,yield t.gameService.useBomb(),t.saveScoreIfNeeded(),t.bombActive=!1)})()}resumeGame(){this.isPaused=!1,console.log("Game resumed")}openLeaderboard(){this.isPaused=!1,this.playerService.addScore(this.score,this.currentGameSessionId),this.playerService.syncLocalToGlobal(),this.dialog.open(q8,{width:"90%",maxWidth:"600px",disableClose:!1})}cheatSheet(){this.isPaused=!1,this.playerService.addScore(this.score,this.currentGameSessionId),this.playerService.syncLocalToGlobal(),this.dialog.open(d7,{width:"90%",maxWidth:"600px",disableClose:!1})}openSettings(){this.isPaused=!1;const t=this.dialog.open(u7,{width:"90%",maxWidth:"400px",disableClose:!0});return t.afterClosed().subscribe(()=>{this.handleSettingsClosed()}),t}handleSettingsClosed(){this.playerService.getPlayerName()?(this.playerService.addScore(this.score,this.currentGameSessionId),this.playerService.syncLocalToGlobal(),this.currentGameSessionId||this.startGame()):this.promptSettingsAndStartGame()}saveScoreIfNeeded(){const t=Date.now();t-this.lastSaveTs<3e3||(this.lastSaveTs=t,this.playerService.addScore(this.score,this.currentGameSessionId),this.playerService.syncLocalToGlobal())}quitGame(){this.playerService.addScore(this.score,this.currentGameSessionId),this.playerService.syncLocalToGlobal(),this.quit.emit()}static \u0275fac=function(r){return new(r||n)(z($8),z(Mm),z(Nxe),z(p7),z(Kk),z(Qk),z(Sm))};static \u0275cmp=He({type:n,selectors:[["app-game-page"]],viewQuery:function(r,i){if(1&r&&Gn(Oxe,7),2&r){let o;et(o=tt())&&(i.boardArea=o.first)}},hostBindings:function(r,i){1&r&&Le("resize",function(){return i.onResize()},0,yL)},outputs:{quit:"quit"},decls:32,vars:26,consts:[["boardArea",""],[1,"game-container"],[1,"game-header"],[1,"score-display"],["mat-mini-fab","","color","primary",3,"click"],[1,"board-area"],[3,"cellClick","board","tileSizePx","selectedCellIndex"],["src","assets/lightning.webp","alt","Lightning animation","class","lightning-overlay",4,"ngIf"],[1,"bottom-bar"],[1,"side-panel"],[1,"panel-avatar"],["src","assets/avatars/mom-droid.png","alt","Droid Avatar",1,"droid-avatar"],[1,"panel-right"],["class","panel-content dialog",4,"ngIf"],["class","panel-content notifications",4,"ngIf"],[1,"game-footer"],["mat-mini-fab","","color","primary","aria-label","Shuffle",3,"click"],["class","count",4,"ngIf"],["mat-mini-fab","","color","warn","aria-label","Bomb",3,"click"],["class","overlay pause-menu",4,"ngIf"],["src","assets/lightning.webp","alt","Lightning animation",1,"lightning-overlay"],[1,"panel-content","dialog"],[1,"panel-content","notifications"],[1,"count"],[1,"overlay","pause-menu"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","","color","accent",3,"click"],["mat-stroked-button","",3,"click"],["mat-stroked-button","","color","warn",3,"click"]],template:function(r,i){if(1&r){const o=ts();U(0,"div",1)(1,"header",2)(2,"h1"),K(3,"Mom's Xmas Swap"),F(),U(4,"div",3),K(5),F(),U(6,"button",4),Le("click",function(){return Mn(o),kn(i.isPaused=!0)}),U(7,"mat-icon"),K(8,"pause"),F()()(),U(9,"section",5,0)(11,"app-board",6),Le("cellClick",function(a){return Mn(o),kn(i.onCellClick(a))}),F(),Fe(12,Fxe,1,0,"img",7),F(),U(13,"div",8)(14,"section",9)(15,"div",10),Dt(16,"img",11),F(),U(17,"div",12),Fe(18,Lxe,2,1,"div",13)(19,Vxe,2,1,"div",14),F()(),U(20,"footer",15)(21,"button",16),Le("click",function(){return Mn(o),kn(i.onShuffleClick())}),U(22,"mat-icon"),K(23,"shuffle"),F(),Fe(24,Bxe,2,1,"span",17),Cf(25,"async"),F(),U(26,"button",18),Le("click",function(){return Mn(o),kn(i.onBombClick())}),U(27,"mat-icon"),K(28,"whatshot"),F(),Fe(29,Uxe,2,1,"span",17),Cf(30,"async"),F()()(),Fe(31,jxe,13,0,"div",19),F()}if(2&r){let o;te(5),Wr("Score: ",i.score,""),te(4),Ye("misheard",!i.isHearing)("burning",i.isBurning)("bomb",i.bombActive),te(2),Ue("board",i.board)("tileSizePx",i.tileSizePx)("selectedCellIndex",null!==(o=null==i.selectedCell?null:i.selectedCell.index)&&void 0!==o?o:null),te(),Ue("ngIf",i.bombActive),te(3),Ye("bounce",i.isTalking),te(3),Ue("ngIf",i.dialogMessage),te(),Ue("ngIf",i.notification),te(2),Ye("disabled",!i.canInteract),te(3),Ue("ngIf",XT(25,22,i.gameService.shuffleCount$)),te(2),Ye("disabled",!i.canInteract),te(3),Ue("ngIf",XT(30,24,i.gameService.bombCount$)),te(2),Ue("ngIf",i.isPaused)}},dependencies:[Ma,xa,k6,DTe,Em,bm,MDe,FW,OW,CE],styles:['@charset "UTF-8";.game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;padding:16px;box-sizing:border-box;background-color:#1e1e2f;color:#fff;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.game-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.game-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.5rem,4vw,2.5rem);margin:0}.game-header[_ngcontent-%COMP%]   .score-display[_ngcontent-%COMP%]{font-weight:700;font-size:clamp(1rem,3vw,1.5rem)}.board-area[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;justify-content:center;align-items:center;position:relative;overflow:hidden;background-color:#3c3c54;border:2px solid rgba(255,255,255,.15);border-radius:16px;padding:12px;box-sizing:border-box}.board-area.misheard[_ngcontent-%COMP%]{filter:blur(.75px) saturate(.75) contrast(.9);animation:_ngcontent-%COMP%_boardSway 2s ease-in-out infinite}.board-area.misheard[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;pointer-events:none;background:linear-gradient(#ffffff0d,#ffffff0d);opacity:.2;animation:_ngcontent-%COMP%_muffledWobble 1.8s ease-in-out infinite}@keyframes _ngcontent-%COMP%_muffledWobble{0%,to{transform:translate(0)}50%{transform:translate(2px)}}@keyframes _ngcontent-%COMP%_boardSway{0%,to{transform:translate(0)}50%{transform:translate(1.5px)}}.board-area.burning[_ngcontent-%COMP%]{box-shadow:0 0 24px #ff780099,inset 0 0 32px #ff500059;animation:_ngcontent-%COMP%_burnShake .25s infinite}.board-area.burning[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:inherit;pointer-events:none;background:radial-gradient(circle at bottom,rgba(255,140,0,.45),rgba(255,60,0,.25),transparent 70%);animation:_ngcontent-%COMP%_firePulse 1.2s ease-in-out infinite}.board-area.burning[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-8px;border-radius:inherit;pointer-events:none;background:repeating-linear-gradient(-45deg,rgba(255,255,255,.03),rgba(255,255,255,.03) 2px,transparent 2px,transparent 6px);animation:_ngcontent-%COMP%_heatWaves .8s linear infinite;mix-blend-mode:overlay}@keyframes _ngcontent-%COMP%_firePulse{0%{opacity:.6}50%{opacity:1}to{opacity:.6}}@keyframes _ngcontent-%COMP%_heatWaves{0%{transform:translateY(0)}to{transform:translateY(-12px)}}@keyframes _ngcontent-%COMP%_burnShake{0%{transform:translate(0)}25%{transform:translate(1px,-1px)}50%{transform:translate(-1px,1px)}75%{transform:translate(1px,1px)}to{transform:translate(0)}}.lightning-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;-webkit-user-select:none;user-select:none;z-index:20;background-image:url(/assets/lightning.webp);background-repeat:no-repeat;background-position:center;background-size:contain;animation:_ngcontent-%COMP%_lightningFlicker 1.2s infinite ease-in-out;transform:scaleY(-1)}@keyframes _ngcontent-%COMP%_lightningFlicker{0%,to{opacity:.7;filter:brightness(1)}50%{opacity:1;filter:brightness(1.5)}}@keyframes _ngcontent-%COMP%_lightningSlide{0%{left:-150%;opacity:0}10%{opacity:1}90%{left:100%;opacity:1}to{left:100%;opacity:0}}.bottom-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;margin-top:auto;gap:16px;width:100%;box-sizing:border-box;padding-top:8px;padding-bottom:8px}.side-panel[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#ffffff0f;border-radius:12px;display:flex;gap:12px;align-items:stretch}.panel-avatar[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-shrink:0}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}.bounce[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce .6s ease-in-out infinite}.droid-avatar[_ngcontent-%COMP%]{height:96px;width:auto;object-fit:contain;filter:drop-shadow(0 4px 8px rgba(0,0,0,.5))}.panel-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:110px;position:relative;flex-grow:1;min-width:0}.panel-content[_ngcontent-%COMP%]{padding:10px 14px;border-radius:12px;font-size:.95rem;line-height:1.4}.dialog[_ngcontent-%COMP%]{position:relative;display:inline-block;max-width:350px;white-space:normal;align-self:flex-start;background-color:#00000073;color:#fff;padding:12px 16px;border-radius:12px;font-size:clamp(.9rem,2.8vw,.98rem);box-shadow:0 2px 8px #0000004d}.dialog[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-8px;top:50%;transform:translateY(-50%);width:0;height:0;border-top:8px solid transparent;border-bottom:8px solid transparent;border-right:8px solid rgba(0,0,0,.4)}.notifications[_ngcontent-%COMP%]{width:75%;text-align:center;background-color:#ffffff14;opacity:.85;margin-top:auto;border-radius:12px;padding:10px 14px;font-size:clamp(.9rem,2.8vw,.98rem);line-height:1.4;align-self:center}.game-footer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;gap:16px}.game-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px;position:relative}.game-footer[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none;cursor:default}.game-footer[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:-24px;right:-12px;background-color:#072ef1;color:#fff;font-size:.7rem;width:18px;height:18px;border-radius:50%;display:flex;justify-content:center;align-items:center;font-weight:700;pointer-events:none;-webkit-user-select:none;user-select:none}.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000d9;display:flex;justify-content:center;align-items:center;color:#fff;z-index:2000;padding:24px;box-sizing:border-box;text-align:center}.overlay.pause-menu[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.overlay.pause-menu[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:24px}.overlay.pause-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:8px 0;width:180px}']})}return n})(),zxe=(()=>{class n{startGame=new ot;openLeaderboard=new ot;openSettings=new ot;cheatSheet=new ot;startGameClick(){this.startGame.emit()}openLeaderboardClick(){this.openLeaderboard.emit()}cheatSheetClick(){this.cheatSheet.emit()}openSettingsClick(){this.openSettings.emit()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=He({type:n,selectors:[["app-start-page"]],outputs:{startGame:"startGame",openLeaderboard:"openLeaderboard",openSettings:"openSettings",cheatSheet:"cheatSheet"},decls:13,vars:0,consts:[[1,"start-page-wrapper"],["src","assets/snowing.gif","alt","Snow falling",1,"snow-overlay"],[1,"start-page"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(r,i){1&r&&(U(0,"div",0),Dt(1,"img",1),U(2,"div",2)(3,"h1"),K(4,"\u{1f384} Mom's Xmas Swap \u{1f381}"),F(),U(5,"button",3),Le("click",function(){return i.startGameClick()}),K(6,"Start"),F(),U(7,"button",4),Le("click",function(){return i.openLeaderboardClick()}),K(8,"Leaderboard"),F(),U(9,"button",4),Le("click",function(){return i.cheatSheetClick()}),K(10,"Cheat Sheet"),F(),U(11,"button",5),Le("click",function(){return i.openSettingsClick()}),K(12,"Settings"),F()()())},dependencies:[Ma,Em,bm],styles:[".start-page-wrapper[_ngcontent-%COMP%]{position:relative;height:100vh;width:100vw;background:linear-gradient(135deg,#122b10,#451a12);overflow:hidden;display:flex;justify-content:center;align-items:center}.start-page[_ngcontent-%COMP%]{position:relative;z-index:1;width:360px;max-width:90vw;padding:32px 24px;background:linear-gradient(135deg,#2a5d34,#a92e2e);border-radius:20px;box-shadow:0 8px 30px #0000004d;color:#f3f3f3;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;text-align:center;display:flex;flex-direction:column;gap:24px}.snow-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;pointer-events:none;-webkit-user-select:none;user-select:none;z-index:0}.start-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:900;margin-bottom:32px;text-shadow:2px 2px 6px rgba(0,0,0,.7)}.start-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:16px 0;font-size:1.25rem;font-weight:700;border-radius:12px;text-transform:uppercase;letter-spacing:1.1px;box-shadow:0 4px 12px #00000040;transition:background-color .3s ease,box-shadow .3s ease;cursor:pointer}.start-page[_ngcontent-%COMP%]   button[color=primary][_ngcontent-%COMP%]{background-color:#a92e2e;color:#fff;border:2px solid #ffd700}.start-page[_ngcontent-%COMP%]   button[color=primary][_ngcontent-%COMP%]:hover{background-color:#7f221f;box-shadow:0 6px 18px #a92e2ecc}.start-page[_ngcontent-%COMP%]   button[color=accent][_ngcontent-%COMP%]{background-color:#2a5d34;color:#fff;border:2px solid #ffd700}.start-page[_ngcontent-%COMP%]   button[color=accent][_ngcontent-%COMP%]:hover{background-color:#1f4225;box-shadow:0 6px 18px #2a5d34cc}.start-page[_ngcontent-%COMP%]   button[color=warn][_ngcontent-%COMP%]{background-color:gold;color:#a92e2e;border:2px solid #a92e2e}.start-page[_ngcontent-%COMP%]   button[color=warn][_ngcontent-%COMP%]:hover{background-color:#e6c200;box-shadow:0 6px 18px #ffd700cc}"]})}return n})();function $xe(n,e){if(1&n){const t=ts();U(0,"app-start-page",2),Le("startGame",function(){return Mn(t),kn(Je().onStartGame())})("openLeaderboard",function(){return Mn(t),kn(Je().onOpenLeaderboard())})("cheatSheet",function(){return Mn(t),kn(Je().onOpenCheatSheet())})("openSettings",function(){return Mn(t),kn(Je().onOpenSettings())}),F()}}function qxe(n,e){if(1&n){const t=ts();U(0,"app-game-page",3),Le("quit",function(){return Mn(t),kn(Je().onQuitGame())}),F()}}(function Ile(n,e,t){return iae({rootComponent:n,platformRef:t?.platformRef,...Bj(e)})})((()=>{class n{playerService;dialog;title="mom-xmas";gameStarted=!1;constructor(t,r){this.playerService=t,this.dialog=r}onStartGame(){this.gameStarted=!0}onOpenLeaderboard(){this.dialog.open(q8,{width:"90%",maxWidth:"400px",disableClose:!0})}onOpenCheatSheet(){this.dialog.open(d7,{width:"90%",maxWidth:"400px",disableClose:!1})}onOpenSettings(){this.dialog.open(u7,{width:"90%",maxWidth:"400px",disableClose:!0}).afterClosed().subscribe(t=>{this.playerService.getPlayerName()?this.playerService.syncLocalToGlobal():this.onOpenSettings()})}onQuitGame(){this.gameStarted=!1}static \u0275fac=function(r){return new(r||n)(z(Mm),z(Sm))};static \u0275cmp=He({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[[3,"startGame","openLeaderboard","cheatSheet","openSettings",4,"ngIf"],[3,"quit",4,"ngIf"],[3,"startGame","openLeaderboard","cheatSheet","openSettings"],[3,"quit"]],template:function(r,i){1&r&&Fe(0,$xe,1,0,"app-start-page",0)(1,qxe,1,0,"app-game-page",1),2&r&&(Ue("ngIf",!i.gameStarted),te(),Ue("ngIf",i.gameStarted))},dependencies:[Ma,xa,zxe,Hxe],encapsulation:2})}return n})(),XIe).catch(n=>console.error(n))}},ah=>{ah(ah.s=2)}]);